(self.webpackChunkbook_network_ui=self.webpackChunkbook_network_ui||[]).push([[179],{8933:(Fe,De,O)=>{"use strict";O.r(De),O.d(De,{BookModule:()=>Gu});var g=O(6814),B=O(6223),X=O(2058),J=O(9862),o=O(9291),K=O(5861),ne=O(8440),be=O(5619),ae=O(7398),oe=O(2181);let se=(()=>{class s{constructor(){this.rootUrl="http://localhost:8088/api/v1"}static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),U=(()=>{class s{constructor(e,i){this.config=e,this.http=i}get rootUrl(){return this._rootUrl||this.config.rootUrl}set rootUrl(e){this._rootUrl=e}static#e=this.\u0275fac=function(i){return new(i||s)(o.LFG(se),o.LFG(J.eN))};static#t=this.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac})}return s})();const Oe=new class Ce{encodeKey(a){return encodeURIComponent(a)}encodeValue(a){return encodeURIComponent(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}};class We{constructor(a,e,i,c,d){this.name=a,this.value=e,this.options=i,this.options=i||{},null==this.options.style&&(this.options.style=c),null==this.options.explode&&(this.options.explode=d)}serializeValue(a,e=","){if(null==a)return"";if(a instanceof Array)return a.map(i=>this.serializeValue(i).split(e).join(encodeURIComponent(e))).join(e);if("object"==typeof a){const i=[];for(const c of Object.keys(a)){let d=a[c];null!=d&&(d=this.serializeValue(d).split(e).join(encodeURIComponent(e)),this.options.explode?i.push(`${c}=${d}`):(i.push(c),i.push(d)))}return i.join(e)}return String(a)}}class Ke extends We{constructor(a,e,i){super(a,e,i,"simple",!1)}append(a){let e=this.value;null==e&&(e="");let i="label"===this.options.style?".":"",c=this.options.explode?""===i?",":i:",",d=!1;return"matrix"===this.options.style&&(i=`;${this.name}=`,this.options.explode&&"object"==typeof e&&(i=";",e instanceof Array?(e=e.map(h=>`${this.name}=${this.serializeValue(h,";")}`),e=e.join(";"),d=!0):(e=this.serializeValue(e,";"),d=!0))),e=i+(d?e:this.serializeValue(e,c)),(a=a.replace(`{${this.name}}`,e)).replace(`{${i}${this.name}${this.options.explode?"*":""}}`,e)}serializeValue(a,e=","){var i="string"==typeof a?encodeURIComponent(a):super.serializeValue(a,e);return(i=(i=i.replace(/%3D/g,"=")).replace(/%3B/g,";")).replace(/%2C/g,",")}}class rt extends We{constructor(a,e,i){super(a,e,i,"form",!0)}append(a){if(this.value instanceof Array){if(!this.options.explode)return a.append(this.name,this.serializeValue(this.value,"spaceDelimited"===this.options.style?" ":"pipeDelimited"===this.options.style?"|":","));for(const e of this.value)a=a.append(this.name,this.serializeValue(e))}else if(null!==this.value&&"object"==typeof this.value)if("deepObject"===this.options.style)for(const e of Object.keys(this.value)){const i=this.value[e];null!=i&&(a=a.append(`${this.name}[${e}]`,this.serializeValue(i)))}else if(this.options.explode)for(const e of Object.keys(this.value)){const i=this.value[e];null!=i&&(a=a.append(e,this.serializeValue(i)))}else{const e=[];for(const i of Object.keys(this.value)){const c=this.value[i];null!=c&&(e.push(i),e.push(c))}a=a.append(this.name,this.serializeValue(e))}else null!=this.value&&(a=a.append(this.name,this.serializeValue(this.value)));return a}}class Mt extends We{constructor(a,e,i){super(a,e,i,"simple",!1)}append(a){if(null!=this.value)if(this.value instanceof Array)for(const e of this.value)a=a.append(this.name,this.serializeValue(e));else a=a.append(this.name,this.serializeValue(this.value));return a}}class Pe{constructor(a,e,i){this.rootUrl=a,this.operationPath=e,this.method=i,this._path=new Map,this._query=new Map,this._header=new Map}path(a,e,i){this._path.set(a,new Ke(a,e,i||{}))}query(a,e,i){this._query.set(a,new rt(a,e,i||{}))}header(a,e,i){this._header.set(a,new Mt(a,e,i||{}))}body(a,e="application/json"){if(this._bodyContentType=a instanceof Blob?a.type:e,"application/x-www-form-urlencoded"===this._bodyContentType&&null!==a&&"object"==typeof a){const i=[];for(const c of Object.keys(a)){let d=a[c];d instanceof Array||(d=[d]);for(const h of d){const p=this.formDataValue(h);null!==p&&i.push([c,p])}}this._bodyContent=i.map(c=>`${encodeURIComponent(c[0])}=${encodeURIComponent(c[1])}`).join("&")}else if("multipart/form-data"===this._bodyContentType){const i=new FormData;if(null!=a)for(const c of Object.keys(a)){const d=a[c];if(d instanceof Array)for(const h of d){const p=this.formDataValue(h);null!==p&&i.append(c,p)}else{const h=this.formDataValue(d);null!==h&&i.set(c,h)}}this._bodyContent=i}else this._bodyContent=a}formDataValue(a){return null==a?null:a instanceof Blob?a:"object"==typeof a?new Blob([JSON.stringify(a)],{type:"application/json"}):String(a)}build(a){a=a||{};let e=this.operationPath;for(const h of this._path.values())e=h.append(e);const i=this.rootUrl+e;let c=new J.LE({encoder:Oe});for(const h of this._query.values())c=h.append(c);let d=new J.WM;a.accept&&(d=d.append("Accept",a.accept));for(const h of this._header.values())d=h.append(d);return this._bodyContentType&&!(this._bodyContent instanceof FormData)&&(d=d.set("Content-Type",this._bodyContentType)),new J.aW(this.method.toUpperCase(),i,this._bodyContent,{params:c,headers:d,responseType:a.responseType,reportProgress:a.reportProgress,context:a.context})}}function it(s,a,e,i){const c=new Pe(a,it.PATH,"patch");return e&&c.path("book-id",e["book-id"],{}),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d.clone({body:parseFloat(String(d.body))})))}function de(s,a,e,i){const c=new Pe(a,de.PATH,"post");return e&&c.path("book-id",e["book-id"],{}),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d.clone({body:parseFloat(String(d.body))})))}function ue(s,a,e,i){const c=new Pe(a,ue.PATH,"get");return e&&(c.query("page",e.page,{}),c.query("size",e.size,{})),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d))}function Le(s,a,e,i){const c=new Pe(a,Le.PATH,"get");return e&&(c.query("page",e.page,{}),c.query("size",e.size,{})),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d))}function pe(s,a,e,i){const c=new Pe(a,pe.PATH,"get");return e&&(c.query("page",e.page,{}),c.query("size",e.size,{})),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d))}function ce(s,a,e,i){const c=new Pe(a,ce.PATH,"get");return e&&(c.query("page",e.page,{}),c.query("size",e.size,{})),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d))}function Re(s,a,e,i){const c=new Pe(a,Re.PATH,"get");return e&&(c.query("page",e.page,{}),c.query("size",e.size,{})),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d))}function ze(s,a,e,i){const c=new Pe(a,ze.PATH,"get");return e&&c.path("book-id",e["book-id"],{}),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d))}function at(s,a,e,i){const c=new Pe(a,at.PATH,"patch");return e&&c.path("book-id",e["book-id"],{}),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d.clone({body:parseFloat(String(d.body))})))}function Je(s,a,e,i){const c=new Pe(a,Je.PATH,"post");return e&&c.body(e.body,"application/json"),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d.clone({body:parseFloat(String(d.body))})))}function Ne(s,a,e,i){const c=new Pe(a,Ne.PATH,"get");return e&&c.query("query",e.query,{}),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d))}function ft(s,a,e,i){const c=new Pe(a,ft.PATH,"patch");return e&&c.path("book-id",e["book-id"],{}),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d.clone({body:parseFloat(String(d.body))})))}function vt(s,a,e,i){const c=new Pe(a,vt.PATH,"patch");return e&&c.path("book-id",e["book-id"],{}),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d.clone({body:parseFloat(String(d.body))})))}function Ut(s,a,e,i){const c=new Pe(a,Ut.PATH,"post");return e&&(c.path("book-id",e["book-id"],{}),c.body(e.body,"multipart/form-data")),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d))}it.PATH="/books/borrow/return/approve/{book-id}",de.PATH="/books/borrow/{book-id}",ue.PATH="/books/archived",Le.PATH="/books",pe.PATH="/books/owner",ce.PATH="/books/borrowed",Re.PATH="/books/returned",ze.PATH="/books/{book-id}",at.PATH="/books/borrow/return/{book-id}",Je.PATH="/books",Ne.PATH="/books/search",ft.PATH="/books/archived/{book-id}",vt.PATH="/books/shareable/{book-id}",Ut.PATH="/books/cover/{book-id}";let vn=(()=>{class s extends U{constructor(e,i){super(e,i)}static#e=this.FindAllBooksPath="/books";findAllBooks$Response(e,i){return Le(this.http,this.rootUrl,e,i)}findAllBooks(e,i){return this.findAllBooks$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#t=this.SaveBookPath="/books";saveBook$Response(e,i){return Je(this.http,this.rootUrl,e,i)}saveBook(e,i){return this.saveBook$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#n=this.UploadBookCoverPicturePath="/books/cover/{book-id}";uploadBookCoverPicture$Response(e,i){return Ut(this.http,this.rootUrl,e,i)}uploadBookCoverPicture(e,i){return this.uploadBookCoverPicture$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#o=this.BorrowBookPath="/books/borrow/{book-id}";borrowBook$Response(e,i){return de(this.http,this.rootUrl,e,i)}borrowBook(e,i){return this.borrowBook$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#i=this.UpdateShareableStatusPath="/books/shareable/{book-id}";updateShareableStatus$Response(e,i){return vt(this.http,this.rootUrl,e,i)}updateShareableStatus(e,i){return this.updateShareableStatus$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#r=this.ReturnBorrowBookPath="/books/borrow/return/{book-id}";returnBorrowBook$Response(e,i){return at(this.http,this.rootUrl,e,i)}returnBorrowBook(e,i){return this.returnBorrowBook$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#s=this.ApproveReturnBorrowBookPath="/books/borrow/return/approve/{book-id}";approveReturnBorrowBook$Response(e,i){return it(this.http,this.rootUrl,e,i)}approveReturnBorrowBook(e,i){return this.approveReturnBorrowBook$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#a=this.UpdateArchivedStatusPath="/books/archived/{book-id}";updateArchivedStatus$Response(e,i){return ft(this.http,this.rootUrl,e,i)}updateArchivedStatus(e,i){return this.updateArchivedStatus$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#c=this.FindBookByIdPath="/books/{book-id}";findBookById$Response(e,i){return ze(this.http,this.rootUrl,e,i)}findBookById(e,i){return this.findBookById$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#l=this.SearchBooksPath="/books/search";searchBooks$Response(e,i){return Ne(this.http,this.rootUrl,e,i)}searchBooks(e,i){return this.searchBooks$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#d=this.FindAllReturnedBooksPath="/books/returned";findAllReturnedBooks$Response(e,i){return Re(this.http,this.rootUrl,e,i)}findAllReturnedBooks(e,i){return this.findAllReturnedBooks$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#u=this.FindAllBooksByOwnerPath="/books/owner";findAllBooksByOwner$Response(e,i){return pe(this.http,this.rootUrl,e,i)}findAllBooksByOwner(e,i){return this.findAllBooksByOwner$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#h=this.FindAllBorrowedBooksPath="/books/borrowed";findAllBorrowedBooks$Response(e,i){return ce(this.http,this.rootUrl,e,i)}findAllBorrowedBooks(e,i){return this.findAllBorrowedBooks$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#f=this.FindAllArchivedBooksPath="/books/archived";findAllArchivedBooks$Response(e,i){return ue(this.http,this.rootUrl,e,i)}findAllArchivedBooks(e,i){return this.findAllArchivedBooks$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#p=this.DeleteBookPath="/books/{book-id}";deleteBook$Response(e,i){const c=new Pe(this.rootUrl,s.DeleteBookPath,"delete");return e&&c.path("book-id",e["book-id"],{}),this.http.request(c.build({responseType:"text",accept:"*/*",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d.clone({body:void 0})))}deleteBook(e,i){return this.deleteBook$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#g=this.\u0275fac=function(i){return new(i||s)(o.LFG(se),o.LFG(J.eN))};static#m=this.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),qn=(()=>{class s{constructor(e){this.bookService=e,this.bookResultsSubject=new be.X({}),this.bookResults$=this.bookResultsSubject.asObservable()}searchBooks(e){this.bookService.searchBooks(e).subscribe(i=>{this.bookResultsSubject.next(i)})}static#e=this.\u0275fac=function(i){return new(i||s)(o.LFG(vn))};static#t=this.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function je(s,a){if(1&s&&(o.TgZ(0,"div",47),o._UZ(1,"img",48),o.qZA()),2&s){const e=o.oxw();o.xp6(1),o.Q6J("src",e.profileImageSrc,o.LSH)}}function Se(s,a){if(1&s&&(o.TgZ(0,"div",49),o._uU(1),o.qZA()),2&s){const e=o.oxw();o.xp6(1),o.Oqu(e.getUserInitial())}}const Xe=function(){return{exact:!0}},et=function(){return{standalone:!0}};let mt=(()=>{class s{constructor(e,i,c,d){this.keycloakService=e,this.bookSearchService=i,this.router=c,this.elementRef=d,this.query="",this.isDropdownOpen=!1,this.userEmail="",this.profileImageSrc=""}ngOnInit(){const e=document.querySelectorAll(".nav-link");e.forEach(i=>{window.location.href.endsWith(i.getAttribute("href")||"")&&i.classList.add("active"),i.addEventListener("click",()=>{e.forEach(c=>c.classList.remove("active")),i.classList.add("active")})}),this.userEmail=this.keycloakService.profile?.email||"",this.loadProfileImage()}get userName(){return this.keycloakService.profile?.firstName}getUserInitial(){return this.userName?this.userName.charAt(0).toUpperCase():"U"}onSearch(){this.query.trim()&&this.bookSearchService.searchBooks({query:this.query})}toggleDropdown(e){e.stopPropagation(),this.isDropdownOpen=!this.isDropdownOpen}closeDropdown(){this.isDropdownOpen=!1}onClickOutside(e){this.elementRef.nativeElement.contains(e.target)||this.closeDropdown()}logout(){var e=this;return(0,K.Z)(function*(){e.closeDropdown(),yield e.keycloakService.logout()})()}loadProfileImage(){const i=localStorage.getItem(`profileImage_${this.keycloakService.username||"default-user"}`);this.profileImageSrc=i||""}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(ne.M),o.Y36(qn),o.Y36(X.F0),o.Y36(o.SBq))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-menu"]],hostBindings:function(i,c){1&i&&o.NdJ("click",function(h){return c.onClickOutside(h)},!1,o.evT)},decls:76,vars:12,consts:[[1,"book-navbar"],[1,"navbar-container"],[1,"navbar-brand"],["routerLink","/books",1,"brand-link"],[1,"brand-logo"],[1,"beta-tag"],[1,"navbar-links"],["routerLink","/books","routerLinkActive","active",1,"nav-item","home-link",3,"routerLinkActiveOptions"],[1,"fas","fa-home-alt"],["routerLink","/books/featured","routerLinkActive","active",1,"nav-item","featured-link"],[1,"fas","fa-star"],["routerLink","/books/my-books","routerLinkActive","active",1,"nav-item","my-books-link"],[1,"fas","fa-book"],["routerLink","/books/favorites","routerLinkActive","active",1,"nav-item","favorites-link"],[1,"fas","fa-heart"],["routerLink","/books/archived-books","routerLinkActive","active",1,"nav-item","archive-link"],[1,"fas","fa-archive"],["routerLink","/books/my-returned-books","routerLinkActive","active",1,"nav-item","return-link"],[1,"fa-solid","fa-truck-fast"],["routerLink","/books/my-borrowed-books","routerLinkActive","active",1,"nav-item","borrow-link"],[1,"fas","fa-list-check"],[1,"navbar-actions"],[1,"search-box"],["type","text","placeholder","Find a book...",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],[1,"search-btn",3,"click"],[1,"fas","fa-search"],[1,"user-dropdown"],["userDropdown",""],[1,"user-button",3,"click"],["class","user-avatar",4,"ngIf","ngIfElse"],["userInitial",""],[1,"user-info"],[1,"user-greeting"],[1,"user-name"],[1,"fas","fa-chevron-down","dropdown-arrow"],[1,"dropdown-menu"],["routerLink","/profile",1,"dropdown-item",3,"click"],[1,"fas","fa-user"],["routerLink","/profile/edit",1,"dropdown-item",3,"click"],[1,"fas","fa-user-edit"],["routerLink","/dashboard",1,"dropdown-item",3,"click"],[1,"fas","fa-chart-line"],["routerLink","/books/chat",1,"dropdown-item",3,"click"],[1,"fas","fa-comments"],[1,"dropdown-divider"],[1,"dropdown-item","logout-item",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"user-avatar"],["alt","Profile",3,"src"],[1,"user-initial"]],template:function(i,c){if(1&i&&(o.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"div",4),o._uU(5,"BSN"),o.qZA(),o.TgZ(6,"span",5),o._uU(7,"BETA"),o.qZA()()(),o.TgZ(8,"div",6)(9,"a",7),o._UZ(10,"i",8),o.TgZ(11,"span"),o._uU(12,"Home"),o.qZA()(),o.TgZ(13,"a",9),o._UZ(14,"i",10),o.TgZ(15,"span"),o._uU(16,"Featured"),o.qZA()(),o.TgZ(17,"a",11),o._UZ(18,"i",12),o.TgZ(19,"span"),o._uU(20,"My Books"),o.qZA()(),o.TgZ(21,"a",13),o._UZ(22,"i",14),o.TgZ(23,"span"),o._uU(24,"Favorites"),o.qZA()(),o.TgZ(25,"a",15),o._UZ(26,"i",16),o.TgZ(27,"span"),o._uU(28,"Archived"),o.qZA()(),o.TgZ(29,"a",17),o._UZ(30,"i",18),o.TgZ(31,"span"),o._uU(32,"Returned"),o.qZA()(),o.TgZ(33,"a",19),o._UZ(34,"i",20),o.TgZ(35,"span"),o._uU(36,"Borrowed"),o.qZA()()(),o.TgZ(37,"div",21)(38,"div",22)(39,"input",23),o.NdJ("ngModelChange",function(h){return c.query=h})("keyup.enter",function(){return c.onSearch()}),o.qZA(),o.TgZ(40,"button",24),o.NdJ("click",function(){return c.onSearch()}),o._UZ(41,"i",25),o.qZA()(),o.TgZ(42,"div",26,27)(44,"div",28),o.NdJ("click",function(h){return c.toggleDropdown(h)}),o.YNc(45,je,2,1,"div",29),o.YNc(46,Se,2,1,"ng-template",null,30,o.W1O),o.TgZ(48,"div",31)(49,"span",32),o._uU(50,"Hi,"),o.qZA(),o.TgZ(51,"span",33),o._uU(52),o.qZA()(),o._UZ(53,"i",34),o.qZA(),o.TgZ(54,"div",35)(55,"a",36),o.NdJ("click",function(){return c.closeDropdown()}),o._UZ(56,"i",37),o.TgZ(57,"span"),o._uU(58,"View Profile"),o.qZA()(),o.TgZ(59,"a",38),o.NdJ("click",function(){return c.closeDropdown()}),o._UZ(60,"i",39),o.TgZ(61,"span"),o._uU(62,"Edit Profile"),o.qZA()(),o.TgZ(63,"a",40),o.NdJ("click",function(){return c.closeDropdown()}),o._UZ(64,"i",41),o.TgZ(65,"span"),o._uU(66,"Dashboard"),o.qZA()(),o.TgZ(67,"a",42),o.NdJ("click",function(){return c.closeDropdown()}),o._UZ(68,"i",43),o.TgZ(69,"span"),o._uU(70,"Book Chat"),o.qZA()(),o._UZ(71,"div",44),o.TgZ(72,"a",45),o.NdJ("click",function(){return c.logout()}),o._UZ(73,"i",46),o.TgZ(74,"span"),o._uU(75,"Logout"),o.qZA()()()()()()()),2&i){const d=o.MAs(47);o.xp6(9),o.Q6J("routerLinkActiveOptions",o.DdM(10,Xe)),o.xp6(30),o.Q6J("ngModel",c.query)("ngModelOptions",o.DdM(11,et)),o.xp6(6),o.Q6J("ngIf",c.profileImageSrc)("ngIfElse",d),o.xp6(7),o.Oqu(c.userName),o.xp6(1),o.ekj("open",c.isDropdownOpen),o.xp6(1),o.ekj("show",c.isDropdownOpen)}},dependencies:[g.O5,B.Fj,B.JJ,B.On,X.rH,X.Od],styles:['.book-navbar[_ngcontent-%COMP%]{background-color:#5b4636;box-shadow:0 3px 10px #0003;position:sticky;top:0;z-index:1000;border-top:3px solid #D4AF37;border-bottom:1px solid #8B5A2B}.navbar-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;max-width:1400px;margin:0 auto}@media (max-width: 1024px){.navbar-container[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}}.navbar-brand[_ngcontent-%COMP%]{margin-right:20px}@media (max-width: 1024px){.navbar-brand[_ngcontent-%COMP%]{margin-right:0}}.brand-link[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none}.brand-logo[_ngcontent-%COMP%]{font-size:24px;font-weight:800;color:beige;background-color:#ffffff1a;padding:5px 10px;border-radius:4px;letter-spacing:1px;border:1px solid rgba(255,255,255,.2);box-shadow:0 2px 5px #0000001a}.beta-tag[_ngcontent-%COMP%]{font-size:10px;font-weight:700;background-color:#9b2335;color:#fff;padding:2px 6px;border-radius:4px;margin-left:6px}.navbar-links[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;justify-content:center;gap:5px}@media (max-width: 1024px){.navbar-links[_ngcontent-%COMP%]{order:3;width:100%;overflow-x:auto;justify-content:flex-start;padding:8px 0}}.nav-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:6px 12px;border-radius:6px;text-decoration:none;color:beige;transition:all .2s ease;position:relative;min-width:70px}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-bottom:4px}.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.nav-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.nav-item.active[_ngcontent-%COMP%]{background-color:#ffffff26}.nav-item.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:15%;right:15%;height:2px;background-color:#d4af37;border-radius:1px}.nav-item.home-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9b2335}.nav-item.featured-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d4af37}.nav-item.my-books-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2e8b57}.nav-item.favorites-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff6b6b}.nav-item.archive-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4169e1}.nav-item.return-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:purple}.nav-item.borrow-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:coral}.navbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}@media (max-width: 1024px){.navbar-actions[_ngcontent-%COMP%]{margin-left:auto}}@media (max-width: 576px){.navbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-end;gap:10px}}.search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background-color:beige;border-radius:20px;overflow:hidden;box-shadow:0 2px 5px #0000001a;border:1px solid #8B5A2B;transition:all .2s ease}.search-box[_ngcontent-%COMP%]:focus-within{box-shadow:0 3px 8px #0003;border-color:#d4af37}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;color:#5b4636;padding:8px 12px;width:180px;font-size:14px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9e9e9e}@media (max-width: 576px){.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:140px}}.search-box[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{background-color:#5b4636;border:none;color:beige;width:32px;height:32px;border-radius:0;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.search-box[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background-color:#9b2335}.user-dropdown[_ngcontent-%COMP%]{position:relative}.user-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background-color:#ffffff1a;padding:6px 12px;border-radius:20px;cursor:pointer;transition:all .2s ease;border:1px solid rgba(255,255,255,.2)}.user-button[_ngcontent-%COMP%]:hover{background-color:#ffffff26}.user-button[_ngcontent-%COMP%]   .user-initial[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background-color:beige;color:#5b4636;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16px}.user-button[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (max-width: 576px){.user-button[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:none}}.user-button[_ngcontent-%COMP%]   .user-greeting[_ngcontent-%COMP%]{font-size:11px;color:#ffffffb3}.user-button[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:beige}.user-button[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{color:beige;font-size:12px;transition:transform .2s ease;margin-left:4px}.user-button[_ngcontent-%COMP%]   .dropdown-arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);right:0;width:220px;background-color:#fff;border-radius:8px;box-shadow:0 10px 25px #00000026;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all .3s ease;z-index:1010;overflow:hidden;border:1px solid #E0E0E0}.dropdown-menu.show[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.dropdown-menu[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-5px;right:20px;width:10px;height:10px;background-color:#fff;transform:rotate(45deg);border-top:1px solid #E0E0E0;border-left:1px solid #E0E0E0}.dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px 15px;color:#424242;text-decoration:none;transition:all .2s ease;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;color:#757575;width:20px;text-align:center}.dropdown-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.dropdown-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#5b4636}.dropdown-item.logout-item[_ngcontent-%COMP%]:hover{background-color:#f443361a}.dropdown-item.logout-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#f44336}.dropdown-divider[_ngcontent-%COMP%]{height:1px;background-color:#e0e0e0;margin:5px 0}.user-button[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;padding:6px 12px;border-radius:50px;background-color:#fff3;transition:all .3s ease}.user-button[_ngcontent-%COMP%]:hover{background-color:#ffffff4d}.user-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;overflow:hidden;margin-right:8px;background-color:#f5f5f5;display:flex;align-items:center;justify-content:center}.user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-initial[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-color:#f5f5f5;color:#333;display:flex;align-items:center;justify-content:center;font-weight:600;margin-right:8px}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:8px}.user-info[_ngcontent-%COMP%]   .user-greeting[_ngcontent-%COMP%]{font-size:12px;color:#ffffffb3}.user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#fff}.dropdown-arrow[_ngcontent-%COMP%]{font-size:12px;color:#ffffffb3;transition:transform .3s ease}.dropdown-arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}']})}return s})(),yt=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-main"]],decls:4,vars:0,consts:[[1,"d-flex","flex-column","gap-1"],[1,"pe-2","ps-2"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0),o._UZ(1,"app-menu"),o.TgZ(2,"div",1),o._UZ(3,"router-outlet"),o.qZA()())},dependencies:[X.lC,mt],styles:["[_ngcontent-%COMP%]:root{--primary: #4361ee;--primary-light: #4895ef;--secondary: #3f37c9;--accent: #f72585;--success: #4cc9f0;--warning: #f9c74f;--danger: #f94144;--dark: #2b2d42;--light: #f8f9fa;--gray: #8d99ae;--white: #ffffff}body[_ngcontent-%COMP%]{background-color:#f0f2f5;color:var(--dark);font-family:Nunito,Segoe UI,Roboto,sans-serif}.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary);border-color:var(--primary)}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:var(--primary-light);border-color:var(--primary-light)}.btn-danger[_ngcontent-%COMP%]{background-color:var(--danger);border-color:var(--danger)}.text-danger[_ngcontent-%COMP%]{color:var(--danger)!important}.btn-outline-primary[_ngcontent-%COMP%]{color:var(--primary);border-color:var(--primary)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary)}.card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 6px #0000001a;border:none;transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 15px #0000001a}"]})}return s})();var Zt=O(4716),on=O(6306),Bn=O(2096),Qt=O(8504);const Un_apiUrl="http://localhost:8088/api/v1";let Vt=(()=>{class s{constructor(e){this.http=e,this.apiUrl=`${Un_apiUrl}/favorites`}getFavorites(){return this.http.get(this.apiUrl).pipe((0,on.K)(e=>500===e.status&&"User not found"===e.error?.error?(console.warn("User authentication issue - returning empty favorites list"),(0,Bn.of)([])):(console.error("Error fetching favorites:",e),(0,Bn.of)([]))))}addFavorite(e){return this.http.post(`${this.apiUrl}/${e}`,{}).pipe((0,on.K)(i=>(console.error("Error adding favorite:",i),(0,Qt._)(()=>new Error("Failed to add to favorites")))))}removeFavorite(e){return this.http.delete(`${this.apiUrl}/${e}`).pipe((0,on.K)(i=>(console.error("Error removing favorite:",i),(0,Qt._)(()=>new Error("Failed to remove from favorites")))))}static#e=this.\u0275fac=function(i){return new(i||s)(o.LFG(J.eN))};static#t=this.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function fe(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"i",6),o.NdJ("click",function(){const d=o.CHM(e).index,h=o.oxw();return o.KtG(h.onStarClick(d+1))})("mouseenter",function(){const d=o.CHM(e).index,h=o.oxw();return o.KtG(h.onStarHover(d+1))}),o.qZA()}if(2&s){const e=o.oxw();o.ekj("clickable",!e.readonly)}}function Ue(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"i",7),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.onStarClick(c.fullStars+1))})("mouseenter",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.onStarHover(c.fullStars+1))}),o.qZA()}if(2&s){const e=o.oxw();o.ekj("clickable",!e.readonly)}}function pt(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"i",8),o.NdJ("click",function(){const d=o.CHM(e).index,h=o.oxw();return o.KtG(h.onStarClick(h.fullStars+(h.hasHalfStar?1:0)+d+1))})("mouseenter",function(){const d=o.CHM(e).index,h=o.oxw();return o.KtG(h.onStarHover(h.fullStars+(h.hasHalfStar?1:0)+d+1))}),o.qZA()}if(2&s){const e=o.oxw();o.ekj("clickable",!e.readonly)}}function dt(s,a){if(1&s&&(o.TgZ(0,"span",9),o._uU(1),o.qZA()),2&s){const e=o.oxw();o.xp6(1),o.hij(" ",e.formattedRating," ")}}const $e=function(){return[]};let Dt=(()=>{class s{constructor(){this.rating=0,this.readonly=!1,this.showRatingValue=!0,this.ratingClicked=new o.vpe,this.maxRating=5}get fullStars(){return Math.floor(this.rating)}get hasHalfStar(){return this.rating%1!=0}get emptyStars(){return this.maxRating-Math.ceil(this.rating)}get formattedRating(){return this.rating.toFixed(1)}onStarClick(e){this.readonly||this.ratingClicked.emit(e)}onStarHover(e){}static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-rating"]],inputs:{rating:"rating",readonly:"readonly",showRatingValue:"showRatingValue"},outputs:{ratingClicked:"ratingClicked"},decls:6,vars:8,consts:[[1,"rating-container"],[1,"stars"],["class","fas fa-star star filled",3,"clickable","click","mouseenter",4,"ngFor","ngForOf"],["class","fas fa-star-half-alt star half-filled",3,"clickable","click","mouseenter",4,"ngIf"],["class","far fa-star star empty",3,"clickable","click","mouseenter",4,"ngFor","ngForOf"],["class","rating-value",4,"ngIf"],[1,"fas","fa-star","star","filled",3,"click","mouseenter"],[1,"fas","fa-star-half-alt","star","half-filled",3,"click","mouseenter"],[1,"far","fa-star","star","empty",3,"click","mouseenter"],[1,"rating-value"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,fe,1,2,"i",2),o.YNc(3,Ue,1,2,"i",3),o.YNc(4,pt,1,2,"i",4),o.qZA(),o.YNc(5,dt,2,1,"span",5),o.qZA()),2&i&&(o.xp6(1),o.ekj("interactive",!c.readonly),o.xp6(1),o.Q6J("ngForOf",o.DdM(6,$e).constructor(c.fullStars)),o.xp6(1),o.Q6J("ngIf",c.hasHalfStar),o.xp6(1),o.Q6J("ngForOf",o.DdM(7,$e).constructor(c.emptyStars)),o.xp6(1),o.Q6J("ngIf",c.showRatingValue&&c.rating>0))},dependencies:[g.sg,g.O5],styles:[".rating-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.stars[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2px}.stars.interactive[_ngcontent-%COMP%]{cursor:pointer}.star[_ngcontent-%COMP%]{font-size:14px;transition:all .2s ease}.star.filled[_ngcontent-%COMP%], .star.half-filled[_ngcontent-%COMP%]{color:#f59e0b}.star.empty[_ngcontent-%COMP%]{color:#d1d5db}.star.clickable[_ngcontent-%COMP%]{cursor:pointer}.star.clickable[_ngcontent-%COMP%]:hover{transform:scale(1.1);filter:brightness(1.2)}.rating-value[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-weight:500;margin-left:4px}"]})}return s})();function Ot(s,a){1&s&&(o.TgZ(0,"span"),o._uU(1,"Archived"),o.qZA())}function wt(s,a){1&s&&(o.TgZ(0,"span"),o._uU(1,"Available"),o.qZA())}function kt(s,a){if(1&s&&(o.TgZ(0,"div",21),o.YNc(1,Ot,2,0,"span",22),o.YNc(2,wt,2,0,"span",22),o.qZA()),2&s){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.book.archived),o.xp6(1),o.Q6J("ngIf",!e.book.archived&&e.book.shareable)}}function jt(s,a){1&s&&(o.TgZ(0,"div",23)(1,"div",24)(2,"span",25),o._uU(3,"Loading..."),o.qZA()()())}function Gt(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",26)(1,"div",27),o._UZ(2,"i",28),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"button",29),o.NdJ("click",function(c){return o.CHM(e),o.oxw().errorMessage=null,o.KtG(c.stopPropagation())}),o._UZ(6,"i",30),o.qZA()()()}if(2&s){const e=o.oxw();o.xp6(4),o.Oqu(e.errorMessage)}}function an(s,a){if(1&s&&(o.TgZ(0,"div",31)(1,"span",32),o._UZ(2,"i",32),o._uU(3),o.qZA()()),2&s){const e=o.oxw();o.xp6(1),o.Q6J("ngClass",e.getGenreClass(e.book.genre)),o.xp6(1),o.Q6J("ngClass",e.getGenreIcon(e.book.genre)),o.xp6(1),o.hij(" ",e.formatGenre(e.book.genre)," ")}}function un(s,a){1&s&&o._UZ(0,"span",37)}function dn(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",33),o.NdJ("click",function(c){return o.CHM(e),o.oxw().toggleFavorite(),o.KtG(c.stopPropagation())}),o.TgZ(1,"button",34),o._UZ(2,"i",35),o.YNc(3,un,1,0,"span",36),o.qZA()()}if(2&s){const e=o.oxw();o.xp6(1),o.ekj("favorited",e.isFavorited)("disabled",e.favoriteLoading),o.xp6(1),o.Q6J("ngClass","fa-heart"),o.xp6(1),o.Q6J("ngIf",e.favoriteLoading)}}function Zo(s,a){if(1&s&&(o.TgZ(0,"div",38),o._UZ(1,"i",39),o.TgZ(2,"span"),o._uU(3),o.qZA()()),2&s){const e=o.oxw();o.xp6(3),o.Oqu(e.formatUsername(e.book.owner))}}function Jo(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"button",46),o.NdJ("click",function(c){o.CHM(e);const d=o.oxw(2);return d.onViewProfile(d.book.owner),o.KtG(c.stopPropagation())}),o._UZ(1,"i",47),o.qZA()}}function ni(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",40)(1,"button",41),o.NdJ("click",function(c){return o.CHM(e),o.oxw().onShowDetails(),o.KtG(c.stopPropagation())}),o._UZ(2,"i",42),o.qZA(),o.TgZ(3,"button",43),o.NdJ("click",function(c){return o.CHM(e),o.oxw().onBorrow(),o.KtG(c.stopPropagation())}),o._UZ(4,"i",44),o.qZA(),o.YNc(5,Jo,2,0,"button",45),o.qZA()}if(2&s){const e=o.oxw();o.xp6(5),o.Q6J("ngIf",e.book.owner&&"Unknown Owner"!==e.book.owner)}}function mi(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",48)(1,"button",49),o.NdJ("click",function(c){return o.CHM(e),o.oxw().onEdit(),o.KtG(c.stopPropagation())}),o._UZ(2,"i",50),o.qZA(),o.TgZ(3,"button",51),o.NdJ("click",function(c){return o.CHM(e),o.oxw().onShare(),o.KtG(c.stopPropagation())}),o._UZ(4,"i",52),o.qZA(),o.TgZ(5,"button",53),o.NdJ("click",function(c){return o.CHM(e),o.oxw().onArchive(),o.KtG(c.stopPropagation())}),o._UZ(6,"i",54),o.qZA(),o.TgZ(7,"button",55),o.NdJ("click",function(c){return o.CHM(e),o.oxw().onDelete(c),o.KtG(c.stopPropagation())}),o._UZ(8,"i",56),o.qZA()()}}let so=(()=>{class s{constructor(e,i,c){this.favoriteService=e,this.keycloakService=i,this.router=c,this._book={},this._manage=!1,this.isFavorited=!1,this.isLoading=!1,this.favoriteLoading=!1,this.errorMessage=null,this.share=new o.vpe,this.archive=new o.vpe,this.addToWaitingList=new o.vpe,this.borrow=new o.vpe,this.edit=new o.vpe,this.details=new o.vpe,this.favoriteChanged=new o.vpe,this.bookDeleted=new o.vpe,this.viewProfile=new o.vpe,this.ratingChanged=new o.vpe}ngOnInit(){this.checkFavoriteStatus()}ngOnChanges(e){e.book&&e.book.currentValue?.id!==e.book.previousValue?.id&&this.checkFavoriteStatus()}formatGenre(e){return e?e.charAt(0)+e.slice(1).toLowerCase():"Unknown"}formatUsername(e){return e?e.includes("-")&&e.length>20?`User ${e.split("-")[0]}`:e.includes("@")?e.split("@")[0]:e:"Unknown"}getGenreClass(e){switch(e){case"ROMANCE":return"badge-romance";case"HORROR":return"badge-horror";case"COMEDY":return"badge-comedy";case"SCIFI":return"badge-scifi";case"FANTASY":return"badge-fantasy";default:return"badge-secondary"}}checkFavoriteStatus(){this._book?.id&&(this.isLoading=!0,this.errorMessage=null,this.favoriteService.getFavorites().pipe((0,Zt.x)(()=>this.isLoading=!1)).subscribe({next:e=>{this.isFavorited=e.some(i=>i.id===this._book.id)},error:e=>{console.error("Error fetching favorite status:",e),this.errorMessage="Could not load favorite status",this.isFavorited=!1}}))}get bookCover(){try{if(this._book.cover){if(Array.isArray(this._book.cover)&&this._book.cover.length>0)return"data:image/jpg;base64,"+this._book.cover[0];if("string"==typeof this._book.cover)return"data:image/jpg;base64,"+this._book.cover}}catch(e){console.error("Error parsing image data:",e,this._book.cover)}return"https://via.placeholder.com/200x300?text=Book+Cover"}get book(){return this._book}set book(e){this._book=e}get manage(){return this._manage}set manage(e){this._manage=e}get isOwner(){return this._book.owner===this.keycloakService.username}onShare(){this.share.emit(this._book)}onArchive(){this.archive.emit(this._book)}onAddToWaitingList(){this.addToWaitingList.emit(this._book)}onBorrow(){this.borrow.emit(this._book)}onEdit(){this.edit.emit(this._book)}onShowDetails(){this.details.emit(this._book)}onDelete(e){e.stopPropagation(),confirm("Are you sure you want to delete this book? This action cannot be undone.")&&this.bookDeleted.emit(this._book.id)}onViewProfile(e){if(!e&&this._book.owner&&(e=this._book.owner),e){const i=this.formatUsername(e);console.log("Navigating to profile for user:",e),console.log("Formatted username:",i),this.router.navigate(["/profile",e]),this.viewProfile.emit(e)}else console.error("Cannot view profile: No user ID available"),this.errorMessage="Cannot view profile: User information not available",setTimeout(()=>{this.errorMessage=null},3e3)}onRatingClick(e){this.ratingChanged.emit({book:this._book,rating:e})}toggleFavorite(){!this._book.id||this.favoriteLoading||(this.favoriteLoading=!0,this.errorMessage=null,this.isFavorited?this.favoriteService.removeFavorite(this._book.id).pipe((0,Zt.x)(()=>this.favoriteLoading=!1)).subscribe({next:()=>{this.isFavorited=!1,this.favoriteChanged.emit({book:this._book,isFavorited:!1})},error:e=>{console.error("Error removing from favorites:",e),this.errorMessage="Failed to remove from favorites"}}):this.favoriteService.addFavorite(this._book.id).pipe((0,Zt.x)(()=>this.favoriteLoading=!1)).subscribe({next:()=>{this.isFavorited=!0,this.favoriteChanged.emit({book:this._book,isFavorited:!0})},error:e=>{console.error("Error adding to favorites:",e),this.errorMessage="Failed to add to favorites"}}))}getGenreIcon(e){switch(e){case"ROMANCE":return"fa-heart";case"HORROR":return"fa-ghost";case"COMEDY":return"fa-laugh";case"SCIFI":return"fa-rocket";case"FANTASY":return"fa-hat-wizard";default:return"fa-book"}}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(Vt),o.Y36(ne.M),o.Y36(X.F0))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-book-card"]],inputs:{book:"book",manage:"manage"},outputs:{share:"share",archive:"archive",addToWaitingList:"addToWaitingList",borrow:"borrow",edit:"edit",details:"details",favoriteChanged:"favoriteChanged",bookDeleted:"bookDeleted",viewProfile:"viewProfile",ratingChanged:"ratingChanged"},features:[o.TTD],decls:25,vars:21,consts:[[1,"book-card",3,"click"],["class","status-ribbon",4,"ngIf"],["class","loading-overlay",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"book-cover-container"],[1,"book-cover",3,"src","alt"],[1,"cover-overlay"],["class","genre-badge",4,"ngIf"],["class","favorite-btn-container",3,"click",4,"ngIf"],[1,"book-details"],[1,"book-title",3,"title"],[1,"book-meta"],[1,"author"],[1,"fas","fa-feather-alt"],["class","owner",4,"ngIf"],[1,"book-rating",3,"click"],[3,"rating","readonly","showRatingValue","ratingClicked"],[1,"synopsis"],[1,"book-actions"],["class","action-buttons",4,"ngIf"],["class","action-buttons admin",4,"ngIf"],[1,"status-ribbon"],[4,"ngIf"],[1,"loading-overlay"],[1,"spinner"],[1,"visually-hidden"],[1,"error-message"],[1,"error-content"],[1,"fas","fa-exclamation-circle"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"genre-badge"],[3,"ngClass"],[1,"favorite-btn-container",3,"click"],[1,"btn-favorite"],[1,"fas",3,"ngClass"],["class","favorite-loader",4,"ngIf"],[1,"favorite-loader"],[1,"owner"],[1,"fas","fa-user"],[1,"action-buttons"],["title","Details",1,"action-btn","info",3,"click"],[1,"fas","fa-info-circle"],["title","Borrow",1,"action-btn","primary",3,"click"],[1,"fas","fa-book-reader"],["class","action-btn warning","title","View Profile",3,"click",4,"ngIf"],["title","View Profile",1,"action-btn","warning",3,"click"],[1,"fas","fa-user-circle"],[1,"action-buttons","admin"],["title","Edit",1,"action-btn","success",3,"click"],[1,"fas","fa-edit"],["title","Share",1,"action-btn","primary",3,"click"],[1,"fas","fa-share-alt"],["title","Archive",1,"action-btn","warning",3,"click"],[1,"fas","fa-archive"],["title","Delete",1,"action-btn","danger",3,"click"],[1,"fas","fa-trash-alt"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return c.onShowDetails()}),o.YNc(1,kt,3,2,"div",1),o.YNc(2,jt,4,0,"div",2),o.YNc(3,Gt,7,1,"div",3),o.TgZ(4,"div",4),o._UZ(5,"img",5)(6,"div",6),o.YNc(7,an,4,3,"div",7),o.YNc(8,dn,4,6,"div",8),o.qZA(),o.TgZ(9,"div",9)(10,"h3",10),o._uU(11),o.qZA(),o.TgZ(12,"div",11)(13,"div",12),o._UZ(14,"i",13),o.TgZ(15,"span"),o._uU(16),o.qZA()(),o.YNc(17,Zo,4,1,"div",14),o.qZA(),o.TgZ(18,"div",15),o.NdJ("click",function(h){return h.stopPropagation()}),o.TgZ(19,"app-rating",16),o.NdJ("ratingClicked",function(h){return c.onRatingClick(h)}),o.qZA()(),o.TgZ(20,"p",17),o._uU(21),o.qZA()(),o.TgZ(22,"div",18),o.YNc(23,ni,6,1,"div",19),o.YNc(24,mi,9,0,"div",20),o.qZA()()),2&i&&(o.ekj("shareable",c.book.shareable)("archived",c.book.archived),o.xp6(1),o.Q6J("ngIf",c.book.archived||c.book.shareable),o.xp6(1),o.Q6J("ngIf",c.isLoading),o.xp6(1),o.Q6J("ngIf",c.errorMessage),o.xp6(2),o.s9C("alt",c.book.title),o.Q6J("src",c.bookCover,o.LSH),o.xp6(2),o.Q6J("ngIf",c.book.genre),o.xp6(1),o.Q6J("ngIf",!c.manage),o.xp6(2),o.Q6J("title",c.book.title),o.xp6(1),o.Oqu(c.book.title),o.xp6(5),o.Oqu(c.book.authorName),o.xp6(1),o.Q6J("ngIf",c.book.owner&&"Unknown Owner"!==c.book.owner),o.xp6(2),o.Q6J("rating",c.book.rate||0)("readonly",c.manage)("showRatingValue",!0),o.xp6(2),o.Oqu(c.book.synopsis),o.xp6(2),o.Q6J("ngIf",!c.manage),o.xp6(1),o.Q6J("ngIf",c.manage))},dependencies:[g.mk,g.O5,Dt],styles:[".book-card[_ngcontent-%COMP%]{position:relative;width:300px;height:450px;background-color:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 15px #0000001a;transition:all .3s cubic-bezier(.25,.8,.25,1);cursor:pointer;margin:1rem}.book-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 15px 30px #00000026}.book-card[_ngcontent-%COMP%]:hover   .book-cover[_ngcontent-%COMP%]{transform:scale(1.08)}.book-card[_ngcontent-%COMP%]:hover   .cover-overlay[_ngcontent-%COMP%]{opacity:.7}.book-card[_ngcontent-%COMP%]:hover   .book-title[_ngcontent-%COMP%]{color:#6366f1}.book-card.shareable[_ngcontent-%COMP%]{border-left:4px solid #22c55e}.book-card.archived[_ngcontent-%COMP%]{border-left:4px solid #f59e0b;opacity:.8}.status-ribbon[_ngcontent-%COMP%]{position:absolute;top:20px;left:-30px;transform:rotate(-45deg);z-index:2}.status-ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:120px;background-color:#1e293bcc;color:#fff;text-align:center;padding:5px 0;font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:1px;box-shadow:0 2px 4px #0003}.book-archived[_ngcontent-%COMP%]   .status-ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#f59e0be6}.book-shareable[_ngcontent-%COMP%]   .status-ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#22c55ee6}.book-cover-container[_ngcontent-%COMP%]{position:relative;height:200px;overflow:hidden}.book-cover[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.cover-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(0deg,rgba(30,41,59,.8) 0%,rgba(30,41,59,0) 50%);opacity:.5;transition:all .3s cubic-bezier(.25,.8,.25,1)}.genre-badge[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;z-index:2}.genre-badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:6px 12px;border-radius:30px;font-size:.75rem;font-weight:600;box-shadow:0 3px 8px #00000026;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);transition:all .2s ease}.genre-badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px;font-size:.8rem}.genre-badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0003}.genre-badge[_ngcontent-%COMP%]   span.badge-romance[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b81,#ff4757);color:#fff}.genre-badge[_ngcontent-%COMP%]   span.badge-horror[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2f3542,#1e272e);color:#fff}.genre-badge[_ngcontent-%COMP%]   span.badge-comedy[_ngcontent-%COMP%]{background:linear-gradient(135deg,#feca57,#ff9f1a);color:#2d3436}.genre-badge[_ngcontent-%COMP%]   span.badge-scifi[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00d2d3,#01a3a4);color:#fff}.genre-badge[_ngcontent-%COMP%]   span.badge-fantasy[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7d5fff,#5f27cd);color:#fff}.genre-badge[_ngcontent-%COMP%]   span.badge-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a4b0be,#747d8c);color:#fff}.favorite-btn-container[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;z-index:3}.btn-favorite[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#ffffffe6;border:none;display:flex;align-items:center;justify-content:center;transition:all .2s ease;box-shadow:0 3px 10px #00000026}.btn-favorite[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;color:#64748b;transition:all .2s ease}.btn-favorite[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.05);background-color:#fff}.btn-favorite[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#ef4444}.btn-favorite.favorited[_ngcontent-%COMP%]{background-color:#fff}.btn-favorite.favorited[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ef4444;animation:_ngcontent-%COMP%_heartbeat 1.5s infinite}.btn-favorite.disabled[_ngcontent-%COMP%]{opacity:.7;cursor:not-allowed}.favorite-loader[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:50%;border:2px solid transparent;border-top-color:#6366f1;animation:_ngcontent-%COMP%_spin .8s linear infinite}.book-details[_ngcontent-%COMP%]{padding:15px;height:180px;overflow-y:auto}.book-details[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.book-details[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:10px}.book-details[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#64748b;border-radius:10px}.book-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin-bottom:8px;color:#334155;transition:color .3s ease;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.book-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;margin-bottom:10px}.book-meta[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .book-meta[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.85rem;color:#64748b}.book-meta[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .book-meta[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px;font-size:.8rem;width:16px;text-align:center}.book-meta[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .book-meta[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.book-rating[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.book-rating[_ngcontent-%COMP%]   .rating-value[_ngcontent-%COMP%]{margin-left:7px;font-weight:600;color:#6366f1}.synopsis[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;line-height:1.5}.book-actions[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;padding:12px 15px;background-color:#f1f5f9f2;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-top:1px solid rgba(30,41,59,.05);display:flex;justify-content:flex-end}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.action-buttons.admin[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.action-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:12px;padding:0;display:flex;align-items:center;justify-content:center;transition:all .2s ease;border:none;background-color:#3341550d;color:#64748b}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 10px #0000001a}.action-btn.info[_ngcontent-%COMP%]:hover{background-color:#3b82f6;color:#fff}.action-btn.primary[_ngcontent-%COMP%]:hover{background-color:#6366f1;color:#fff}.action-btn.success[_ngcontent-%COMP%]:hover{background-color:#22c55e;color:#fff}.action-btn.warning[_ngcontent-%COMP%]:hover{background-color:#f59e0b;color:#fff}.action-btn.danger[_ngcontent-%COMP%]:hover{background-color:#ef4444;color:#fff}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fffc;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);display:flex;align-items:center;justify-content:center;z-index:10}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid transparent;border-top-color:#6366f1;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.error-message[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;right:15px;z-index:10;animation:_ngcontent-%COMP%_fadeInDown .4s ease-out}.error-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 15px;background-color:#ef4444f2;color:#fff;border-radius:8px;box-shadow:0 4px 12px #ef44444d}.error-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:8px}.error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex:1;margin:0;font-size:.85rem}.error-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;opacity:.8;transition:all .2s}.error-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.1)}@keyframes _ngcontent-%COMP%_heartbeat{0%,to{transform:scale(1)}50%{transform:scale(1.15)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}"]})}return s})();function jn(s,a){if(1&s&&(o.TgZ(0,"div",11)(1,"p"),o._uU(2),o.qZA()()),2&s){const e=o.oxw();o.ekj("alert-danger","error"===e.level)("alert-success","success"===e.level),o.xp6(2),o.Oqu(e.message)}}function Wt(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",12)(1,"h4",13),o._uU(2,"Main Book"),o.qZA(),o.TgZ(3,"div",14)(4,"app-book-card",15),o.NdJ("borrow",function(c){o.CHM(e);const d=o.oxw();return o.KtG(d.borrowBook(c))})("details",function(c){o.CHM(e);const d=o.oxw();return o.KtG(d.displayBookDetails(c))}),o.qZA()()()}if(2&s){const e=o.oxw();o.xp6(4),o.Q6J("book",e.mainBook)}}function Fr(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"app-book-card",15),o.NdJ("borrow",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.borrowBook(c))})("details",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.displayBookDetails(c))}),o.qZA()}2&s&&o.Q6J("book",a.$implicit)}function Tn(s,a){if(1&s&&(o.TgZ(0,"div",16)(1,"h5",13),o._uU(2,"Suggested Books"),o.qZA(),o.TgZ(3,"div",17),o.YNc(4,Fr,1,1,"app-book-card",18),o.qZA()()),2&s){const e=o.oxw();o.xp6(4),o.Q6J("ngForOf",e.suggestedBooks)}}function $o(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"app-book-card",15),o.NdJ("borrow",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.borrowBook(c))})("details",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.displayBookDetails(c))}),o.qZA()}2&s&&o.Q6J("book",a.$implicit)}function Qo(s,a){1&s&&(o.TgZ(0,"div",20)(1,"div",21),o._UZ(2,"i",22),o.qZA(),o.TgZ(3,"div",23)(4,"h3"),o._uU(5,"No books available"),o.qZA(),o.TgZ(6,"p"),o._uU(7,"There are currently no books in the library."),o.qZA()()())}function Pi(s,a){if(1&s&&(o.TgZ(0,"div",17),o.YNc(1,$o,1,1,"app-book-card",18),o.YNc(2,Qo,8,0,"div",19),o.qZA()),2&s){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.bookResponse.content),o.xp6(1),o.Q6J("ngIf",!(null!=e.bookResponse&&null!=e.bookResponse.content&&e.bookResponse.content.length))}}function Gn(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"button",40),o.NdJ("click",function(){const d=o.CHM(e).$implicit,h=o.oxw(2);return o.KtG(h.gotToPage(d))}),o._uU(1),o.qZA()}if(2&s){const e=a.$implicit,i=o.oxw(2);o.ekj("active",i.page===e),o.xp6(1),o.hij(" ",e+1," ")}}function Fo(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",24)(1,"div",25)(2,"button",26),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToFirstPage())}),o._UZ(3,"i",27),o.qZA(),o.TgZ(4,"button",28),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToPreviousPage())}),o._UZ(5,"i",29),o.qZA(),o.TgZ(6,"div",30),o.YNc(7,Gn,2,3,"button",31),o.qZA(),o.TgZ(8,"button",32),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToNextPage())}),o._UZ(9,"i",33),o.qZA(),o.TgZ(10,"button",34),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToLastPage())}),o._UZ(11,"i",35),o.qZA()(),o.TgZ(12,"div",36)(13,"span",37),o._UZ(14,"i",38),o.TgZ(15,"span",39),o._uU(16),o.qZA()()()()}if(2&s){const e=o.oxw();o.xp6(2),o.ekj("disabled",0===e.page),o.Q6J("disabled",0===e.page),o.xp6(2),o.ekj("disabled",0===e.page),o.Q6J("disabled",0===e.page),o.xp6(3),o.Q6J("ngForOf",e.pages),o.xp6(1),o.ekj("disabled",e.isLastPage),o.Q6J("disabled",e.isLastPage),o.xp6(2),o.ekj("disabled",e.isLastPage),o.Q6J("disabled",e.isLastPage),o.xp6(6),o.AsE("Page ",e.page+1," of ",(null==e.bookResponse?null:e.bookResponse.totalPages)||1,"")}}let No=(()=>{class s{constructor(e,i,c){this.bookService=e,this.bookSearchService=i,this.router=c,this.bookResponse={},this.page=0,this.size=5,this.pages=[],this.message="",this.level="success",this.suggestedBooks=[]}ngOnInit(){this.bookSearchService.bookResults$.subscribe(e=>{e.content&&e.content.length>0&&(this.mainBook=e.content[0],this.suggestedBooks=e.content.slice(1,5),this.bookResponse={...e},this.pages=Array(e.totalPages).fill(0).map((i,c)=>c))}),this.findAllBooks()}findAllBooks(){this.bookService.findAllBooks({page:this.page,size:this.size}).subscribe({next:e=>{this.bookResponse=e,this.pages=Array(this.bookResponse.totalPages).fill(0).map((i,c)=>c)}})}searchBooks(e){this.bookService.searchBooks({query:e}).subscribe({next:i=>{this.bookResponse=i,this.pages=Array(this.bookResponse.totalPages).fill(0).map((c,d)=>d)}})}gotToPage(e){this.page=e,this.findAllBooks()}goToFirstPage(){this.page=0,this.findAllBooks()}goToPreviousPage(){this.page--,this.findAllBooks()}goToLastPage(){this.page=this.bookResponse.totalPages-1,this.findAllBooks()}goToNextPage(){this.page++,this.findAllBooks()}get isLastPage(){return this.page===this.bookResponse.totalPages-1}borrowBook(e){this.message="",this.level="success",this.bookService.borrowBook({"book-id":e.id}).subscribe({next:()=>{this.level="success",this.message="Book successfully added to your list"},error:i=>{console.log(i),this.level="error",this.message=i.error.error}})}displayBookDetails(e){this.router.navigate(["books","details",e.id])}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(vn),o.Y36(qn),o.Y36(X.F0))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-book-list"]],decls:13,vars:5,consts:[[1,"books-list-container"],[1,"book-header"],[1,"section-title"],[1,"book-divider"],[1,"divider-line"],[1,"fas","fa-book","divider-icon"],["class","alert-box",3,"alert-danger","alert-success",4,"ngIf"],["class","main-book-container",4,"ngIf"],["class","suggested-books-container",4,"ngIf"],["class","books-grid",4,"ngIf"],["class","pagination-container",4,"ngIf"],[1,"alert-box"],[1,"main-book-container"],[1,"feature-title"],[1,"main-book-card"],[3,"book","borrow","details"],[1,"suggested-books-container"],[1,"books-grid"],[3,"book","borrow","details",4,"ngFor","ngForOf"],["class","empty-shelf",4,"ngIf"],[1,"empty-shelf"],[1,"empty-bookend"],[1,"fas","fa-book"],[1,"empty-message"],[1,"pagination-container"],[1,"pagination-controls"],["aria-label","First page",1,"page-btn","first-page",3,"disabled","click"],[1,"fas","fa-angles-left"],["aria-label","Previous page",1,"page-btn","prev-page",3,"disabled","click"],[1,"fas","fa-angle-left"],[1,"page-numbers"],["class","page-number",3,"active","click",4,"ngFor","ngForOf"],["aria-label","Next page",1,"page-btn","next-page",3,"disabled","click"],[1,"fas","fa-angle-right"],["aria-label","Last page",1,"page-btn","last-page",3,"disabled","click"],[1,"fas","fa-angles-right"],[1,"page-indicator"],[1,"bookmark"],[1,"fas","fa-bookmark"],[1,"bookmark-text"],[1,"page-number",3,"click"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),o._uU(3,"Books List"),o.qZA(),o.TgZ(4,"div",3),o._UZ(5,"span",4)(6,"i",5)(7,"span",4),o.qZA()(),o.YNc(8,jn,3,5,"div",6),o.YNc(9,Wt,5,1,"div",7),o.YNc(10,Tn,5,1,"div",8),o.YNc(11,Pi,3,2,"div",9),o.YNc(12,Fo,17,15,"div",10),o.qZA()),2&i&&(o.xp6(8),o.Q6J("ngIf",c.message),o.xp6(1),o.Q6J("ngIf",c.mainBook),o.xp6(1),o.Q6J("ngIf",c.mainBook),o.xp6(1),o.Q6J("ngIf",!c.mainBook),o.xp6(1),o.Q6J("ngIf",!c.mainBook&&((null==c.bookResponse?null:c.bookResponse.totalPages)||0)>1))},dependencies:[g.sg,g.O5,so],styles:[".books-list-container[_ngcontent-%COMP%]{background-color:#f8efd4;background-image:url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23b9a577' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\");padding:30px;min-height:calc(100vh - 60px);width:100%;max-width:1400px;margin:0 auto;border-radius:10px;box-shadow:0 10px 30px #0000001a,inset 0 0 0 1px #0000000d;position:relative}.books-list-container[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:0;left:0;right:0;height:20px;background:linear-gradient(to right,#4caf50,#8c5e34,#4caf50);border-radius:10px 10px 0 0}.books-list-container[_ngcontent-%COMP%]:after{content:\"\";position:absolute;top:20px;left:0;right:0;height:3px;background:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.1) 2%,rgba(0,0,0,.05) 98%,rgba(0,0,0,.2) 100%)}.book-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;padding-top:10px}.section-title[_ngcontent-%COMP%]{font-family:Georgia,serif;font-size:32px;font-weight:700;color:#5d4037;margin-bottom:10px;text-shadow:1px 1px 1px rgba(0,0,0,.1);letter-spacing:1px}.book-divider[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:10px 0 20px}.book-divider[_ngcontent-%COMP%]   .divider-line[_ngcontent-%COMP%]{height:1px;width:100px;background:linear-gradient(to right,transparent,#8B4513,transparent)}.book-divider[_ngcontent-%COMP%]   .divider-icon[_ngcontent-%COMP%]{color:#8b4513;font-size:22px;margin:0 15px;opacity:.8}.alert-box[_ngcontent-%COMP%]{padding:15px 20px;border-radius:12px;margin-bottom:25px;box-shadow:0 2px 8px #0000000d;animation:_ngcontent-%COMP%_fadeIn .3s ease}.alert-box.alert-danger[_ngcontent-%COMP%]{background-color:#dc35451a;border-left:4px solid #dc3545;color:#721c24}.alert-box.alert-success[_ngcontent-%COMP%]{background-color:#28a7451a;border-left:4px solid #28a745;color:#155724}.alert-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.main-book-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:25px;margin-bottom:30px;box-shadow:0 4px 10px #00000014;border-left:4px solid #4caf50}.feature-title[_ngcontent-%COMP%]{color:#8c5e34;font-size:22px;font-weight:600;margin-bottom:20px;text-align:center;position:relative}.feature-title[_ngcontent-%COMP%]:after{content:\"\";position:absolute;bottom:-8px;left:50%;transform:translate(-50%);width:50px;height:2px;background-color:#8c5e344d}.main-book-card[_ngcontent-%COMP%]{max-width:700px;margin:0 auto}.suggested-books-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:25px;margin-bottom:30px;box-shadow:0 4px 10px #00000014}.books-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:30px;padding:10px;margin-bottom:40px;position:relative}.books-grid[_ngcontent-%COMP%]:before, .books-grid[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;right:0;height:8px;border-radius:2px}.books-grid[_ngcontent-%COMP%]:before{bottom:-15px;background-color:#8b4513;box-shadow:0 2px 4px #0003}.books-grid[_ngcontent-%COMP%]:after{bottom:-5px;height:3px;background-color:#0000001a}@media (max-width: 1200px){.books-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}}@media (max-width: 768px){.books-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:25px}}@media (max-width: 576px){.books-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.empty-shelf[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;flex-direction:column;align-items:center;padding:60px 20px;background-color:#fffc;border-radius:8px;border:1px dashed rgba(139,69,19,.2);text-align:center;margin:20px 0 40px}.empty-bookend[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#4caf50,#357a38);display:flex;align-items:center;justify-content:center;border-radius:12px;margin-bottom:25px;box-shadow:0 5px 15px #0000001a}.empty-bookend[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f8efd4;font-size:36px}.empty-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#8c5e34;margin-bottom:10px;font-weight:600}.empty-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#654321cc;font-size:16px;max-width:350px;margin:0 auto;line-height:1.6}  app-book-card{display:block;height:100%}  app-book-card .book-card{transition:transform .3s ease,box-shadow .3s ease;position:relative;border-radius:8px;overflow:hidden;background-color:#fff;box-shadow:0 5px 15px #00000014;border:1px solid rgba(0,0,0,.05);height:100%}  app-book-card .book-card:before{content:\"\";position:absolute;top:0;left:0;width:6px;height:100%;background:linear-gradient(to right,rgba(0,0,0,.15),rgba(0,0,0,.05))}  app-book-card .book-card:hover{transform:translateY(-8px) rotate(1deg);box-shadow:0 15px 25px #00000026;z-index:2}  app-book-card .book-card:hover:after{content:\"\";position:absolute;left:10%;right:10%;bottom:-15px;height:10px;border-radius:50%;background-color:#0000001a;filter:blur(3px);z-index:-1}.pagination-container[_ngcontent-%COMP%]{margin-top:60px;display:flex;flex-direction:column;align-items:center}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:15px}.page-btn[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(139,69,19,.15);border-radius:4px;background-color:#fffc;color:#8c5e34;cursor:pointer;transition:all .2s ease}.page-btn[_ngcontent-%COMP%]:hover:not(.disabled):not(:disabled){background-color:#fffffff2;border-color:#8b45134d}.page-btn[_ngcontent-%COMP%]:active:not(.disabled):not(:disabled){transform:translateY(1px)}.page-btn.disabled[_ngcontent-%COMP%], .page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.page-numbers[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.page-number[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(139,69,19,.15);border-radius:4px;background-color:#fffc;color:#8c5e34;font-weight:500;cursor:pointer;transition:all .2s ease}.page-number[_ngcontent-%COMP%]:hover:not(.active){background-color:#fffffff2;border-color:#8b45134d}.page-number.active[_ngcontent-%COMP%]{background-color:#8b4513;color:#fff;border-color:#8b4513;box-shadow:0 2px 5px #0000001a}.page-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:5px}.bookmark[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background-color:#fff;border-radius:20px;box-shadow:0 2px 8px #0000000d;position:relative}.bookmark[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:-12px;left:50%;transform:translate(-50%);width:16px;height:18px;background-color:#4caf50;border-radius:2px 2px 0 0}.bookmark[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4caf50;font-size:16px}.bookmark[_ngcontent-%COMP%]   .bookmark-text[_ngcontent-%COMP%]{font-size:14px;color:#8c5e34;font-weight:500}"]})}return s})();const xn=function(s,a){return{"error-alert":s,"success-alert":a}},Oo=function(s,a){return{"fa-exclamation-circle":s,"fa-check-circle":a}};function Ai(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",21),o._UZ(1,"i",22),o.TgZ(2,"p"),o._uU(3),o.qZA(),o.TgZ(4,"button",23),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.message="")}),o._UZ(5,"i",24),o.qZA()()}if(2&s){const e=o.oxw();o.Q6J("ngClass",o.WLB(3,xn,"error"===e.level,"success"===e.level)),o.xp6(1),o.Q6J("ngClass",o.WLB(6,Oo,"error"===e.level,"success"===e.level)),o.xp6(2),o.Oqu(e.message)}}function _i(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",25)(1,"h3",26),o._uU(2,"Main Book"),o.qZA(),o.TgZ(3,"div",27)(4,"app-book-card",28),o.NdJ("archive",function(c){o.CHM(e);const d=o.oxw();return o.KtG(d.archiveBook(c))})("share",function(c){o.CHM(e);const d=o.oxw();return o.KtG(d.shareBook(c))})("edit",function(c){o.CHM(e);const d=o.oxw();return o.KtG(d.editBook(c))})("bookDeleted",function(c){o.CHM(e);const d=o.oxw();return o.KtG(d.onDeleteBook(c))}),o.qZA()()()}if(2&s){const e=o.oxw();o.xp6(4),o.Q6J("book",e.mainBook)("manage",!0)}}function bi(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"app-book-card",32),o.NdJ("archive",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.archiveBook(c))})("share",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.shareBook(c))})("edit",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.editBook(c))})("bookDeleted",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.onDeleteBook(c))}),o.qZA()}2&s&&o.Q6J("book",a.$implicit)("manage",!0)}function fr(s,a){if(1&s&&(o.TgZ(0,"div",29)(1,"h3",26),o._uU(2,"Suggested Books"),o.qZA(),o.TgZ(3,"div",30),o.YNc(4,bi,1,2,"app-book-card",31),o.qZA()()),2&s){const e=o.oxw();o.xp6(4),o.Q6J("ngForOf",e.suggestedBooks)}}function Mo(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"app-book-card",32),o.NdJ("archive",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.archiveBook(c))})("share",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.shareBook(c))})("edit",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.editBook(c))})("bookDeleted",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.onDeleteBook(c))}),o.qZA()}2&s&&o.Q6J("book",a.$implicit)("manage",!0)}function tt(s,a){1&s&&(o.TgZ(0,"div",34)(1,"div",35),o._UZ(2,"i",16),o.qZA(),o.TgZ(3,"div",36)(4,"h3"),o._uU(5,"Your bookshelf is empty"),o.qZA(),o.TgZ(6,"p"),o._uU(7,"Add your first book to start your collection"),o.qZA()()())}function Ye(s,a){if(1&s&&(o.TgZ(0,"div",30),o.YNc(1,Mo,1,2,"app-book-card",31),o.YNc(2,tt,8,0,"div",33),o.qZA()),2&s){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.bookResponse.content),o.xp6(1),o.Q6J("ngIf",!(null!=e.bookResponse&&null!=e.bookResponse.content&&e.bookResponse.content.length))}}function _e(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"button",53),o.NdJ("click",function(){const d=o.CHM(e).$implicit,h=o.oxw(2);return o.KtG(h.gotToPage(d))}),o._uU(1),o.qZA()}if(2&s){const e=a.$implicit,i=o.oxw(2);o.ekj("active",i.page===e),o.xp6(1),o.hij(" ",e+1," ")}}function Ae(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",37)(1,"div",38)(2,"button",39),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToFirstPage())}),o._UZ(3,"i",40),o.qZA(),o.TgZ(4,"button",41),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToPreviousPage())}),o._UZ(5,"i",42),o.qZA(),o.TgZ(6,"div",43),o.YNc(7,_e,2,3,"button",44),o.qZA(),o.TgZ(8,"button",45),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToNextPage())}),o._UZ(9,"i",46),o.qZA(),o.TgZ(10,"button",47),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToLastPage())}),o._UZ(11,"i",48),o.qZA()(),o.TgZ(12,"div",49)(13,"span",50),o._UZ(14,"i",51),o.TgZ(15,"span",52),o._uU(16),o.qZA()()()()}if(2&s){const e=o.oxw();o.xp6(2),o.ekj("disabled",0===e.page),o.Q6J("disabled",0===e.page),o.xp6(2),o.ekj("disabled",0===e.page),o.Q6J("disabled",0===e.page),o.xp6(3),o.Q6J("ngForOf",e.pages),o.xp6(1),o.ekj("disabled",e.isLastPage),o.Q6J("disabled",e.isLastPage),o.xp6(2),o.ekj("disabled",e.isLastPage),o.Q6J("disabled",e.isLastPage),o.xp6(6),o.AsE("Page ",e.page+1," of ",(null==e.bookResponse?null:e.bookResponse.totalPages)||1,"")}}let ct=(()=>{class s{constructor(e,i,c){this.bookService=e,this.bookSearchService=i,this.router=c,this.bookResponse={},this.page=0,this.size=5,this.pages=[],this.suggestedBooks=[],this.message="",this.level=""}ngOnInit(){this.bookSearchService.bookResults$.subscribe(e=>{e.content&&e.content.length>0&&(this.mainBook=e.content[0],this.suggestedBooks=e.content.slice(1,5),console.log("SUGGESTED BOOKS",this.suggestedBooks),this.bookResponse={...e},this.pages=Array(e.totalPages).fill(0).map((i,c)=>c))}),this.findAllBooks()}findAllBooks(){this.bookService.findAllBooksByOwner({page:this.page,size:this.size}).subscribe({next:e=>{this.bookResponse=e,this.pages=Array(this.bookResponse.totalPages).fill(0).map((i,c)=>c)},error:e=>{this.showMessage("Failed to load your books. Please try again.","error")}})}gotToPage(e){this.page=e,this.findAllBooks()}goToFirstPage(){this.page=0,this.findAllBooks()}goToPreviousPage(){this.page--,this.findAllBooks()}goToLastPage(){this.page=this.bookResponse.totalPages-1,this.findAllBooks()}goToNextPage(){this.page++,this.findAllBooks()}get isLastPage(){return this.page===this.bookResponse.totalPages-1}archiveBook(e){this.bookService.updateArchivedStatus({"book-id":e.id}).subscribe({next:()=>{e.archived=!e.archived,this.findAllBooks(),this.showMessage(`Book "${e.title}" has been ${e.archived?"archived":"unarchived"}.`,"success")},error:i=>{this.showMessage("Failed to update archive status. Please try again.","error")}})}shareBook(e){this.bookService.updateShareableStatus({"book-id":e.id}).subscribe({next:()=>{e.shareable=!e.shareable,this.findAllBooks(),this.showMessage(`Book "${e.title}" is now ${e.shareable?"shared":"private"}.`,"success")},error:i=>{this.showMessage("Failed to update sharing status. Please try again.","error")}})}editBook(e){this.router.navigate(["books","manage",e.id])}onDeleteBook(e){this.bookService.deleteBook({"book-id":e}).subscribe({next:()=>{let i="";this.mainBook&&this.mainBook.id===e?(i=this.mainBook.title||"Book",this.mainBook=void 0):this.bookResponse.content&&(i=this.bookResponse.content.find(d=>d.id===e)?.title||"Book"),this.suggestedBooks=this.suggestedBooks.filter(c=>c.id!==e),this.bookResponse.content&&(this.bookResponse.content=this.bookResponse.content.filter(c=>c.id!==e)),this.bookResponse.totalElements&&this.bookResponse.totalElements>0&&this.bookResponse.totalElements--,this.findAllBooks(),this.showMessage(`"${i}" has been successfully deleted.`,"success")},error:i=>{console.error("Error deleting book:",i),this.showMessage("Failed to delete book. Please try again.","error")}})}showMessage(e,i){this.message=e,this.level=i,setTimeout(()=>{this.message="",this.level=""},5e3)}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(vn),o.Y36(qn),o.Y36(X.F0))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-my-books"]],decls:31,vars:6,consts:[[1,"library-container"],[1,"book-header"],[1,"section-title"],[1,"book-divider"],[1,"divider-line"],[1,"fas","fa-book","divider-icon"],["class","message-alert",3,"ngClass",4,"ngIf"],[1,"library-controls"],[1,"filter-section"],["routerLink","/books/manage",1,"library-btn","add-book-btn"],[1,"fas","fa-plus"],[1,"library-btn","filter-btn"],[1,"fas","fa-filter"],[1,"library-btn","sort-btn"],[1,"fas","fa-sort"],[1,"book-count"],[1,"fas","fa-book"],["class","featured-book-section",4,"ngIf"],["class","suggested-books-section",4,"ngIf"],["class","book-shelf",4,"ngIf"],["class","library-pagination",4,"ngIf"],[1,"message-alert",3,"ngClass"],[1,"fas",3,"ngClass"],[1,"close-alert",3,"click"],[1,"fas","fa-times"],[1,"featured-book-section"],[1,"feature-title"],[1,"featured-book-wrapper"],[1,"featured-book",3,"book","manage","archive","share","edit","bookDeleted"],[1,"suggested-books-section"],[1,"book-shelf"],["class","shelf-book",3,"book","manage","archive","share","edit","bookDeleted",4,"ngFor","ngForOf"],[1,"shelf-book",3,"book","manage","archive","share","edit","bookDeleted"],["class","empty-shelf",4,"ngIf"],[1,"empty-shelf"],[1,"empty-bookend"],[1,"empty-message"],[1,"library-pagination"],[1,"pagination-controls"],["aria-label","First page",1,"page-btn","first-page",3,"disabled","click"],[1,"fas","fa-angles-left"],["aria-label","Previous page",1,"page-btn","prev-page",3,"disabled","click"],[1,"fas","fa-angle-left"],[1,"page-numbers"],["class","page-number",3,"active","click",4,"ngFor","ngForOf"],["aria-label","Next page",1,"page-btn","next-page",3,"disabled","click"],[1,"fas","fa-angle-right"],["aria-label","Last page",1,"page-btn","last-page",3,"disabled","click"],[1,"fas","fa-angles-right"],[1,"page-indicator"],[1,"bookmark"],[1,"fas","fa-bookmark"],[1,"bookmark-text"],[1,"page-number",3,"click"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),o._uU(3,"My Books"),o.qZA(),o.TgZ(4,"div",3),o._UZ(5,"span",4)(6,"i",5)(7,"span",4),o.qZA()(),o.YNc(8,Ai,6,9,"div",6),o.TgZ(9,"div",7)(10,"div",8)(11,"a",9),o._UZ(12,"i",10),o.TgZ(13,"span"),o._uU(14,"New Book"),o.qZA()(),o.TgZ(15,"button",11),o._UZ(16,"i",12),o.TgZ(17,"span"),o._uU(18,"Filter"),o.qZA()(),o.TgZ(19,"button",13),o._UZ(20,"i",14),o.TgZ(21,"span"),o._uU(22,"Sort by"),o.qZA()()(),o.TgZ(23,"div",15),o._UZ(24,"i",16),o.TgZ(25,"span"),o._uU(26),o.qZA()()(),o.YNc(27,_i,5,2,"div",17),o.YNc(28,fr,5,1,"div",18),o.YNc(29,Ye,3,2,"div",19),o.YNc(30,Ae,17,15,"div",20),o.qZA()),2&i&&(o.xp6(8),o.Q6J("ngIf",c.message),o.xp6(18),o.hij("",(null==c.bookResponse?null:c.bookResponse.totalElements)||0," books"),o.xp6(1),o.Q6J("ngIf",c.mainBook),o.xp6(1),o.Q6J("ngIf",c.mainBook),o.xp6(1),o.Q6J("ngIf",!c.mainBook),o.xp6(1),o.Q6J("ngIf",!c.mainBook&&((null==c.bookResponse?null:c.bookResponse.totalPages)||0)>1))},dependencies:[g.mk,g.sg,g.O5,X.rH,so],styles:[".library-container[_ngcontent-%COMP%]{background-color:#f8efd4;background-image:url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23b9a577' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\");padding:30px;border-radius:10px;box-shadow:0 10px 30px #0000001a,inset 0 0 0 1px #0000000d;max-width:1400px;margin:20px auto;position:relative}.library-container[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:0;left:0;right:0;height:20px;background:linear-gradient(to right,#2196F3,#8B4513,#2196F3);border-radius:10px 10px 0 0}.library-container[_ngcontent-%COMP%]:after{content:\"\";position:absolute;top:20px;left:0;right:0;height:3px;background:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.1) 2%,rgba(0,0,0,.05) 98%,rgba(0,0,0,.2) 100%)}.book-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;padding-top:10px}.section-title[_ngcontent-%COMP%]{font-family:Georgia,serif;font-size:32px;font-weight:700;color:#5d4037;margin-bottom:10px;text-shadow:1px 1px 1px rgba(0,0,0,.1);letter-spacing:1px}.book-divider[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:10px 0 20px}.book-divider[_ngcontent-%COMP%]   .divider-line[_ngcontent-%COMP%]{height:1px;width:100px;background:linear-gradient(to right,transparent,#8B4513,transparent)}.book-divider[_ngcontent-%COMP%]   .divider-icon[_ngcontent-%COMP%]{color:#8b4513;font-size:22px;margin:0 15px;opacity:.8}.message-alert[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px;padding:12px 16px;border-radius:4px;box-shadow:0 2px 8px #0000000d;animation:_ngcontent-%COMP%_fadeIn .3s ease}.message-alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin-right:12px}.message-alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex:1;margin:0;font-size:15px;line-height:1.4}.message-alert[_ngcontent-%COMP%]   .close-alert[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:14px;opacity:.7;transition:opacity .2s ease}.message-alert[_ngcontent-%COMP%]   .close-alert[_ngcontent-%COMP%]:hover{opacity:1}.message-alert.success-alert[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32;border-left:4px solid #2E7D32}.message-alert.error-alert[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border-left:4px solid #C62828}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.library-controls[_ngcontent-%COMP%]{background-color:#ffffff80;border:1px solid rgba(139,69,19,.1);border-radius:6px;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;margin-bottom:35px;box-shadow:0 2px 8px #00000008}@media (max-width: 576px){.library-controls[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:flex-start}}.filter-section[_ngcontent-%COMP%]{display:flex;gap:10px}@media (max-width: 576px){.filter-section[_ngcontent-%COMP%]{flex-wrap:wrap}}.library-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background-color:#fffc;border:1px solid rgba(139,69,19,.15);border-radius:4px;padding:8px 12px;font-size:14px;color:#654321;cursor:pointer;transition:all .2s ease;box-shadow:0 1px 3px #0000000d;text-decoration:none}.library-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;color:#8b4513}.library-btn[_ngcontent-%COMP%]:hover{background-color:#fffffff2;border-color:#8b45134d;box-shadow:0 2px 5px #0000001a}.library-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.library-btn.add-book-btn[_ngcontent-%COMP%]{background-color:#8b45131a;border-color:#8b4513}.library-btn.add-book-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8b4513}.library-btn.add-book-btn[_ngcontent-%COMP%]:hover{background-color:#8b4513;color:#fff}.library-btn.add-book-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.book-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#654321}.book-count[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8b4513;font-size:14px}.featured-book-section[_ngcontent-%COMP%]{background-color:#fff9;border-radius:8px;padding:20px;margin-bottom:30px;box-shadow:0 4px 10px #0000000d;border:1px solid rgba(139,69,19,.1);border-left:4px solid #2196F3}.feature-title[_ngcontent-%COMP%]{color:#654321;font-size:20px;font-weight:600;text-align:center;margin-bottom:20px;position:relative}.feature-title[_ngcontent-%COMP%]:after{content:\"\";position:absolute;bottom:-8px;left:50%;transform:translate(-50%);width:50px;height:2px;background-color:#6543214d}.featured-book-wrapper[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.featured-book[_ngcontent-%COMP%]{display:block;transform-origin:center bottom;transition:transform .3s ease,box-shadow .3s ease}.featured-book[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.suggested-books-section[_ngcontent-%COMP%]{background-color:#fff9;border-radius:8px;padding:20px;margin-bottom:40px;box-shadow:0 4px 10px #0000000d;border:1px solid rgba(139,69,19,.1)}.book-shelf[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:30px;margin-bottom:40px;position:relative}.book-shelf[_ngcontent-%COMP%]:before, .book-shelf[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;right:0;height:8px;border-radius:2px}.book-shelf[_ngcontent-%COMP%]:before{bottom:-15px;background-color:#8b4513;box-shadow:0 2px 4px #0003}.book-shelf[_ngcontent-%COMP%]:after{bottom:-5px;height:3px;background-color:#0000001a}@media (max-width: 1200px){.book-shelf[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}}@media (max-width: 768px){.book-shelf[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:25px}}@media (max-width: 576px){.book-shelf[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.shelf-book[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease;position:relative;border-radius:8px;overflow:hidden;background-color:#fff;box-shadow:0 5px 15px #00000014;border:1px solid rgba(0,0,0,.05)}.shelf-book[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:0;left:0;width:6px;height:100%;background:linear-gradient(to right,rgba(0,0,0,.15),rgba(0,0,0,.05))}.shelf-book[_ngcontent-%COMP%]:hover{transform:translateY(-8px) rotate(1deg);box-shadow:0 15px 25px #00000026;z-index:2}.shelf-book[_ngcontent-%COMP%]:hover:after{content:\"\";position:absolute;left:10%;right:10%;bottom:-15px;height:10px;border-radius:50%;background-color:#0000001a;filter:blur(3px);z-index:-1}.empty-shelf[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;flex-direction:column;align-items:center;padding:60px 20px;background-color:#fffc;border-radius:8px;border:1px dashed rgba(139,69,19,.2);text-align:center;margin:20px 0 40px}.empty-bookend[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#8B4513,#48240a);display:flex;align-items:center;justify-content:center;border-radius:12px;margin-bottom:25px;box-shadow:0 5px 15px #0000001a}.empty-bookend[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f8efd4;font-size:36px}.empty-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#654321;margin-bottom:10px;font-weight:600}.empty-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#654321cc;font-size:16px;max-width:350px;margin:0 auto;line-height:1.6}.library-pagination[_ngcontent-%COMP%]{margin-top:60px;display:flex;flex-direction:column;align-items:center}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:15px}.page-btn[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(139,69,19,.15);border-radius:4px;background-color:#fffc;color:#654321;cursor:pointer;transition:all .2s ease}.page-btn[_ngcontent-%COMP%]:hover:not(.disabled):not(:disabled){background-color:#fffffff2;border-color:#8b45134d}.page-btn[_ngcontent-%COMP%]:active:not(.disabled):not(:disabled){transform:translateY(1px)}.page-btn.disabled[_ngcontent-%COMP%], .page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.page-numbers[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.page-number[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(139,69,19,.15);border-radius:4px;background-color:#fffc;color:#654321;font-weight:500;cursor:pointer;transition:all .2s ease}.page-number[_ngcontent-%COMP%]:hover:not(.active){background-color:#fffffff2;border-color:#8b45134d}.page-number.active[_ngcontent-%COMP%]{background-color:#8b4513;color:#fff;border-color:#8b4513;box-shadow:0 2px 5px #0000001a}.page-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:5px}.bookmark[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background-color:#fff;border-radius:20px;box-shadow:0 2px 8px #0000000d;position:relative}.bookmark[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:-12px;left:50%;transform:translate(-50%);width:16px;height:18px;background-color:#2196f3;border-radius:2px 2px 0 0}.bookmark[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2196f3;font-size:16px}.bookmark[_ngcontent-%COMP%]   .bookmark-text[_ngcontent-%COMP%]{font-size:14px;color:#654321;font-weight:500}"]})}return s})();function It(s,a){if(1&s&&(o.TgZ(0,"p",37),o._uU(1),o.qZA()),2&s){const e=a.$implicit;o.xp6(1),o.Oqu(e)}}function Xt(s,a){if(1&s&&(o.TgZ(0,"div",35),o.YNc(1,It,2,1,"p",36),o.qZA()),2&s){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.errorMsg)}}let Sn=(()=>{class s{constructor(e,i,c){this.bookService=e,this.router=i,this.activatedRoute=c,this.errorMsg=[],this.bookRequest={authorName:"",isbn:"",synopsis:"",title:"",genre:""}}ngOnInit(){const e=this.activatedRoute.snapshot.params.bookId;e&&this.bookService.findBookById({"book-id":e}).subscribe({next:i=>{this.bookRequest={id:i.id,title:i.title,authorName:i.authorName,isbn:i.isbn,synopsis:i.synopsis,shareable:i.shareable,genre:i.genre},this.selectedPicture="data:image/jpg;base64,"+i.cover}})}saveBook(){this.bookService.saveBook({body:this.bookRequest}).subscribe({next:e=>{this.selectedBookCover?this.bookService.uploadBookCoverPicture({"book-id":e,body:{file:this.selectedBookCover}}).subscribe({next:()=>{this.router.navigate(["/books/my-books"])},error:i=>{console.error("Error uploading book cover:",i),this.router.navigate(["/books/my-books"])}}):this.router.navigate(["/books/my-books"])},error:e=>{console.log(e.error),this.errorMsg=e.error&&e.error.validationErrors?e.error.validationErrors:e.error&&e.error.message?[e.error.message]:["An unknown error occurred while saving the book."]}})}onFileSelected(e){if(this.selectedBookCover=e.target.files[0],console.log(this.selectedBookCover),this.selectedBookCover){const i=new FileReader;i.onload=()=>{this.selectedPicture=i.result},i.readAsDataURL(this.selectedBookCover)}}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(vn),o.Y36(X.F0),o.Y36(X.gz))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-manage-book"]],decls:56,vars:8,consts:[[1,"p-2"],["class","alert alert-danger mt-2","role","alert",4,"ngIf"],[1,"d-flex","gap-2"],[1,"col-3"],["width","100%","height","100%","alt","",1,"rounded-1",3,"src"],[1,"mt-2"],["type","file","id","formFile","accept","image/*",1,"form-control",3,"change"],[1,"col-9"],[1,"row","g-3"],[1,"col-12"],["for","title",1,"form-label"],["type","text","id","title","name","title","placeholder","Book title",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6"],["for","author",1,"form-label"],["type","email","id","author","name","author","placeholder","Author name",1,"form-control",3,"ngModel","ngModelChange"],["for","isbn",1,"form-label"],["type","text","id","isbn","name","isbn",1,"form-control",3,"ngModel","ngModelChange"],["for","genre",1,"form-label"],["id","genre","name","genre",1,"form-select",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","ROMANCE"],["value","HORROR"],["value","COMEDY"],["value","SCIFI"],["value","FANTASY"],["for","synopsis",1,"form-label"],["rows","4","id","synopsis","name","synopsis","placeholder","1234 Main St",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-check"],["type","checkbox","id","gridCheck","name","shareable",1,"form-check-input",3,"ngModel","ngModelChange"],["for","gridCheck",1,"form-check-label"],[1,"d-flex","justify-content-end","gap-2","col-12"],["type","submit",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-save"],["routerLink","/books/my-books","type","submit",1,"btn","btn-link","btn","text-danger"],[1,"fas","fa-times"],["role","alert",1,"alert","alert-danger","mt-2"],["class","p-0 m-0",4,"ngFor","ngForOf"],[1,"p-0","m-0"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0)(1,"h2"),o._uU(2,"Manage my book"),o.qZA(),o._UZ(3,"hr"),o.YNc(4,Xt,2,1,"div",1),o.TgZ(5,"div",2)(6,"div",3),o._UZ(7,"img",4),o.TgZ(8,"div",5)(9,"input",6),o.NdJ("change",function(h){return c.onFileSelected(h)}),o.qZA()()(),o.TgZ(10,"div",7)(11,"form",8)(12,"div",9)(13,"label",10),o._uU(14,"Title"),o.qZA(),o.TgZ(15,"input",11),o.NdJ("ngModelChange",function(h){return c.bookRequest.title=h}),o.qZA()(),o.TgZ(16,"div",12)(17,"label",13),o._uU(18,"Author name"),o.qZA(),o.TgZ(19,"input",14),o.NdJ("ngModelChange",function(h){return c.bookRequest.authorName=h}),o.qZA()(),o.TgZ(20,"div",12)(21,"label",15),o._uU(22,"ISBN"),o.qZA(),o.TgZ(23,"input",16),o.NdJ("ngModelChange",function(h){return c.bookRequest.isbn=h}),o.qZA()(),o.TgZ(24,"div",12)(25,"label",17),o._uU(26,"Genre"),o.qZA(),o.TgZ(27,"select",18),o.NdJ("ngModelChange",function(h){return c.bookRequest.genre=h}),o.TgZ(28,"option",19),o._uU(29,"Select a genre"),o.qZA(),o.TgZ(30,"option",20),o._uU(31,"Romance"),o.qZA(),o.TgZ(32,"option",21),o._uU(33,"Horror"),o.qZA(),o.TgZ(34,"option",22),o._uU(35,"Comedy"),o.qZA(),o.TgZ(36,"option",23),o._uU(37,"Science Fiction"),o.qZA(),o.TgZ(38,"option",24),o._uU(39,"Fantasy"),o.qZA()()(),o.TgZ(40,"div",9)(41,"label",25),o._uU(42,"Synopsis"),o.qZA(),o.TgZ(43,"textarea",26),o.NdJ("ngModelChange",function(h){return c.bookRequest.synopsis=h}),o.qZA()(),o.TgZ(44,"div",9)(45,"div",27)(46,"input",28),o.NdJ("ngModelChange",function(h){return c.bookRequest.shareable=h}),o.qZA(),o.TgZ(47,"label",29),o._uU(48," Share me "),o.qZA()()(),o.TgZ(49,"div",30)(50,"button",31),o.NdJ("click",function(){return c.saveBook()}),o._UZ(51,"i",32),o._uU(52,"\xa0Save "),o.qZA(),o.TgZ(53,"a",33),o._UZ(54,"i",34),o._uU(55,"\xa0Cancel "),o.qZA()()()()()()),2&i&&(o.xp6(4),o.Q6J("ngIf",c.errorMsg.length),o.xp6(3),o.Q6J("src",c.selectedPicture||"https://source.unsplash.com/user/c_v_r/1900x800",o.LSH),o.xp6(8),o.Q6J("ngModel",c.bookRequest.title),o.xp6(4),o.Q6J("ngModel",c.bookRequest.authorName),o.xp6(4),o.Q6J("ngModel",c.bookRequest.isbn),o.xp6(4),o.Q6J("ngModel",c.bookRequest.genre),o.xp6(16),o.Q6J("ngModel",c.bookRequest.synopsis),o.xp6(3),o.Q6J("ngModel",c.bookRequest.shareable))},dependencies:[g.sg,g.O5,B._Y,B.YN,B.Kr,B.Fj,B.Wl,B.EJ,B.JJ,B.JL,B.On,B.F,X.rH],styles:[".p-2[_ngcontent-%COMP%]{background-color:#f8efd4;background-image:url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23b9a577' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\");padding:30px!important;max-width:1200px;margin:20px auto;border-radius:10px;box-shadow:0 10px 30px #0000001a,inset 0 0 0 1px #0000000d;position:relative}.p-2[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:0;left:0;right:0;height:20px;background:linear-gradient(to right,#D4AF37,#003366,#D4AF37);border-radius:10px 10px 0 0}.p-2[_ngcontent-%COMP%]:after{content:\"\";position:absolute;top:20px;left:0;right:0;height:3px;background:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.1) 2%,rgba(0,0,0,.05) 98%,rgba(0,0,0,.2) 100%)}h2[_ngcontent-%COMP%]{font-family:Georgia,serif;font-size:32px;font-weight:700;color:#5d4037;margin-bottom:10px;margin-top:15px;text-shadow:1px 1px 1px rgba(0,0,0,.1);text-align:center;position:relative}h2[_ngcontent-%COMP%]:after{content:\"\";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:80px;height:3px;background:linear-gradient(to right,transparent,#8B4513,transparent)}hr[_ngcontent-%COMP%]{border:none;height:1px;background:linear-gradient(to right,transparent,rgba(140,94,52,.5),transparent);margin:25px 0;opacity:.5}.alert-danger[_ngcontent-%COMP%]{background-color:#dc35451a;border:none;border-left:4px solid #dc3545;border-radius:8px;color:#bd2130;padding:15px 20px;margin-bottom:20px}.alert-danger[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.d-flex.gap-2[_ngcontent-%COMP%]{gap:30px!important}.col-3[_ngcontent-%COMP%]{width:30%}@media (max-width: 768px){.col-3[_ngcontent-%COMP%]{width:100%}}.col-9[_ngcontent-%COMP%]{width:70%}@media (max-width: 768px){.col-9[_ngcontent-%COMP%]{width:100%}}img.rounded-1[_ngcontent-%COMP%]{border-radius:8px!important;box-shadow:0 5px 15px #00000026;border:1px solid rgba(0,0,0,.1);transition:transform .3s ease;position:relative}img.rounded-1[_ngcontent-%COMP%]:hover{transform:scale(1.02)}img.rounded-1[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:0;left:0;width:10px;height:100%;background:linear-gradient(to right,rgba(0,0,0,.2),rgba(0,0,0,.05));border-radius:8px 0 0 8px;z-index:1}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{background-color:#fffc;border:1px solid rgba(140,94,52,.2);border-radius:8px;padding:12px 15px;transition:all .3s ease;color:#5d4037}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #8c5e341a;border-color:#8c5e3480;background-color:#fff}.form-control[_ngcontent-%COMP%]::placeholder, .form-select[_ngcontent-%COMP%]::placeholder{color:#5d403766}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:120px}.form-label[_ngcontent-%COMP%]{color:#8c5e34;font-weight:600;margin-bottom:8px;font-size:15px}.form-file[_ngcontent-%COMP%]{margin-top:15px}.form-check[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:5px}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:10px;width:18px;height:18px;border:1px solid rgba(140,94,52,.3)}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#8b4513;border-color:#8b4513}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #8c5e341a;border-color:#8b4513}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:#5d4037;font-weight:500}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;font-weight:600;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.btn.btn-outline-primary[_ngcontent-%COMP%]{border:2px solid #8c5e34;color:#8c5e34;background:transparent}.btn.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#8c5e34;color:#fff;transform:translateY(-2px);box-shadow:0 4px 10px #0000001a}.btn.btn-outline-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn.btn-link[_ngcontent-%COMP%]{color:#dc3545;text-decoration:none}.btn.btn-link[_ngcontent-%COMP%]:hover{background-color:#dc35451a;color:#bd2130}input[type=file][_ngcontent-%COMP%]{padding:8px;font-size:14px}input[type=file][_ngcontent-%COMP%]::file-selector-button{padding:8px 14px;border-radius:6px;border:1px solid rgba(140,94,52,.3);background-color:#8c5e341a;color:#8c5e34;font-weight:500;margin-right:15px;cursor:pointer;transition:all .2s ease}input[type=file][_ngcontent-%COMP%]::file-selector-button:hover{background-color:#8c5e3433}@media (max-width: 768px){.d-flex.gap-2[_ngcontent-%COMP%]{flex-direction:column}.justify-content-end[_ngcontent-%COMP%]{justify-content:center!important}h2[_ngcontent-%COMP%]{font-size:28px}.p-2[_ngcontent-%COMP%]{padding:20px!important}}.row.g-3[_ngcontent-%COMP%]{row-gap:20px!important}@media (max-width: 576px){.col-md-6[_ngcontent-%COMP%]{width:100%}}"]})}return s})();function Pn(s,a,e,i){const c=new Pe(a,Pn.PATH,"get");return e&&(c.path("book-id",e["book-id"],{}),c.query("page",e.page,{}),c.query("size",e.size,{})),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d))}function ao(s,a,e,i){const c=new Pe(a,ao.PATH,"post");return e&&c.body(e.body,"application/json"),s.request(c.build({responseType:"json",accept:"application/json",context:i})).pipe((0,oe.h)(d=>d instanceof J.Zn),(0,ae.U)(d=>d.clone({body:parseFloat(String(d.body))})))}Pn.PATH="/feedbacks/book/{book-id}",ao.PATH="/feedbacks";let Go=(()=>{class s extends U{constructor(e,i){super(e,i)}static#e=this.SaveFeedbackPath="/feedbacks";saveFeedback$Response(e,i){return ao(this.http,this.rootUrl,e,i)}saveFeedback(e,i){return this.saveFeedback$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#t=this.FindAllFeedbacksByBookPath="/feedbacks/book/{book-id}";findAllFeedbacksByBook$Response(e,i){return Pn(this.http,this.rootUrl,e,i)}findAllFeedbacksByBook(e,i){return this.findAllFeedbacksByBook$Response(e,i).pipe((0,ae.U)(c=>c.body))}static#n=this.\u0275fac=function(i){return new(i||s)(o.LFG(se),o.LFG(J.eN))};static#o=this.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Ei(s,a){if(1&s&&(o.TgZ(0,"div",9),o._uU(1),o.qZA()),2&s){const e=o.oxw();o.xp6(1),o.hij(" ",e.feedbackError," ")}}function Be(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",10)(1,"div",11)(2,"h3",12),o._uU(3,"Return and Share Feedback"),o.qZA()(),o.TgZ(4,"div",13)(5,"div",14)(6,"div",15),o._uU(7,"Title"),o.qZA(),o.TgZ(8,"div",16),o._uU(9),o.qZA()(),o.TgZ(10,"div",14)(11,"div",15),o._uU(12,"Author"),o.qZA(),o.TgZ(13,"div",16),o._uU(14),o.qZA()(),o.TgZ(15,"div",14)(16,"div",15),o._uU(17,"ISBN"),o.qZA(),o.TgZ(18,"div",16),o._uU(19),o.qZA()(),o.TgZ(20,"div",14)(21,"div",15),o._uU(22,"Rate"),o.qZA(),o.TgZ(23,"div",16),o._uU(24),o.qZA()()(),o.TgZ(25,"div",17)(26,"div",18)(27,"div",19)(28,"label",20),o._uU(29,"Your Rating"),o.qZA(),o.TgZ(30,"div",21)(31,"input",22),o.NdJ("ngModelChange",function(c){o.CHM(e);const d=o.oxw();return o.KtG(d.feedbackRequest.note=c)}),o.qZA(),o.TgZ(32,"div",23),o._UZ(33,"app-rating",24),o.TgZ(34,"span",25),o._uU(35),o.qZA()()()(),o.TgZ(36,"div",26)(37,"label",27),o._uU(38,"Your Feedback"),o.qZA(),o.TgZ(39,"textarea",28),o.NdJ("ngModelChange",function(c){o.CHM(e);const d=o.oxw();return o.KtG(d.feedbackRequest.comment=c)}),o.qZA()(),o.TgZ(40,"div",29)(41,"button",30),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.returnBook(!0))}),o._UZ(42,"i",31),o.TgZ(43,"span"),o._uU(44),o.qZA()(),o.TgZ(45,"button",32),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.returnBook(!1))}),o._UZ(46,"i",33),o.TgZ(47,"span"),o._uU(48),o.qZA()(),o.TgZ(49,"button",34),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.cancelFeedback())}),o._UZ(50,"i",35),o.TgZ(51,"span"),o._uU(52,"Cancel"),o.qZA()()()()()()}if(2&s){const e=o.oxw();o.xp6(9),o.Oqu(null==e.selectedBook?null:e.selectedBook.title),o.xp6(5),o.Oqu(null==e.selectedBook?null:e.selectedBook.authorName),o.xp6(5),o.Oqu(null==e.selectedBook?null:e.selectedBook.isbn),o.xp6(5),o.Oqu(null==e.selectedBook?null:e.selectedBook.rate),o.xp6(7),o.Q6J("ngModel",e.feedbackRequest.note),o.xp6(2),o.Q6J("rating",e.feedbackRequest.note||0),o.xp6(2),o.Oqu(e.feedbackRequest.note),o.xp6(4),o.Q6J("ngModel",e.feedbackRequest.comment),o.xp6(2),o.Q6J("disabled",e.isSubmittingFeedback),o.xp6(3),o.Oqu(e.isSubmittingFeedback?"Processing...":"Rate & Return"),o.xp6(1),o.Q6J("disabled",e.isSubmittingFeedback),o.xp6(3),o.Oqu(e.isSubmittingFeedback?"Processing...":"Just Return"),o.xp6(1),o.Q6J("disabled",e.isSubmittingFeedback)}}function ke(s,a){if(1&s&&(o.TgZ(0,"div",51),o._UZ(1,"i",62),o.TgZ(2,"span"),o._uU(3),o.qZA()()),2&s){const e=o.oxw().$implicit,i=o.oxw(2);o.xp6(3),o.Oqu(i.formatDate(e.returnedDate))}}function Te(s,a){1&s&&(o.TgZ(0,"span",63),o._uU(1,"Not returned"),o.qZA())}function ht(s,a){1&s&&o._UZ(0,"i",64)}function xt(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"i",65),o.NdJ("click",function(){o.CHM(e);const c=o.oxw().$implicit,d=o.oxw(2);return o.KtG(d.returnBorrowedBook(c))}),o.qZA()}}function Nt(s,a){if(1&s&&(o.TgZ(0,"tr",50)(1,"td",39),o._uU(2),o.qZA(),o.TgZ(3,"td",40),o._uU(4),o.qZA(),o.TgZ(5,"td",41),o._uU(6),o.qZA(),o.TgZ(7,"td",42),o._uU(8),o.qZA(),o.TgZ(9,"td",43)(10,"div",23),o._UZ(11,"i",31),o.TgZ(12,"span"),o._uU(13),o.qZA()()(),o.TgZ(14,"td",44)(15,"div",51),o._UZ(16,"i",52),o.TgZ(17,"span"),o._uU(18),o.qZA()()(),o.TgZ(19,"td",44)(20,"div",53),o._UZ(21,"i",54),o.TgZ(22,"span",55),o._uU(23),o.qZA(),o.TgZ(24,"small"),o._uU(25,"days"),o.qZA()()(),o.TgZ(26,"td",44),o.YNc(27,ke,4,1,"div",56),o.YNc(28,Te,2,0,"ng-template",null,57,o.W1O),o.qZA(),o.TgZ(30,"td",45)(31,"div",58),o.YNc(32,ht,1,0,"i",59),o.YNc(33,xt,1,0,"i",60),o._UZ(34,"i",61),o.qZA()()()),2&s){const e=a.$implicit,i=a.index,c=o.MAs(29),d=o.oxw(2);o.xp6(2),o.Oqu(i+1),o.xp6(2),o.Oqu(e.title),o.xp6(2),o.Oqu(e.authorName),o.xp6(2),o.Oqu(e.isbn),o.xp6(5),o.Oqu(e.rate),o.xp6(5),o.Oqu(d.formatDate(e.borrowedDate)),o.xp6(5),o.Oqu(d.getDaysBorrowed(e.borrowedDate,e.returnedDate)),o.xp6(4),o.Q6J("ngIf",e.returned)("ngIfElse",c),o.xp6(5),o.Q6J("ngIf",e.returned),o.xp6(1),o.Q6J("ngIf",!e.returned),o.xp6(1),o.ekj("approved",e.returnApproved)}}function gt(s,a){1&s&&(o.TgZ(0,"div",66)(1,"div",67),o._UZ(2,"i",68),o.qZA(),o.TgZ(3,"div",69)(4,"h3"),o._uU(5,"No borrowed books"),o.qZA(),o.TgZ(6,"p"),o._uU(7,"You haven't borrowed any books yet. Explore the library and borrow some books!"),o.qZA()()())}function Nn(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"button",86),o.NdJ("click",function(){const d=o.CHM(e).$implicit,h=o.oxw(3);return o.KtG(h.gotToPage(d))}),o._uU(1),o.qZA()}if(2&s){const e=a.$implicit,i=o.oxw(3);o.ekj("active",i.page===e),o.xp6(1),o.hij(" ",e+1," ")}}function sn(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",70)(1,"div",71)(2,"button",72),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.goToFirstPage())}),o._UZ(3,"i",73),o.qZA(),o.TgZ(4,"button",74),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.goToPreviousPage())}),o._UZ(5,"i",75),o.qZA(),o.TgZ(6,"div",76),o.YNc(7,Nn,2,3,"button",77),o.qZA(),o.TgZ(8,"button",78),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.goToNextPage())}),o._UZ(9,"i",79),o.qZA(),o.TgZ(10,"button",80),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.goToLastPage())}),o._UZ(11,"i",81),o.qZA()(),o.TgZ(12,"div",82)(13,"span",83),o._UZ(14,"i",84),o.TgZ(15,"span",85),o._uU(16),o.qZA()()()()}if(2&s){const e=o.oxw(2);o.xp6(2),o.ekj("disabled",0===e.page),o.Q6J("disabled",0===e.page),o.xp6(2),o.ekj("disabled",0===e.page),o.Q6J("disabled",0===e.page),o.xp6(3),o.Q6J("ngForOf",e.pages),o.xp6(1),o.ekj("disabled",e.isLastPage),o.Q6J("disabled",e.isLastPage),o.xp6(2),o.ekj("disabled",e.isLastPage),o.Q6J("disabled",e.isLastPage),o.xp6(6),o.AsE("Page ",e.page+1," of ",(null==e.borrowedBooks?null:e.borrowedBooks.totalPages)||1,"")}}function po(s,a){if(1&s&&(o.TgZ(0,"div",36)(1,"div",37)(2,"table",38)(3,"thead")(4,"tr")(5,"th",39),o._uU(6,"#"),o.qZA(),o.TgZ(7,"th",40),o._uU(8,"Title"),o.qZA(),o.TgZ(9,"th",41),o._uU(10,"Author"),o.qZA(),o.TgZ(11,"th",42),o._uU(12,"ISBN"),o.qZA(),o.TgZ(13,"th",43),o._uU(14,"Rating"),o.qZA(),o.TgZ(15,"th",44),o._uU(16,"Borrowed Date"),o.qZA(),o.TgZ(17,"th",44),o._uU(18,"Days"),o.qZA(),o.TgZ(19,"th",44),o._uU(20,"Returned Date"),o.qZA(),o.TgZ(21,"th",45),o._UZ(22,"i",46),o.qZA()()(),o.TgZ(23,"tbody"),o.YNc(24,Nt,35,13,"tr",47),o.qZA()(),o.YNc(25,gt,8,0,"div",48),o.qZA(),o.YNc(26,sn,17,15,"div",49),o.qZA()),2&s){const e=o.oxw();o.xp6(24),o.Q6J("ngForOf",e.borrowedBooks.content),o.xp6(1),o.Q6J("ngIf",!(null!=e.borrowedBooks.content&&e.borrowedBooks.content.length)),o.xp6(1),o.Q6J("ngIf",((null==e.borrowedBooks?null:e.borrowedBooks.totalPages)||0)>1)}}let si=(()=>{class s{constructor(e,i){this.bookService=e,this.feedbackService=i,this.page=0,this.size=5,this.pages=[],this.borrowedBooks={},this.selectedBook=void 0,this.feedbackRequest={bookId:0,comment:"",note:1},this.isSubmittingFeedback=!1,this.feedbackError=null}ngOnInit(){this.findAllBorrowedBooks()}formatDate(e){if(!e)return"N/A";try{const i=new Date(e);return i.toLocaleDateString()+" "+i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}}getDaysBorrowed(e,i){if(!e)return 0;const c=new Date(e),h=(i?new Date(i):new Date).getTime()-c.getTime();return Math.ceil(h/864e5)}findAllBorrowedBooks(){this.bookService.findAllBorrowedBooks({page:this.page,size:this.size}).subscribe({next:e=>{this.borrowedBooks=e,this.pages=Array(this.borrowedBooks.totalPages).fill(0).map((i,c)=>c)},error:e=>{console.error("Error fetching borrowed books:",e)}})}gotToPage(e){this.page=e,this.findAllBorrowedBooks()}goToFirstPage(){this.page=0,this.findAllBorrowedBooks()}goToPreviousPage(){this.page--,this.findAllBorrowedBooks()}goToLastPage(){this.page=this.borrowedBooks.totalPages-1,this.findAllBorrowedBooks()}goToNextPage(){this.page++,this.findAllBorrowedBooks()}get isLastPage(){return this.page===this.borrowedBooks.totalPages-1}returnBorrowedBook(e){this.selectedBook=e,this.feedbackRequest.bookId=e.id,this.feedbackRequest.note=1,this.feedbackRequest.comment="",this.feedbackError=null}onRatingChange(e){this.feedbackRequest.note=e}returnBook(e){e&&(null==this.feedbackRequest.note||this.feedbackRequest.note<=0)?this.feedbackError="Please provide a rating before submitting feedback.":(this.isSubmittingFeedback=!0,this.feedbackError=null,this.bookService.returnBorrowBook({"book-id":this.selectedBook?.id}).subscribe({next:()=>{e?this.giveFeedback():(this.resetFeedbackForm(),this.findAllBorrowedBooks())},error:i=>{console.error("Error returning book:",i),this.feedbackError="Failed to return book. Please try again.",this.isSubmittingFeedback=!1}}))}giveFeedback(){this.feedbackService.saveFeedback({body:this.feedbackRequest}).subscribe({next:()=>{console.log("Feedback submitted successfully"),this.resetFeedbackForm(),this.findAllBorrowedBooks()},error:e=>{console.error("Error submitting feedback:",e),this.feedbackError="Book returned but failed to submit feedback.",this.isSubmittingFeedback=!1,this.findAllBorrowedBooks()}})}resetFeedbackForm(){this.selectedBook=void 0,this.feedbackRequest={bookId:0,comment:"",note:1},this.isSubmittingFeedback=!1,this.feedbackError=null}cancelFeedback(){this.resetFeedbackForm()}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(vn),o.Y36(Go))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-borrowed-book-list"]],decls:11,vars:3,consts:[[1,"library-container"],[1,"book-header"],[1,"section-title"],[1,"book-divider"],[1,"divider-line"],[1,"fas","fa-book-open","divider-icon"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","return-book-section",4,"ngIf"],["class","borrowed-books-table",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"return-book-section"],[1,"return-header"],[1,"return-title"],[1,"book-details-card"],[1,"book-detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"feedback-form"],[1,"feedback-fields"],[1,"rating-field"],["for","rate",1,"rating-label"],[1,"rating-controls"],["type","range","id","rate","name","rate","min","1","max","5","step","0.5",1,"rating-slider",3,"ngModel","ngModelChange"],[1,"rating-display"],[3,"rating"],[1,"rating-value"],[1,"comment-field"],["for","feedback-comment",1,"comment-label"],["rows","4","id","feedback-comment","name","feedback-comment","placeholder","Share your thoughts about this book...",1,"comment-textarea",3,"ngModel","ngModelChange"],[1,"form-actions"],["type","button",1,"library-btn","primary-btn",3,"disabled","click"],[1,"fas","fa-star"],["type","button",1,"library-btn","secondary-btn",3,"disabled","click"],[1,"fa-solid","fa-paper-plane"],["type","button",1,"library-btn","cancel-btn",3,"disabled","click"],[1,"fas","fa-times"],[1,"borrowed-books-table"],[1,"table-container"],[1,"books-table"],[1,"index-column"],[1,"title-column"],[1,"author-column"],[1,"isbn-column"],[1,"rating-column"],[1,"date-column"],[1,"actions-column"],[1,"fas","fa-cogs"],["class","book-row",4,"ngFor","ngForOf"],["class","empty-table",4,"ngIf"],["class","library-pagination",4,"ngIf"],[1,"book-row"],[1,"date-info"],[1,"fas","fa-calendar-alt"],[1,"days-info"],[1,"fas","fa-clock"],[1,"days-count"],["class","date-info",4,"ngIf","ngIfElse"],["notReturned",""],[1,"book-actions"],["class","fa-regular fa-paper-plane returned-icon","title","Already returned",4,"ngIf"],["class","fa-solid fa-paper-plane return-icon","title","Return this book",3,"click",4,"ngIf"],["title","Return approval status",1,"fa-solid","fa-circle-check","approval-icon"],[1,"fas","fa-calendar-check"],[1,"not-returned"],["title","Already returned",1,"fa-regular","fa-paper-plane","returned-icon"],["title","Return this book",1,"fa-solid","fa-paper-plane","return-icon",3,"click"],[1,"empty-table"],[1,"empty-bookend"],[1,"fas","fa-book-reader"],[1,"empty-message"],[1,"library-pagination"],[1,"pagination-controls"],["aria-label","First page",1,"page-btn","first-page",3,"disabled","click"],[1,"fas","fa-angles-left"],["aria-label","Previous page",1,"page-btn","prev-page",3,"disabled","click"],[1,"fas","fa-angle-left"],[1,"page-numbers"],["class","page-number",3,"active","click",4,"ngFor","ngForOf"],["aria-label","Next page",1,"page-btn","next-page",3,"disabled","click"],[1,"fas","fa-angle-right"],["aria-label","Last page",1,"page-btn","last-page",3,"disabled","click"],[1,"fas","fa-angles-right"],[1,"page-indicator"],[1,"bookmark"],[1,"fas","fa-bookmark"],[1,"bookmark-text"],[1,"page-number",3,"click"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),o._uU(3,"My Borrowed Books"),o.qZA(),o.TgZ(4,"div",3),o._UZ(5,"span",4)(6,"i",5)(7,"span",4),o.qZA()(),o.YNc(8,Ei,2,1,"div",6),o.YNc(9,Be,53,13,"div",7),o.YNc(10,po,27,3,"div",8),o.qZA()),2&i&&(o.xp6(8),o.Q6J("ngIf",c.feedbackError),o.xp6(1),o.Q6J("ngIf",c.selectedBook),o.xp6(1),o.Q6J("ngIf",!c.selectedBook))},dependencies:[g.sg,g.O5,B.Fj,B.eT,B.JJ,B.On,Dt],styles:[".library-container[_ngcontent-%COMP%]{background-color:#f8efd4;background-image:url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23b9a577' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\");padding:30px;border-radius:10px;box-shadow:0 10px 30px #0000001a,inset 0 0 0 1px #0000000d;max-width:1400px;margin:20px auto;position:relative}.library-container[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:0;left:0;right:0;height:20px;background:linear-gradient(to right,#6A1B9A,#8B4513,#6A1B9A);border-radius:10px 10px 0 0}.library-container[_ngcontent-%COMP%]:after{content:\"\";position:absolute;top:20px;left:0;right:0;height:3px;background:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.1) 2%,rgba(0,0,0,.05) 98%,rgba(0,0,0,.2) 100%)}.book-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;padding-top:10px}.section-title[_ngcontent-%COMP%]{font-family:Georgia,serif;font-size:32px;font-weight:700;color:#5d4037;margin-bottom:10px;text-shadow:1px 1px 1px rgba(0,0,0,.1);letter-spacing:1px}.book-divider[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:10px 0 20px}.book-divider[_ngcontent-%COMP%]   .divider-line[_ngcontent-%COMP%]{height:1px;width:100px;background:linear-gradient(to right,transparent,#8B4513,transparent)}.book-divider[_ngcontent-%COMP%]   .divider-icon[_ngcontent-%COMP%]{color:#8b4513;font-size:22px;margin:0 15px;opacity:.8}.return-book-section[_ngcontent-%COMP%]{background-color:#fff9;border-radius:8px;padding:25px;box-shadow:0 4px 15px #0000000d;margin-bottom:40px;border-left:4px solid #6A1B9A}.return-header[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.return-title[_ngcontent-%COMP%]{color:#654321;font-size:24px;font-weight:600;position:relative;display:inline-block}.return-title[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;right:0;bottom:-8px;height:2px;background:linear-gradient(to right,transparent,#8B4513,transparent)}.book-details-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:20px;box-shadow:0 2px 8px #0000000d;margin-bottom:25px}.book-detail-item[_ngcontent-%COMP%]{display:flex;margin-bottom:12px;padding-bottom:12px;border-bottom:1px solid rgba(0,0,0,.05)}.book-detail-item[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0}.detail-label[_ngcontent-%COMP%]{flex:0 0 120px;font-weight:600;color:#654321}.detail-value[_ngcontent-%COMP%]{flex:1;color:#5d4037}.feedback-form[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:25px;box-shadow:0 2px 8px #0000000d}.feedback-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.rating-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.rating-label[_ngcontent-%COMP%], .comment-label[_ngcontent-%COMP%]{font-weight:600;color:#654321;margin-bottom:8px}.rating-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.rating-slider[_ngcontent-%COMP%]{flex:0 0 250px;height:8px;border-radius:4px;background:linear-gradient(to right,#712F26,#FFB300,#43A047);appearance:none;outline:none}.rating-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:#654321;cursor:pointer;box-shadow:0 2px 5px #0003;-webkit-transition:all .2s ease;transition:all .2s ease}.rating-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.1)}.rating-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.rating-display[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffb300}.rating-display[_ngcontent-%COMP%]   .rating-value[_ngcontent-%COMP%]{font-weight:600;color:#654321}.comment-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.comment-textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid rgba(139,69,19,.2);border-radius:6px;resize:vertical;font-size:14px;transition:border-color .2s ease}.comment-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b4513;box-shadow:0 0 0 3px #8b45131a}.comment-textarea[_ngcontent-%COMP%]::placeholder{color:#65432166}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:10px}.library-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;border:none;text-decoration:none}.library-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.library-btn.primary-btn[_ngcontent-%COMP%]{background-color:#654321;color:#fff}.library-btn.primary-btn[_ngcontent-%COMP%]:hover{background-color:#52361b;transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.library-btn.secondary-btn[_ngcontent-%COMP%]{background-color:#43a047;color:#fff}.library-btn.secondary-btn[_ngcontent-%COMP%]:hover{background-color:#3b8e3f;transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.library-btn.cancel-btn[_ngcontent-%COMP%]{background-color:#0000000d;color:#712f26}.library-btn.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#712f261a}.borrowed-books-table[_ngcontent-%COMP%]{margin-bottom:30px}.table-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 15px #0000000d;overflow:hidden;position:relative}.table-container[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(to right,#6A1B9A,#8B4513)}.books-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.books-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .books-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;text-align:left;border-bottom:1px solid rgba(0,0,0,.05)}.books-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#8b45130d;font-weight:600;color:#654321;font-size:14px;white-space:nowrap}.books-table[_ngcontent-%COMP%]   .book-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.books-table[_ngcontent-%COMP%]   .book-row[_ngcontent-%COMP%]:hover{background-color:#f8efd466}.books-table[_ngcontent-%COMP%]   .index-column[_ngcontent-%COMP%]{width:50px;text-align:center}.books-table[_ngcontent-%COMP%]   .rating-column[_ngcontent-%COMP%]{width:100px}.books-table[_ngcontent-%COMP%]   .actions-column[_ngcontent-%COMP%]{width:100px;text-align:center}.books-table[_ngcontent-%COMP%]   .title-column[_ngcontent-%COMP%]{font-weight:500;color:#5d4037}.books-table[_ngcontent-%COMP%]   .isbn-column[_ngcontent-%COMP%]{font-family:monospace;color:#036}.books-table[_ngcontent-%COMP%]   .date-column[_ngcontent-%COMP%]{min-width:140px;text-align:center;padding:12px 8px}.date-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px}.date-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;color:#8b4513}.date-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;font-weight:500;color:#5d4037}.days-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px}.days-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;color:#1976d2}.days-info[_ngcontent-%COMP%]   .days-count[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#1976d2}.days-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:10px;color:#65432199}.not-returned[_ngcontent-%COMP%]{font-size:11px;color:#712f26;font-style:italic;padding:2px 6px;background-color:#712f261a;border-radius:4px}.book-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px}.book-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;cursor:pointer;transition:all .2s ease}.book-actions[_ngcontent-%COMP%]   i.returned-icon[_ngcontent-%COMP%]{color:#90a4ae}.book-actions[_ngcontent-%COMP%]   i.return-icon[_ngcontent-%COMP%]{color:#43a047}.book-actions[_ngcontent-%COMP%]   i.return-icon[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#3b8e3f}.book-actions[_ngcontent-%COMP%]   i.approval-icon[_ngcontent-%COMP%]{color:#bdbdbd}.book-actions[_ngcontent-%COMP%]   i.approval-icon.approved[_ngcontent-%COMP%]{color:#43a047}.empty-table[_ngcontent-%COMP%]{padding:60px 20px;text-align:center;display:flex;flex-direction:column;align-items:center}.empty-bookend[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#6A1B9A,#3d1059);display:flex;align-items:center;justify-content:center;border-radius:12px;margin-bottom:25px;box-shadow:0 5px 15px #0000001a}.empty-bookend[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f8efd4;font-size:36px}.empty-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#654321;margin-bottom:10px;font-weight:600}.empty-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#654321cc;font-size:16px;max-width:350px;margin:0 auto;line-height:1.6}.library-pagination[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-direction:column;align-items:center}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:15px}.page-btn[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(139,69,19,.15);border-radius:4px;background-color:#fffc;color:#654321;cursor:pointer;transition:all .2s ease}.page-btn[_ngcontent-%COMP%]:hover:not(.disabled):not(:disabled){background-color:#fffffff2;border-color:#8b45134d}.page-btn[_ngcontent-%COMP%]:active:not(.disabled):not(:disabled){transform:translateY(1px)}.page-btn.disabled[_ngcontent-%COMP%], .page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.page-numbers[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.page-number[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(139,69,19,.15);border-radius:4px;background-color:#fffc;color:#654321;font-weight:500;cursor:pointer;transition:all .2s ease}.page-number[_ngcontent-%COMP%]:hover:not(.active){background-color:#fffffff2;border-color:#8b45134d}.page-number.active[_ngcontent-%COMP%]{background-color:#8b4513;color:#fff;border-color:#8b4513;box-shadow:0 2px 5px #0000001a}.page-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:5px}.bookmark[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background-color:#fff;border-radius:20px;box-shadow:0 2px 8px #0000000d;position:relative}.bookmark[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:-12px;left:50%;transform:translate(-50%);width:16px;height:18px;background-color:#6a1b9a;border-radius:2px 2px 0 0}.bookmark[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6a1b9a;font-size:16px}.bookmark[_ngcontent-%COMP%]   .bookmark-text[_ngcontent-%COMP%]{font-size:14px;color:#654321;font-weight:500}i[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 1200px){.date-column[_ngcontent-%COMP%]{min-width:100px;font-size:10px}.date-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .days-count[_ngcontent-%COMP%]{font-size:10px}}@media (max-width: 768px){.library-container[_ngcontent-%COMP%]{padding:20px}.books-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .books-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px}.books-table[_ngcontent-%COMP%]   .author-column[_ngcontent-%COMP%], .books-table[_ngcontent-%COMP%]   .isbn-column[_ngcontent-%COMP%], .books-table[_ngcontent-%COMP%]   .date-column[_ngcontent-%COMP%]{display:none}.form-actions[_ngcontent-%COMP%]{flex-direction:column;width:100%}.form-actions[_ngcontent-%COMP%]   .library-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 576px){.rating-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.rating-controls[_ngcontent-%COMP%]   .rating-slider[_ngcontent-%COMP%]{width:100%}}"]})}return s})();function wo(s,a){if(1&s&&(o.TgZ(0,"div",20)(1,"p"),o._uU(2),o.qZA()()),2&s){const e=o.oxw();o.ekj("alert-danger","error"===e.level)("alert-success","success"===e.level),o.xp6(2),o.Oqu(e.message)}}function Wo(s,a){1&s&&o._UZ(0,"i",36)}function Lo(s,a){1&s&&o._UZ(0,"i",37)}function vi(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"tr")(1,"th",21),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._UZ(10,"i",22),o._uU(11),o.qZA(),o.TgZ(12,"td",23)(13,"div",24),o._UZ(14,"i",25),o.TgZ(15,"small"),o._uU(16),o.qZA()()(),o.TgZ(17,"td",23)(18,"div",26),o._UZ(19,"i",27),o.TgZ(20,"span",28),o._uU(21),o.qZA()()(),o.TgZ(22,"td",23)(23,"div",24),o._UZ(24,"i",29),o.TgZ(25,"small"),o._uU(26),o.qZA()()(),o.TgZ(27,"td",23)(28,"div",26),o._UZ(29,"i",30),o.TgZ(30,"span",31),o._uU(31),o.qZA()()(),o.TgZ(32,"td")(33,"div",32),o.YNc(34,Wo,1,0,"i",33),o.YNc(35,Lo,1,0,"i",34),o.TgZ(36,"i",35),o.NdJ("click",function(){const d=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.approveBookReturn(d))}),o.qZA()()()()}if(2&s){const e=a.$implicit,i=a.index,c=o.oxw();o.xp6(2),o.Oqu(i+1),o.xp6(2),o.Oqu(e.title),o.xp6(2),o.Oqu(e.authorName),o.xp6(2),o.Oqu(e.isbn),o.xp6(3),o.hij(" ",e.rate,""),o.xp6(5),o.Oqu(c.formatDate(e.borrowedDate)),o.xp6(5),o.hij("",c.getDaysBorrowed(e.borrowedDate,e.returnedDate)," days"),o.xp6(5),o.Oqu(c.formatDate(e.returnedDate)),o.xp6(5),o.hij("",c.getDaysSinceReturned(e.returnedDate)," days ago"),o.xp6(3),o.Q6J("ngIf",e.returned),o.xp6(1),o.Q6J("ngIf",!e.returned),o.xp6(1),o.ekj("text-success",e.returnApproved)("text-muted",!e.returnApproved),o.Q6J("title",e.returnApproved?"Return approved":"Click to approve return")}}function wn(s,a){1&s&&(o.TgZ(0,"div",38),o._UZ(1,"i",39),o.TgZ(2,"p"),o._uU(3,"No returned books found"),o.qZA()())}function On(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"li",10)(1,"a",40),o.NdJ("click",function(){const d=o.CHM(e).$implicit,h=o.oxw();return o.KtG(h.gotToPage(d))}),o._uU(2),o.qZA()()}if(2&s){const e=a.$implicit,i=o.oxw();o.xp6(1),o.ekj("active",i.page===e),o.xp6(1),o.hij(" ",e+1," ")}}let _n=(()=>{class s{constructor(e){this.bookService=e,this.page=0,this.size=5,this.pages=[],this.returnedBooks={},this.message="",this.level="success"}ngOnInit(){this.findAllReturnedBooks()}formatDate(e){if(!e)return"N/A";try{const i=new Date(e);return i.toLocaleDateString()+" "+i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}}getDaysBorrowed(e,i){if(!e||!i)return 0;const c=new Date(e),h=new Date(i).getTime()-c.getTime();return Math.ceil(h/864e5)}getDaysSinceReturned(e){if(!e)return 0;const i=new Date(e),d=(new Date).getTime()-i.getTime();return Math.ceil(d/864e5)}findAllReturnedBooks(){this.bookService.findAllReturnedBooks({page:this.page,size:this.size}).subscribe({next:e=>{this.returnedBooks=e,this.pages=Array(this.returnedBooks.totalPages).fill(0).map((i,c)=>c)}})}gotToPage(e){this.page=e,this.findAllReturnedBooks()}goToFirstPage(){this.page=0,this.findAllReturnedBooks()}goToPreviousPage(){this.page--,this.findAllReturnedBooks()}goToLastPage(){this.page=this.returnedBooks.totalPages-1,this.findAllReturnedBooks()}goToNextPage(){this.page++,this.findAllReturnedBooks()}get isLastPage(){return this.page===this.returnedBooks.totalPages-1}approveBookReturn(e){e.returned&&this.bookService.approveReturnBorrowBook({"book-id":e.id}).subscribe({next:()=>{this.level="success",this.message="Book return approved",this.findAllReturnedBooks()}})}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(vn))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-returned-books"]],decls:47,vars:12,consts:[[1,"returned-books-container"],["class","alert","role","alert",3,"alert-danger","alert-success",4,"ngIf"],[1,"table"],["scope","col"],[1,"fas","fa-cogs"],[4,"ngFor","ngForOf"],["class","empty-books-message",4,"ngIf"],[1,"d-flex","justify-content-center","mt-3"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],["href","javascript:void(0)","aria-label","First",1,"page-link",3,"click"],[1,"fa-solid","fa-angles-left"],["href","javascript:void(0)","aria-label","Previous",1,"page-link",3,"click"],[1,"fa-solid","fa-angle-left"],["class","page-item",4,"ngFor","ngForOf"],["href","javascript:void(0)","aria-label","Next",1,"page-link",3,"click"],[1,"fa-solid","fa-chevron-right"],["href","javascript:void(0)","aria-label","Last",1,"page-link",3,"click"],[1,"fa-solid","fa-angles-right"],["role","alert",1,"alert"],["scope","row"],[1,"fas","fa-star","text-warning"],[1,"date-column"],[1,"date-info"],[1,"fas","fa-calendar-plus","text-info"],[1,"days-info"],[1,"fas","fa-hourglass-half","text-primary"],[1,"badge","bg-primary"],[1,"fas","fa-calendar-check","text-success"],[1,"fas","fa-clock","text-secondary"],[1,"badge","bg-secondary"],[1,"d-flex","gap-2"],["class","fa-regular fa-paper-plane text-primary","title","Book returned",4,"ngIf"],["class","fa-solid fa-paper-plane text-success","title","Not returned",4,"ngIf"],[1,"fa-solid","fa-circle-check",2,"cursor","pointer",3,"title","click"],["title","Book returned",1,"fa-regular","fa-paper-plane","text-primary"],["title","Not returned",1,"fa-solid","fa-paper-plane","text-success"],[1,"empty-books-message"],[1,"fas","fa-book-open"],["href","javascript:void(0)",1,"page-link",3,"click"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0)(1,"h2"),o._uU(2,"My Returned Books"),o.qZA(),o._UZ(3,"hr"),o.YNc(4,wo,3,5,"div",1),o.TgZ(5,"table",2)(6,"thead")(7,"tr")(8,"th",3),o._uU(9,"#"),o.qZA(),o.TgZ(10,"th",3),o._uU(11,"Title"),o.qZA(),o.TgZ(12,"th",3),o._uU(13,"Author"),o.qZA(),o.TgZ(14,"th",3),o._uU(15,"ISBN"),o.qZA(),o.TgZ(16,"th",3),o._uU(17,"Rate"),o.qZA(),o.TgZ(18,"th",3),o._uU(19,"Borrowed Date"),o.qZA(),o.TgZ(20,"th",3),o._uU(21,"Days Borrowed"),o.qZA(),o.TgZ(22,"th",3),o._uU(23,"Return Date"),o.qZA(),o.TgZ(24,"th",3),o._uU(25,"Days Since Return"),o.qZA(),o.TgZ(26,"th",3),o._UZ(27,"i",4),o.qZA()()(),o.TgZ(28,"tbody"),o.YNc(29,vi,37,16,"tr",5),o.qZA()(),o.YNc(30,wn,4,0,"div",6),o.TgZ(31,"div",7)(32,"nav",8)(33,"ul",9)(34,"li",10)(35,"a",11),o.NdJ("click",function(){return c.goToFirstPage()}),o._UZ(36,"i",12),o.qZA()(),o.TgZ(37,"li",10)(38,"a",13),o.NdJ("click",function(){return c.goToPreviousPage()}),o._UZ(39,"i",14),o.qZA()(),o.YNc(40,On,3,3,"li",15),o.TgZ(41,"li",10)(42,"a",16),o.NdJ("click",function(){return c.goToNextPage()}),o._UZ(43,"i",17),o.qZA()(),o.TgZ(44,"li",10)(45,"a",18),o.NdJ("click",function(){return c.goToLastPage()}),o._UZ(46,"i",19),o.qZA()()()()()()),2&i&&(o.xp6(4),o.Q6J("ngIf",c.message),o.xp6(25),o.Q6J("ngForOf",c.returnedBooks.content),o.xp6(1),o.Q6J("ngIf",!(null!=c.returnedBooks&&null!=c.returnedBooks.content&&c.returnedBooks.content.length)),o.xp6(5),o.ekj("disabled",0===c.page),o.xp6(3),o.ekj("disabled",0===c.page),o.xp6(2),o.Q6J("ngForOf",c.pages),o.xp6(2),o.ekj("disabled",c.isLastPage),o.xp6(3),o.ekj("disabled",c.isLastPage))},dependencies:[g.sg,g.O5],styles:[".returned-books-container[_ngcontent-%COMP%]{background-color:#f8efd4;background-image:url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23b9a577' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\");padding:30px;max-width:1200px;margin:20px auto;border-radius:10px;box-shadow:0 10px 30px #0000001a;position:relative}.returned-books-container[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:0;left:0;right:0;height:20px;background:linear-gradient(to right,#712F26,#8B4513,#712F26);border-radius:10px 10px 0 0}h2[_ngcontent-%COMP%]{font-family:Georgia,serif;font-size:32px;font-weight:700;color:#5d4037;margin-bottom:10px;text-align:center;position:relative}h2[_ngcontent-%COMP%]:after{content:\"\";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:80px;height:3px;background:linear-gradient(to right,transparent,#8B4513,transparent)}hr[_ngcontent-%COMP%]{border:none;height:1px;background:linear-gradient(to right,transparent,rgba(140,94,52,.5),transparent);margin:25px 0;opacity:.5}.alert[_ngcontent-%COMP%]{padding:15px 20px;border-radius:8px;margin-bottom:25px;box-shadow:0 2px 8px #0000000d}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#dc35451a;border-left:4px solid #dc3545;color:#bd2130}.alert.alert-success[_ngcontent-%COMP%]{background-color:#28a7451a;border-left:4px solid #28a745;color:#1e7e34}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.table[_ngcontent-%COMP%]{width:100%;background-color:#fffc;border-collapse:separate;border-spacing:0;border-radius:8px;box-shadow:0 4px 12px #0000000d;margin-bottom:30px;border:1px solid rgba(140,94,52,.1);overflow:hidden}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#8c5e341a}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#5d4037;padding:15px;font-size:14px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid rgba(140,94,52,.2)}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .2s ease}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#8b45130d}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ffffff80}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid rgba(140,94,52,.1);vertical-align:middle;color:#5d4037}.empty-books-message[_ngcontent-%COMP%]{text-align:center;padding:50px 0;color:#8c5e34}.empty-books-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:15px;opacity:.7}.empty-books-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.fa-star[_ngcontent-%COMP%]{color:#ffb300!important;margin-right:5px}.fa-paper-plane.text-primary[_ngcontent-%COMP%]{color:#0275d8!important}.fa-paper-plane.text-success[_ngcontent-%COMP%], .fa-circle-check.text-success[_ngcontent-%COMP%]{color:#28a745!important}i[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease}i[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.pagination[_ngcontent-%COMP%]{display:flex;gap:5px}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;background-color:#fff;color:#8c5e34;border:1px solid rgba(140,94,52,.2);transition:all .2s ease}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover:not(.disabled):not(.active){background-color:#8c5e341a}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link.active[_ngcontent-%COMP%]{background-color:#8b4513;color:#fff;border-color:#8b4513}@media (max-width: 768px){.returned-books-container[_ngcontent-%COMP%]{padding:20px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){display:none}}"]})}return s})();var So=O(5775);function oo(s,a){1&s&&(o.TgZ(0,"div",3)(1,"div",4)(2,"span",5),o._uU(3,"Loading..."),o.qZA()()())}function mo(s,a){if(1&s&&(o.TgZ(0,"div",28),o._uU(1),o.qZA()),2&s){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.formatGenre(e.book.genre)," ")}}function Xo(s,a){if(1&s&&(o.TgZ(0,"div",31)(1,"div",32),o._UZ(2,"app-rating",20),o.TgZ(3,"span",21),o._uU(4),o.qZA()(),o.TgZ(5,"p",33),o._uU(6),o.qZA()()),2&s){const e=a.$implicit;o.xp6(2),o.Q6J("rating",e.note||0),o.xp6(2),o.Oqu(e.note),o.xp6(2),o.Oqu(e.comment)}}function Bo(s,a){if(1&s&&(o.TgZ(0,"div",29),o.YNc(1,Xo,7,3,"div",30),o.qZA()),2&s){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.feedbacks.content)}}function yi(s,a){1&s&&(o.TgZ(0,"div",34),o._uU(1," No feedbacks available for this book yet. "),o.qZA())}function Uo(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"li",38)(1,"button",45),o.NdJ("click",function(){const d=o.CHM(e).$implicit,h=o.oxw(3);return o.KtG(h.gotToPage(d))}),o._uU(2),o.qZA()()}if(2&s){const e=a.$implicit,i=o.oxw(3);o.ekj("active",i.page===e),o.xp6(2),o.hij(" ",e+1," ")}}function Er(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",35)(1,"nav",36)(2,"ul",37)(3,"li",38)(4,"button",39),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.goToFirstPage())}),o._UZ(5,"i",40),o.qZA()(),o.TgZ(6,"li",38)(7,"button",39),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.goToPreviousPage())}),o._UZ(8,"i",41),o.qZA()(),o.YNc(9,Uo,3,3,"li",42),o.TgZ(10,"li",38)(11,"button",39),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.goToNextPage())}),o._UZ(12,"i",43),o.qZA()(),o.TgZ(13,"li",38)(14,"button",39),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.goToLastPage())}),o._UZ(15,"i",44),o.qZA()()()()()}if(2&s){const e=o.oxw(2);o.xp6(3),o.ekj("disabled",0===e.page),o.xp6(1),o.Q6J("disabled",0===e.page),o.xp6(2),o.ekj("disabled",0===e.page),o.xp6(1),o.Q6J("disabled",0===e.page),o.xp6(2),o.Q6J("ngForOf",e.pages),o.xp6(1),o.ekj("disabled",e.isLastPage),o.xp6(1),o.Q6J("disabled",e.isLastPage),o.xp6(2),o.ekj("disabled",e.isLastPage),o.xp6(1),o.Q6J("disabled",e.isLastPage)}}function ei(s,a){if(1&s&&(o.TgZ(0,"div",6)(1,"div",7)(2,"div",8),o._UZ(3,"img",9),o.YNc(4,mo,2,1,"div",10),o.qZA(),o.TgZ(5,"div",11)(6,"div",12),o._UZ(7,"i",13),o._uU(8),o.qZA(),o.TgZ(9,"div",14),o._UZ(10,"i",15),o._uU(11),o.qZA(),o.TgZ(12,"div",16),o._UZ(13,"i",17),o._uU(14),o.qZA(),o.TgZ(15,"div",18),o._UZ(16,"i",15),o._uU(17),o.qZA(),o.TgZ(18,"div",19),o._UZ(19,"app-rating",20),o.TgZ(20,"span",21),o._uU(21),o.qZA(),o.TgZ(22,"span",22),o._uU(23),o.qZA()()()(),o.TgZ(24,"div",23),o._uU(25),o.qZA(),o.TgZ(26,"div",24),o.YNc(27,Bo,2,1,"div",25),o.YNc(28,yi,2,0,"div",26),o.qZA(),o.YNc(29,Er,16,13,"div",27),o.qZA()),2&s){const e=o.oxw();o.xp6(3),o.Q6J("src",e.book.cover?"data:image/jpg;base64,"+e.book.cover:"https://via.placeholder.com/300x400?text=No+Cover",o.LSH)("alt",e.book.title),o.xp6(1),o.Q6J("ngIf",e.book.genre),o.xp6(4),o.hij(" ",e.book.title," "),o.xp6(3),o.hij(" ",e.book.authorName," "),o.xp6(3),o.hij(" ",e.book.isbn," "),o.xp6(3),o.hij(" ",e.book.owner," "),o.xp6(2),o.Q6J("rating",e.book.rate||0),o.xp6(2),o.Oqu(e.book.rate||0),o.xp6(2),o.hij("(",(null==e.feedbacks?null:e.feedbacks.totalElements)||0," feedbacks)"),o.xp6(2),o.hij(" ",e.book.synopsis," "),o.xp6(2),o.Q6J("ngIf",!e.error&&e.feedbacks&&e.feedbacks.content&&e.feedbacks.content.length>0),o.xp6(1),o.Q6J("ngIf",!(e.error||e.feedbacks&&e.feedbacks.content&&0!==e.feedbacks.content.length)),o.xp6(1),o.Q6J("ngIf",!e.error&&e.feedbacks&&e.feedbacks.content&&e.feedbacks.content.length>0&&e.feedbacks.totalPages&&e.feedbacks.totalPages>1)}}let xi=(()=>{class s{constructor(e,i,c,d){this.bookService=e,this.feedbackService=i,this.activatedRoute=c,this.router=d,this.book={},this.feedbacks={content:[]},this.page=0,this.size=5,this.pages=[],this.bookId=0,this.loading=!0,this.error=!1}ngOnInit(){this.bookId=this.activatedRoute.snapshot.params.bookId,this.bookId&&(this.loading=!0,this.bookService.findBookById({"book-id":this.bookId}).pipe((0,on.K)(e=>(console.error("Error loading book details:",e),this.error=!0,this.loading=!1,(0,Bn.of)({id:this.bookId,title:"Book Not Found",authorName:"Unknown Author",isbn:"N/A",synopsis:"Sorry, this book could not be loaded.",rate:0,owner:"Unknown"})))).subscribe({next:e=>{this.book=e,this.loading=!1,this.findAllFeedbacks()}}))}formatGenre(e){return e?e.charAt(0)+e.slice(1).toLowerCase():"Unknown"}getGenreClass(e){switch(e){case"ROMANCE":return"badge-romance";case"HORROR":return"badge-horror";case"COMEDY":return"badge-comedy";case"SCIFI":return"badge-scifi";case"FANTASY":return"badge-fantasy";default:return"badge-secondary"}}findAllFeedbacks(){this.error||this.feedbackService.findAllFeedbacksByBook({"book-id":this.bookId,page:this.page,size:this.size}).pipe((0,on.K)(e=>(console.error("Error loading feedbacks:",e),(0,Bn.of)({content:[],totalElements:0,totalPages:1})))).subscribe({next:e=>{this.feedbacks=e,this.pages=Array.from(Array(this.feedbacks.totalPages||0).keys())}})}gotToPage(e){this.page=e,this.findAllFeedbacks()}goToFirstPage(){this.page=0,this.findAllFeedbacks()}goToPreviousPage(){this.page--,this.findAllFeedbacks()}goToLastPage(){this.page=this.feedbacks.totalPages-1,this.findAllFeedbacks()}goToNextPage(){this.page++,this.findAllFeedbacks()}get isLastPage(){return this.page===this.feedbacks.totalPages-1}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(vn),o.Y36(Go),o.Y36(X.gz),o.Y36(X.F0))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-book-details"]],decls:3,vars:2,consts:[[1,"book-details-wrapper"],["class","loading-spinner",4,"ngIf"],["class","book-details-container",4,"ngIf"],[1,"loading-spinner"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"book-details-container"],[1,"book-card"],[1,"book-image-container"],[1,"book-image",3,"src","alt"],["class","genre-badge",4,"ngIf"],[1,"book-info"],[1,"book-title"],[1,"fa-solid","fa-book"],[1,"book-author"],[1,"fa-solid","fa-user"],[1,"book-isbn"],[1,"fa-solid","fa-code"],[1,"book-owner"],[1,"book-rating"],[3,"rating"],[1,"rating-number"],[1,"feedback-count"],[1,"book-synopsis"],[1,"feedbacks-section"],["class","feedbacks-list",4,"ngIf"],["class","no-feedbacks",4,"ngIf"],["class","pagination-container",4,"ngIf"],[1,"genre-badge"],[1,"feedbacks-list"],["class","feedback-item",4,"ngFor","ngForOf"],[1,"feedback-item"],[1,"feedback-rating"],[1,"feedback-comment"],[1,"no-feedbacks"],[1,"pagination-container"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"disabled","click"],[1,"fa-solid","fa-angles-left"],[1,"fa-solid","fa-angle-left"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-angles-right"],[1,"page-link",3,"click"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0),o.YNc(1,oo,4,0,"div",1),o.YNc(2,ei,30,14,"div",2),o.qZA()),2&i&&(o.xp6(1),o.Q6J("ngIf",c.loading),o.xp6(1),o.Q6J("ngIf",!c.loading))},dependencies:[g.sg,g.O5,Dt],styles:[".book-details-wrapper[_ngcontent-%COMP%]{min-height:100vh;background-color:#f5f5f5;padding:20px}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px}.book-details-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.book-card[_ngcontent-%COMP%]{display:flex;background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000000d;overflow:hidden;margin-bottom:20px}@media (max-width: 768px){.book-card[_ngcontent-%COMP%]{flex-direction:column}}.book-image-container[_ngcontent-%COMP%]{position:relative;flex:0 0 300px;max-width:300px}@media (max-width: 768px){.book-image-container[_ngcontent-%COMP%]{max-width:100%}}.book-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.genre-badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#fdcb6e;color:#2d3436;padding:4px 10px;border-radius:20px;font-size:14px;font-weight:600}.book-info[_ngcontent-%COMP%]{flex:1;padding:20px}.book-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px;display:flex;align-items:center}.book-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;color:#8c5e34}.book-author[_ngcontent-%COMP%], .book-isbn[_ngcontent-%COMP%], .book-owner[_ngcontent-%COMP%]{font-size:16px;margin-bottom:8px;color:#666;display:flex;align-items:center}.book-author[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .book-isbn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .book-owner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;color:#8c5e34;width:20px;text-align:center}.user-avatar[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;overflow:hidden;margin-right:8px;background-color:#f0f0f0;border:1px solid #e0e0e0;display:flex;align-items:center;justify-content:center}.user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.book-rating[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:15px}.book-rating[_ngcontent-%COMP%]   .rating-number[_ngcontent-%COMP%]{margin-left:8px;font-weight:600;color:#8c5e34}.book-rating[_ngcontent-%COMP%]   .feedback-count[_ngcontent-%COMP%]{margin-left:5px;color:#666;font-size:14px}.book-synopsis[_ngcontent-%COMP%]{background-color:#fff;padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 10px #0000000d;line-height:1.6}.feedbacks-section[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0000000d;margin-bottom:20px}.feedbacks-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.feedback-item[_ngcontent-%COMP%]{border-bottom:1px solid #eeeeee;padding-bottom:15px}.feedback-item[_ngcontent-%COMP%]:last-child{border-bottom:none;padding-bottom:0}.feedback-author[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px;font-weight:500;color:#333}.feedback-rating[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.feedback-rating[_ngcontent-%COMP%]   .rating-number[_ngcontent-%COMP%]{margin-left:8px;font-weight:600;color:#8c5e34}.feedback-comment[_ngcontent-%COMP%]{margin:0;line-height:1.5}.no-feedbacks[_ngcontent-%COMP%]{text-align:center;color:#666;padding:30px 0}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0}.pagination[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0;gap:5px}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#8c5e34;color:#fff}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:36px;height:36px;border-radius:8px;background-color:#fff;color:#333;border:1px solid #eeeeee;cursor:pointer;transition:all .2s ease}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#8c5e34;color:#fff}"]})}return s})();const Dr=function(s,a){return{"error-alert":s,"success-alert":a}},Gi=function(s,a){return{"fa-exclamation-circle":s,"fa-check-circle":a}};function Zs(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",19),o._UZ(1,"i",20),o.TgZ(2,"p"),o._uU(3),o.qZA(),o.TgZ(4,"button",21),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.message="")}),o._UZ(5,"i",22),o.qZA()()}if(2&s){const e=o.oxw();o.Q6J("ngClass",o.WLB(3,Dr,"error"===e.level,"success"===e.level)),o.xp6(1),o.Q6J("ngClass",o.WLB(6,Gi,"error"===e.level,"success"===e.level)),o.xp6(2),o.Oqu(e.message)}}function bs(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"app-book-card",23),o.NdJ("borrow",function(c){o.CHM(e);const d=o.oxw();return o.KtG(d.borrowBook(c))})("details",function(c){o.CHM(e);const d=o.oxw();return o.KtG(d.displayBookDetails(c))}),o.qZA()}2&s&&o.Q6J("book",a.$implicit)}function $s(s,a){1&s&&(o.TgZ(0,"div",24)(1,"div",25),o._UZ(2,"i",26),o.qZA(),o.TgZ(3,"div",27)(4,"h3"),o._uU(5,"Your archive shelf is empty"),o.qZA(),o.TgZ(6,"p"),o._uU(7,"Books you archive will appear here for future reference"),o.qZA()()())}function ai(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"button",44),o.NdJ("click",function(){const d=o.CHM(e).$implicit,h=o.oxw(2);return o.KtG(h.gotToPage(d))}),o._uU(1),o.qZA()}if(2&s){const e=a.$implicit,i=o.oxw(2);o.ekj("active",i.page===e),o.xp6(1),o.hij(" ",e+1," ")}}function ks(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",28)(1,"div",29)(2,"button",30),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToFirstPage())}),o._UZ(3,"i",31),o.qZA(),o.TgZ(4,"button",32),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToPreviousPage())}),o._UZ(5,"i",33),o.qZA(),o.TgZ(6,"div",34),o.YNc(7,ai,2,3,"button",35),o.qZA(),o.TgZ(8,"button",36),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToNextPage())}),o._UZ(9,"i",37),o.qZA(),o.TgZ(10,"button",38),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToLastPage())}),o._UZ(11,"i",39),o.qZA()(),o.TgZ(12,"div",40)(13,"span",41),o._UZ(14,"i",42),o.TgZ(15,"span",43),o._uU(16),o.qZA()()()()}if(2&s){const e=o.oxw();o.xp6(2),o.ekj("disabled",0===e.page),o.Q6J("disabled",0===e.page),o.xp6(2),o.ekj("disabled",0===e.page),o.Q6J("disabled",0===e.page),o.xp6(3),o.Q6J("ngForOf",e.pages),o.xp6(1),o.ekj("disabled",e.isLastPage),o.Q6J("disabled",e.isLastPage),o.xp6(2),o.ekj("disabled",e.isLastPage),o.Q6J("disabled",e.isLastPage),o.xp6(6),o.AsE("Page ",e.page+1," of ",(null==e.bookResponse?null:e.bookResponse.totalPages)||1,"")}}const Gs=function(){return[]};let _o=(()=>{class s{constructor(e,i,c){this.bookService=e,this.bookSearchService=i,this.router=c,this.bookResponse={content:[],totalElements:0,totalPages:0},this.page=0,this.size=5,this.pages=[],this.message="",this.level="success",this.suggestedBooks=[]}ngOnInit(){this.bookSearchService.bookResults$.subscribe(e=>{e.content&&e.content.length>0&&(this.mainBook=e.content[0],this.suggestedBooks=e.content.slice(1),this.bookResponse={...e,content:e.content.slice(1)},this.updatePagesArray())}),this.findAllBooks()}updatePagesArray(){this.pages=Array(this.bookResponse.totalPages||0).fill(0).map((i,c)=>c)}findAllBooks(){this.bookService.findAllArchivedBooks({page:this.page,size:this.size}).subscribe({next:e=>{this.bookResponse=e,this.updatePagesArray()}})}gotToPage(e){this.page=e,this.findAllBooks()}goToFirstPage(){this.page=0,this.findAllBooks()}goToPreviousPage(){this.page--,this.findAllBooks()}goToLastPage(){const e=this.bookResponse.totalPages||0;this.page=e>0?e-1:0,this.findAllBooks()}goToNextPage(){this.page++,this.findAllBooks()}get isLastPage(){const e=this.bookResponse.totalPages||0;return!(e>0)||this.page===e-1}borrowBook(e){this.message="",this.level="success",this.bookService.borrowBook({"book-id":e.id}).subscribe({next:()=>{this.level="success",this.message="Book successfully added to your list"},error:i=>{console.log(i),this.level="error",this.message=i.error.error}})}displayBookDetails(e){this.router.navigate(["books","details",e.id])}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(vn),o.Y36(qn),o.Y36(X.F0))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-archived-books"]],decls:27,vars:6,consts:[[1,"library-container"],[1,"book-header"],[1,"section-title"],[1,"book-divider"],[1,"divider-line"],[1,"fas","fa-book-open","divider-icon"],["class","message-alert",3,"ngClass",4,"ngIf"],[1,"library-controls"],[1,"filter-section"],[1,"library-btn","filter-btn"],[1,"fas","fa-filter"],[1,"library-btn","sort-btn"],[1,"fas","fa-sort"],[1,"book-count"],[1,"fas","fa-book"],[1,"book-shelf"],["class","shelf-book",3,"book","borrow","details",4,"ngFor","ngForOf"],["class","empty-shelf",4,"ngIf"],["class","library-pagination",4,"ngIf"],[1,"message-alert",3,"ngClass"],[1,"fas",3,"ngClass"],[1,"close-alert",3,"click"],[1,"fas","fa-times"],[1,"shelf-book",3,"book","borrow","details"],[1,"empty-shelf"],[1,"empty-bookend"],[1,"fas","fa-archive"],[1,"empty-message"],[1,"library-pagination"],[1,"pagination-controls"],["aria-label","First page",1,"page-btn","first-page",3,"disabled","click"],[1,"fas","fa-angles-left"],["aria-label","Previous page",1,"page-btn","prev-page",3,"disabled","click"],[1,"fas","fa-angle-left"],[1,"page-numbers"],["class","page-number",3,"active","click",4,"ngFor","ngForOf"],["aria-label","Next page",1,"page-btn","next-page",3,"disabled","click"],[1,"fas","fa-angle-right"],["aria-label","Last page",1,"page-btn","last-page",3,"disabled","click"],[1,"fas","fa-angles-right"],[1,"page-indicator"],[1,"bookmark"],[1,"fas","fa-bookmark"],[1,"bookmark-text"],[1,"page-number",3,"click"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),o._uU(3,"Archived Books"),o.qZA(),o.TgZ(4,"div",3),o._UZ(5,"span",4)(6,"i",5)(7,"span",4),o.qZA()(),o.YNc(8,Zs,6,9,"div",6),o.TgZ(9,"div",7)(10,"div",8)(11,"button",9),o._UZ(12,"i",10),o.TgZ(13,"span"),o._uU(14,"Filter"),o.qZA()(),o.TgZ(15,"button",11),o._UZ(16,"i",12),o.TgZ(17,"span"),o._uU(18,"Sort by"),o.qZA()()(),o.TgZ(19,"div",13),o._UZ(20,"i",14),o.TgZ(21,"span"),o._uU(22),o.qZA()()(),o.TgZ(23,"div",15),o.YNc(24,bs,1,1,"app-book-card",16),o.YNc(25,$s,8,0,"div",17),o.qZA(),o.YNc(26,ks,17,15,"div",18),o.qZA()),2&i&&(o.xp6(8),o.Q6J("ngIf",c.message),o.xp6(14),o.hij("",(null==c.bookResponse?null:c.bookResponse.totalElements)||0," archived books"),o.xp6(2),o.Q6J("ngForOf",(null==c.bookResponse?null:c.bookResponse.content)||o.DdM(5,Gs)),o.xp6(1),o.Q6J("ngIf",!(null!=c.bookResponse&&null!=c.bookResponse.content&&c.bookResponse.content.length)),o.xp6(1),o.Q6J("ngIf",((null==c.bookResponse?null:c.bookResponse.totalPages)||0)>1))},dependencies:[g.mk,g.sg,g.O5,so],styles:[".library-container[_ngcontent-%COMP%]{background-color:#f8efd4;background-image:url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23b9a577' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\");padding:30px;border-radius:10px;box-shadow:0 10px 30px #0000001a,inset 0 0 0 1px #0000000d;max-width:1400px;margin:20px auto;position:relative}.library-container[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:0;left:0;right:0;height:20px;background:linear-gradient(to right,#D4AF37,#712F26,#D4AF37);border-radius:10px 10px 0 0}.library-container[_ngcontent-%COMP%]:after{content:\"\";position:absolute;top:20px;left:0;right:0;height:3px;background:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.1) 2%,rgba(0,0,0,.05) 98%,rgba(0,0,0,.2) 100%)}.book-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;padding-top:10px}.section-title[_ngcontent-%COMP%]{font-family:Georgia,serif;font-size:32px;font-weight:700;color:#5d4037;margin-bottom:10px;text-shadow:1px 1px 1px rgba(0,0,0,.1);letter-spacing:1px}.book-divider[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:10px 0 20px}.book-divider[_ngcontent-%COMP%]   .divider-line[_ngcontent-%COMP%]{height:1px;width:100px;background:linear-gradient(to right,transparent,#8B4513,transparent)}.book-divider[_ngcontent-%COMP%]   .divider-icon[_ngcontent-%COMP%]{color:#8b4513;font-size:22px;margin:0 15px;opacity:.8}.message-alert[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px;padding:12px 16px;border-radius:4px;box-shadow:0 2px 8px #0000000d;animation:_ngcontent-%COMP%_fadeIn .3s ease}.message-alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin-right:12px}.message-alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex:1;margin:0;font-size:15px;line-height:1.4}.message-alert[_ngcontent-%COMP%]   .close-alert[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:14px;opacity:.7;transition:opacity .2s ease}.message-alert[_ngcontent-%COMP%]   .close-alert[_ngcontent-%COMP%]:hover{opacity:1}.message-alert.success-alert[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32;border-left:4px solid #2E7D32}.message-alert.error-alert[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border-left:4px solid #C62828}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.library-controls[_ngcontent-%COMP%]{background-color:#ffffff80;border:1px solid rgba(139,69,19,.1);border-radius:6px;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;margin-bottom:35px;box-shadow:0 2px 8px #00000008}@media (max-width: 576px){.library-controls[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:flex-start}}.filter-section[_ngcontent-%COMP%]{display:flex;gap:10px}.library-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background-color:#fffc;border:1px solid rgba(139,69,19,.15);border-radius:4px;padding:8px 12px;font-size:14px;color:#654321;cursor:pointer;transition:all .2s ease;box-shadow:0 1px 3px #0000000d}.library-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;color:#8b4513}.library-btn[_ngcontent-%COMP%]:hover{background-color:#fffffff2;border-color:#8b45134d;box-shadow:0 2px 5px #0000001a}.library-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.book-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#654321}.book-count[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8b4513;font-size:14px}.book-shelf[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:30px;margin-bottom:40px;position:relative}.book-shelf[_ngcontent-%COMP%]:before, .book-shelf[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;right:0;height:8px;border-radius:2px}.book-shelf[_ngcontent-%COMP%]:before{bottom:-15px;background-color:#8b4513;box-shadow:0 2px 4px #0003}.book-shelf[_ngcontent-%COMP%]:after{bottom:-5px;height:3px;background-color:#0000001a}@media (max-width: 1200px){.book-shelf[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}}@media (max-width: 768px){.book-shelf[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:25px}}@media (max-width: 576px){.book-shelf[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.shelf-book[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease;position:relative;border-radius:8px;overflow:hidden;background-color:#fff;box-shadow:0 5px 15px #00000014;border:1px solid rgba(0,0,0,.05)}.shelf-book[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:0;left:0;width:6px;height:100%;background:linear-gradient(to right,rgba(0,0,0,.15),rgba(0,0,0,.05))}.shelf-book[_ngcontent-%COMP%]:hover{transform:translateY(-8px) rotate(1deg);box-shadow:0 15px 25px #00000026;z-index:2}.shelf-book[_ngcontent-%COMP%]:hover:after{content:\"\";position:absolute;left:10%;right:10%;bottom:-15px;height:10px;border-radius:50%;background-color:#0000001a;filter:blur(3px);z-index:-1}.empty-shelf[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;flex-direction:column;align-items:center;padding:60px 20px;background-color:#fffc;border-radius:8px;border:1px dashed rgba(139,69,19,.2);text-align:center;margin:20px 0 40px}.empty-bookend[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#8B4513,#48240a);display:flex;align-items:center;justify-content:center;border-radius:12px;margin-bottom:25px;box-shadow:0 5px 15px #0000001a}.empty-bookend[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f8efd4;font-size:36px}.empty-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#654321;margin-bottom:10px;font-weight:600}.empty-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#654321cc;font-size:16px;max-width:350px;margin:0 auto;line-height:1.6}.library-pagination[_ngcontent-%COMP%]{margin-top:60px;display:flex;flex-direction:column;align-items:center}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:15px}.page-btn[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(139,69,19,.15);border-radius:4px;background-color:#fffc;color:#654321;cursor:pointer;transition:all .2s ease}.page-btn[_ngcontent-%COMP%]:hover:not(.disabled):not(:disabled){background-color:#fffffff2;border-color:#8b45134d}.page-btn[_ngcontent-%COMP%]:active:not(.disabled):not(:disabled){transform:translateY(1px)}.page-btn.disabled[_ngcontent-%COMP%], .page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.page-numbers[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.page-number[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(139,69,19,.15);border-radius:4px;background-color:#fffc;color:#654321;font-weight:500;cursor:pointer;transition:all .2s ease}.page-number[_ngcontent-%COMP%]:hover:not(.active){background-color:#fffffff2;border-color:#8b45134d}.page-number.active[_ngcontent-%COMP%]{background-color:#8b4513;color:#fff;border-color:#8b4513;box-shadow:0 2px 5px #0000001a}.page-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:5px}.bookmark[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background-color:#fff;border-radius:20px;box-shadow:0 2px 8px #0000000d;position:relative}.bookmark[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:-12px;left:50%;transform:translate(-50%);width:16px;height:18px;background-color:#d50000;border-radius:2px 2px 0 0}.bookmark[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d50000;font-size:16px}.bookmark[_ngcontent-%COMP%]   .bookmark-text[_ngcontent-%COMP%]{font-size:14px;color:#654321;font-weight:500}"]})}return s})();const Nr_LF="\n",Nr_NULL="\0";class or{get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}constructor(a){const{command:e,headers:i,body:c,binaryBody:d,escapeHeaderValues:h,skipContentLengthHeader:p}=a;this.command=e,this.headers=Object.assign({},i||{}),d?(this._binaryBody=d,this.isBinaryBody=!0):(this._body=c||"",this.isBinaryBody=!1),this.escapeHeaderValues=h||!1,this.skipContentLengthHeader=p||!1}static fromRawFrame(a,e){const i={},c=d=>d.replace(/^\s+|\s+$/g,"");for(const d of a.headers.reverse()){d.indexOf(":");const p=c(d[0]);let _=c(d[1]);e&&"CONNECT"!==a.command&&"CONNECTED"!==a.command&&(_=or.hdrValueUnEscape(_)),i[p]=_}return new or({command:a.command,headers:i,binaryBody:a.binaryBody,escapeHeaderValues:e})}toString(){return this.serializeCmdAndHeaders()}serialize(){const a=this.serializeCmdAndHeaders();return this.isBinaryBody?or.toUnit8Array(a,this._binaryBody).buffer:a+this._body+Nr_NULL}serializeCmdAndHeaders(){const a=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const e of Object.keys(this.headers||{})){const i=this.headers[e];a.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${e}:${or.hdrValueEscape(`${i}`)}`:`${e}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&a.push(`content-length:${this.bodyLength()}`),a.join(Nr_LF)+Nr_LF+Nr_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const a=this.binaryBody;return a?a.length:0}static sizeOfUTF8(a){return a?(new TextEncoder).encode(a).length:0}static toUnit8Array(a,e){const i=(new TextEncoder).encode(a),c=new Uint8Array([0]),d=new Uint8Array(i.length+e.length+c.length);return d.set(i),d.set(e,i.length),d.set(c,i.length+e.length),d}static marshall(a){return new or(a).serialize()}static hdrValueEscape(a){return a.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(a){return a.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class is{constructor(a,e){this.onFrame=a,this.onIncomingPing=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(a,e=!1){let i;if(i="string"==typeof a?this._encoder.encode(a):new Uint8Array(a),e&&0!==i[i.length-1]){const c=new Uint8Array(i.length+1);c.set(i,0),c[i.length]=0,i=c}for(let c=0;c<i.length;c++)this._onByte(i[c])}_collectFrame(a){if(0!==a&&13!==a){if(10===a)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(a)}}_collectCommand(a){if(13!==a){if(10===a)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(a)}}_collectHeaders(a){if(13!==a){if(10===a)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(a)}}_reinjectByte(a){this._onByte(a)}_collectHeaderKey(a){if(58===a)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(a)}_collectHeaderValue(a){if(13!==a){if(10===a)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(a)}}_setupCollectBody(){const a=this._results.headers.filter(e=>"content-length"===e[0])[0];a?(this._bodyBytesRemaining=parseInt(a[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(a){0!==a?this._consumeByte(a):this._retrievedBody()}_collectBodyFixedSize(a){0!=this._bodyBytesRemaining--?this._consumeByte(a):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(a){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",a)}this._initState()}_consumeByte(a){this._token.push(a)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const a=new Uint8Array(this._token);return this._token=[],a}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Si=function(s){return s[s.CONNECTING=0]="CONNECTING",s[s.OPEN=1]="OPEN",s[s.CLOSING=2]="CLOSING",s[s.CLOSED=3]="CLOSED",s}(Si||{}),Io=function(s){return s[s.ACTIVE=0]="ACTIVE",s[s.DEACTIVATING=1]="DEACTIVATING",s[s.INACTIVE=2]="INACTIVE",s}(Io||{}),ir=function(s){return s[s.LINEAR=0]="LINEAR",s[s.EXPONENTIAL=1]="EXPONENTIAL",s}(ir||{}),rr=function(s){return s.Interval="interval",s.Worker="worker",s}(rr||{});class mr{constructor(a,e=rr.Interval,i){this._interval=a,this._strategy=e,this._debug=i,this._workerScript=`\n    var startTime = Date.now();\n    setInterval(function() {\n        self.postMessage(Date.now() - startTime);\n    }, ${this._interval});\n  `}start(a){this.stop(),this.shouldUseWorker()?this.runWorker(a):this.runInterval(a)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===rr.Worker}runWorker(a){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=e=>a(e.data))}runInterval(a){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const e=Date.now();this._timer=setInterval(()=>{a(Date.now()-e)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class uo{constructor(a){this.versions=a}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(a=>`v${a.replace(".","")}.stomp`)}}uo.V1_0="1.0",uo.V1_1="1.1",uo.V1_2="1.2",uo.default=new uo([uo.V1_2,uo.V1_1,uo.V1_0]);class ci{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(a,e,i){this._client=a,this._webSocket=e,this._connected=!1,this._serverFrameHandlers={CONNECTED:c=>{this.debug(`connected to server ${c.headers.server}`),this._connected=!0,this._connectedVersion=c.headers.version,this._connectedVersion===uo.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(c.headers),this.onConnect(c)},MESSAGE:c=>{const d=c.headers.subscription,h=this._subscriptions[d]||this.onUnhandledMessage,p=c,_=this,k=this._connectedVersion===uo.V1_2?p.headers.ack:p.headers["message-id"];p.ack=(I={})=>_.ack(k,d,I),p.nack=(I={})=>_.nack(k,d,I),h(p)},RECEIPT:c=>{const d=this._receiptWatchers[c.headers["receipt-id"]];d?(d(c),delete this._receiptWatchers[c.headers["receipt-id"]]):this.onUnhandledReceipt(c)},ERROR:c=>{this.onStompError(c)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame}start(){const a=new is(e=>{const i=or.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=e=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const i=e.data instanceof ArrayBuffer?(new TextDecoder).decode(e.data):e.data;this.debug(`<<< ${i}`)}a.parseChunk(e.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=e=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{const e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(a){if(a.version!==uo.V1_1&&a.version!==uo.V1_2||!a["heart-beat"])return;const[e,i]=a["heart-beat"].split(",").map(c=>parseInt(c,10));if(0!==this.heartbeatOutgoing&&0!==i){const c=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${c}ms`),this._pinger=new mr(c,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Si.OPEN&&(this._webSocket.send(Nr_LF),this.debug(">>> PING"))})}if(0!==this.heartbeatIncoming&&0!==e){const c=Math.max(this.heartbeatIncoming,e);this.debug(`check PONG every ${c}ms`),this._ponger=setInterval(()=>{const d=Date.now()-this._lastServerActivityTS;d>2*c&&(this.debug(`did not receive server activity for the last ${d}ms`),this._closeOrDiscardWebsocket())},c)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Si.CONNECTING||this._webSocket.readyState===Si.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function Es(s,a){s.terminate=function(){const e=()=>{};this.onerror=e,this.onmessage=e,this.onopen=e;const i=new Date,c=Math.random().toString().substring(2,8),d=this.onclose;this.onclose=h=>{const p=(new Date).getTime()-i.getTime();a(`Discarded socket (#${c})  closed after ${p}ms, with code/reason: ${h.code}/${h.reason}`)},this.close(),d?.call(s,{code:4001,reason:`Quick discarding socket (#${c}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,a=>this.debug(a)),this._webSocket.terminate()}_transmit(a){const{command:e,headers:i,body:c,binaryBody:d,skipContentLengthHeader:h}=a,p=new or({command:e,headers:i,body:c,binaryBody:d,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:h});let _=p.serialize();if(this.debug(this.logRawCommunication?`>>> ${_}`:`>>> ${p}`),this.forceBinaryWSFrames&&"string"==typeof _&&(_=(new TextEncoder).encode(_)),"string"==typeof _&&this.splitLargeFrames){let k=_;for(;k.length>0;){const I=k.substring(0,this.maxWebSocketChunkSize);k=k.substring(this.maxWebSocketChunkSize),this._webSocket.send(I),this.debug(`chunk sent = ${I.length}, remaining = ${k.length}`)}}else this._webSocket.send(_)}dispose(){if(this.connected)try{const a=Object.assign({},this.disconnectHeaders);a.receipt||(a.receipt="close-"+this._counter++),this.watchForReceipt(a.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:a})}catch(a){this.debug(`Ignoring error during disconnect ${a}`)}else(this._webSocket.readyState===Si.CONNECTING||this._webSocket.readyState===Si.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(a){const{destination:e,headers:i,body:c,binaryBody:d,skipContentLengthHeader:h}=a,p=Object.assign({destination:e},i);this._transmit({command:"SEND",headers:p,body:c,binaryBody:d,skipContentLengthHeader:h})}watchForReceipt(a,e){this._receiptWatchers[a]=e}subscribe(a,e,i={}){(i=Object.assign({},i)).id||(i.id="sub-"+this._counter++),i.destination=a,this._subscriptions[i.id]=e,this._transmit({command:"SUBSCRIBE",headers:i});const c=this;return{id:i.id,unsubscribe:d=>c.unsubscribe(i.id,d)}}unsubscribe(a,e={}){e=Object.assign({},e),delete this._subscriptions[a],e.id=a,this._transmit({command:"UNSUBSCRIBE",headers:e})}begin(a){const e=a||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:e}});const i=this;return{id:e,commit(){i.commit(e)},abort(){i.abort(e)}}}commit(a){this._transmit({command:"COMMIT",headers:{transaction:a}})}abort(a){this._transmit({command:"ABORT",headers:{transaction:a}})}ack(a,e,i={}){i=Object.assign({},i),this._connectedVersion===uo.V1_2?i.id=a:i["message-id"]=a,i.subscription=e,this._transmit({command:"ACK",headers:i})}nack(a,e,i={}){return i=Object.assign({},i),this._connectedVersion===uo.V1_2?i.id=a:i["message-id"]=a,i.subscription=e,this._transmit({command:"NACK",headers:i})}}class vs{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(a){this._disconnectHeaders=a,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Io.ACTIVE}_changeState(a){this.state=a,this.onChangeState(a)}constructor(a={}){this.stompVersions=uo.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=9e5,this.reconnectTimeMode=ir.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=rr.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Io.INACTIVE;const e=()=>{};this.debug=e,this.beforeConnect=e,this.onConnect=e,this.onDisconnect=e,this.onUnhandledMessage=e,this.onUnhandledReceipt=e,this.onUnhandledFrame=e,this.onStompError=e,this.onWebSocketClose=e,this.onWebSocketError=e,this.logRawCommunication=!1,this.onChangeState=e,this.connectHeaders={},this._disconnectHeaders={},this.configure(a)}configure(a){Object.assign(this,a),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const a=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(Io.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect())};this.state===Io.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{a()})):a()}_connect(){var a=this;return(0,K.Z)(function*(){if(yield a.beforeConnect(a),a._stompHandler)return void a.debug("There is already a stompHandler, skipping the call to connect");if(!a.active)return void a.debug("Client has been marked inactive, will not attempt to connect");a.connectionTimeout>0&&(a._connectionWatcher&&clearTimeout(a._connectionWatcher),a._connectionWatcher=setTimeout(()=>{a.connected||(a.debug(`Connection not established in ${a.connectionTimeout}ms, closing socket`),a.forceDisconnect())},a.connectionTimeout)),a.debug("Opening Web Socket...");const e=a._createWebSocket();a._stompHandler=new ci(a,e,{debug:a.debug,stompVersions:a.stompVersions,connectHeaders:a.connectHeaders,disconnectHeaders:a._disconnectHeaders,heartbeatIncoming:a.heartbeatIncoming,heartbeatOutgoing:a.heartbeatOutgoing,heartbeatStrategy:a.heartbeatStrategy,splitLargeFrames:a.splitLargeFrames,maxWebSocketChunkSize:a.maxWebSocketChunkSize,forceBinaryWSFrames:a.forceBinaryWSFrames,logRawCommunication:a.logRawCommunication,appendMissingNULLonIncoming:a.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:a.discardWebsocketOnCommFailure,onConnect:i=>{if(a._connectionWatcher&&(clearTimeout(a._connectionWatcher),a._connectionWatcher=void 0),!a.active)return a.debug("STOMP got connected while deactivate was issued, will disconnect now"),void a._disposeStompHandler();a.onConnect(i)},onDisconnect:i=>{a.onDisconnect(i)},onStompError:i=>{a.onStompError(i)},onWebSocketClose:i=>{a._stompHandler=void 0,a.state===Io.DEACTIVATING&&a._changeState(Io.INACTIVE),a.onWebSocketClose(i),a.active&&a._schedule_reconnect()},onWebSocketError:i=>{a.onWebSocketError(i)},onUnhandledMessage:i=>{a.onUnhandledMessage(i)},onUnhandledReceipt:i=>{a.onUnhandledReceipt(i)},onUnhandledFrame:i=>{a.onUnhandledFrame(i)}}),a._stompHandler.start()})()}_createWebSocket(){let a;if(this.webSocketFactory)a=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");a=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return a.binaryType="arraybuffer",a}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===ir.EXPONENTIAL&&(this._nextReconnectDelay=2*this._nextReconnectDelay,0!==this.maxReconnectDelay&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}deactivate(a={}){var e=this;return(0,K.Z)(function*(){const i=a.force||!1,c=e.active;let d;if(e.state===Io.INACTIVE)return e.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(e._changeState(Io.DEACTIVATING),e._nextReconnectDelay=0,e._reconnector&&(clearTimeout(e._reconnector),e._reconnector=void 0),!e._stompHandler||e.webSocket.readyState===Si.CLOSED)return e._changeState(Io.INACTIVE),Promise.resolve();{const h=e._stompHandler.onWebSocketClose;d=new Promise((p,_)=>{e._stompHandler.onWebSocketClose=k=>{h(k),p()}})}return i?e._stompHandler?.discardWebsocket():c&&e._disposeStompHandler(),d})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(a){this._checkConnection(),this._stompHandler.publish(a)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(a,e){this._checkConnection(),this._stompHandler.watchForReceipt(a,e)}subscribe(a,e,i={}){return this._checkConnection(),this._stompHandler.subscribe(a,e,i)}unsubscribe(a,e={}){this._checkConnection(),this._stompHandler.unsubscribe(a,e)}begin(a){return this._checkConnection(),this._stompHandler.begin(a)}commit(a){this._checkConnection(),this._stompHandler.commit(a)}abort(a){this._checkConnection(),this._stompHandler.abort(a)}ack(a,e,i={}){this._checkConnection(),this._stompHandler.ack(a,e,i)}nack(a,e,i={}){this._checkConnection(),this._stompHandler.nack(a,e,i)}}var Or=O(2829),rs=O.n(Or);let Di=(()=>{class s{constructor(){this.stompClient=null,this.messageSubject=new be.X(null),this.messages$=this.messageSubject.asObservable(),this.connectionSubject=new be.X(!1),this.connectionStatus$=this.connectionSubject.asObservable(),this.onlineUsersSubject=new be.X([]),this.onlineUsers$=this.onlineUsersSubject.asObservable()}connect(e){console.log("=== CONNECTING ==="),console.log("Username:",e);const i=new(rs())(`http://localhost:8088/api/v1/ws?username=${e}`);this.stompClient=new vs({webSocketFactory:()=>i,reconnectDelay:5e3,debug:c=>console.log(c),connectHeaders:{username:e}}),this.stompClient.onConnect=c=>{console.log("=== CONNECTED ==="),console.log("Frame:",c),this.connectionSubject.next(!0),this.stompClient?.subscribe("/topic/public",p=>{console.log("=== PUBLIC MESSAGE RECEIVED ==="),console.log("Message:",p.body),this.messageSubject.next(JSON.parse(p.body))});const d="/user/queue/messages";console.log("Subscribing to:",d),this.stompClient?.subscribe(d,p=>{console.log("=== PRIVATE MESSAGE RECEIVED ==="),console.log("Message:",p.body),this.messageSubject.next(JSON.parse(p.body))}),this.stompClient?.subscribe("/topic/users",p=>{console.log("=== ONLINE USERS UPDATE ==="),console.log("Users:",p.body);const _=JSON.parse(p.body);this.onlineUsersSubject.next(_)});const h={sender:e,type:"JOIN"};console.log("Sending JOIN:",h),this.stompClient?.publish({destination:"/app/chat.addUser",body:JSON.stringify(h)})},this.stompClient.onStompError=c=>{console.error("=== STOMP ERROR ==="),console.error("Error:",c)},this.stompClient?.activate()}sendMessage(e,i){if(this.stompClient&&this.stompClient.connected){const c={sender:e,content:i,type:"CHAT",timestamp:(new Date).toISOString()};console.log("=== SENDING PUBLIC MESSAGE ==="),console.log("Message:",c),this.stompClient.publish({destination:"/app/chat.sendMessage",body:JSON.stringify(c)})}}sendPrivateMessage(e,i,c){if(this.stompClient&&this.stompClient.connected){const d={sender:e,content:i,type:"CHAT",room:c,recipient:c,timestamp:(new Date).toISOString()};console.log("=== SENDING PRIVATE MESSAGE ==="),console.log("From:",e),console.log("To:",c),console.log("Message:",d),this.stompClient.publish({destination:"/app/chat.sendPrivateMessage",body:JSON.stringify(d)})}}disconnect(){this.stompClient&&this.stompClient.deactivate()}static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function kn(s,a){if(1&s&&(o.TgZ(0,"div",40),o._uU(1),o.qZA()),2&s){const e=o.oxw().$implicit,i=o.oxw(2);o.xp6(1),o.hij(" ",i.getNewMessageCount(e.username)," ")}}function jo(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",38),o.NdJ("click",function(){const d=o.CHM(e).$implicit,h=o.oxw(2);return o.KtG(h.selectUser(d))}),o.TgZ(1,"div",9),o._uU(2),o.qZA(),o.TgZ(3,"div",10)(4,"div",11),o._uU(5),o.qZA(),o.TgZ(6,"div",12),o._uU(7),o.qZA()(),o._UZ(8,"div",13),o.YNc(9,kn,2,1,"div",39),o.qZA()}if(2&s){const e=a.$implicit,i=o.oxw(2);o.ekj("selected",(null==i.selectedUser?null:i.selectedUser.username)===e.username)("has-new-message",i.hasNewMessageFromUser(e.username)),o.xp6(1),o.Udp("background-color",i.getAvatarColor(e.username)),o.xp6(1),o.hij(" ",e.username.charAt(0).toUpperCase()," "),o.xp6(3),o.Oqu(e.username),o.xp6(2),o.Oqu(e.status||"Active now"),o.xp6(2),o.Q6J("ngIf",i.hasNewMessageFromUser(e.username))}}function ro(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"button",45),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(3);return o.KtG(c.clearSearch())}),o._UZ(1,"i",46),o.qZA()}}function Ii(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",41)(1,"input",42),o.NdJ("ngModelChange",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.searchQuery=c)})("keyup.enter",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.search())})("input",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.searchQuery?null:c.clearSearch())}),o.qZA(),o.TgZ(2,"button",43),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.search())}),o._UZ(3,"i",19),o.qZA(),o.YNc(4,ro,2,0,"button",44),o.qZA()}if(2&s){const e=o.oxw(2);o.xp6(1),o.Q6J("ngModel",e.searchQuery),o.xp6(3),o.Q6J("ngIf",e.searchQuery)}}function ko(s,a){if(1&s&&(o.TgZ(0,"div",47),o._uU(1),o.qZA()),2&s){const e=o.oxw(2);o.xp6(1),o.Oqu(e.connectingMessage)}}function Wi(s,a){if(1&s&&(o.ynx(0),o.TgZ(1,"i"),o._uU(2),o.qZA(),o.TgZ(3,"div",50)(4,"div",51),o._uU(5),o.qZA(),o._UZ(6,"p",52),o.TgZ(7,"div",53),o._uU(8),o.ALo(9,"date"),o.qZA()(),o.BQk()),2&s){const e=o.oxw().$implicit,i=o.oxw(2);o.xp6(1),o.Udp("background-color",i.getAvatarColor(e.sender)),o.xp6(1),o.hij(" ",e.sender.charAt(0).toUpperCase()," "),o.xp6(3),o.Oqu(e.sender),o.xp6(1),o.Q6J("innerHTML",i.searchQuery?i.highlightSearchResults(e.content):e.content,o.oJD),o.xp6(2),o.Oqu(o.xi3(9,6,e.timestamp,"short"))}}function Ri(s,a){if(1&s&&(o.ynx(0),o._uU(1),o.BQk()),2&s){const e=o.oxw().$implicit;o.xp6(1),o.AsE(" ",e.sender," ","JOIN"===e.type?"joined the chat":"left the chat"," ")}}const _r=function(s,a,e,i){return{"event-message":s,"chat-message":a,"friend-message":e,"new-friend-message":i}};function qr(s,a){if(1&s&&(o.TgZ(0,"li",48),o.YNc(1,Wi,10,9,"ng-container",49),o.YNc(2,Ri,2,2,"ng-container",49),o.qZA()),2&s){const e=a.$implicit,i=o.oxw(2);o.Q6J("ngClass",o.l5B(3,_r,"CHAT"!==e.type,"CHAT"===e.type,i.isMessageFromFriend(e.sender),i.isNewMessageFromFriend(e))),o.xp6(1),o.Q6J("ngIf","CHAT"===e.type),o.xp6(1),o.Q6J("ngIf","CHAT"!==e.type)}}function Lr(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"button",68),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(3);return o.KtG(c.testSound())}),o._uU(1," Test Sound "),o.qZA()}}function Yn(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",54),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.toggleSettings())}),o.TgZ(1,"div",55),o.NdJ("click",function(c){return c.stopPropagation()}),o.TgZ(2,"div",56)(3,"h3"),o._uU(4,"Settings"),o.qZA(),o.TgZ(5,"button",57),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.toggleSettings())}),o._uU(6,"\xd7"),o.qZA()(),o.TgZ(7,"div",58)(8,"div",59)(9,"label")(10,"input",60),o.NdJ("ngModelChange",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.settings.notifications=c)})("change",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.requestNotificationPermission())}),o.qZA(),o._uU(11," Enable notifications "),o.qZA()(),o.TgZ(12,"div",59)(13,"label")(14,"input",61),o.NdJ("ngModelChange",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.settings.soundEnabled=c)}),o.qZA(),o._uU(15," Enable sound "),o.qZA(),o.YNc(16,Lr,2,0,"button",62),o.qZA(),o.TgZ(17,"div",59)(18,"label"),o._uU(19,"Theme"),o.qZA(),o.TgZ(20,"select",63),o.NdJ("ngModelChange",function(c){o.CHM(e);const d=o.oxw(2);return o.KtG(d.settings.theme=c)})("change",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.applyTheme())}),o.TgZ(21,"option",64),o._uU(22,"Light"),o.qZA(),o.TgZ(23,"option",65),o._uU(24,"Dark"),o.qZA()()()(),o.TgZ(25,"div",66)(26,"button",67),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.updateSettings())}),o._uU(27,"Save"),o.qZA()()()()}if(2&s){const e=o.oxw(2);o.xp6(10),o.Q6J("ngModel",e.settings.notifications),o.xp6(4),o.Q6J("ngModel",e.settings.soundEnabled),o.xp6(2),o.Q6J("ngIf",e.settings.soundEnabled),o.xp6(4),o.Q6J("ngModel",e.settings.theme)}}function Ft(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",69)(1,"div",70)(2,"h3"),o._uU(3,"Chat Information"),o.qZA(),o.TgZ(4,"button",57),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.toggleInfo())}),o._uU(5,"\xd7"),o.qZA()(),o.TgZ(6,"div",71)(7,"div",72)(8,"span",73),o._uU(9,"Current Chat:"),o.qZA(),o.TgZ(10,"span"),o._uU(11),o.qZA()(),o.TgZ(12,"div",72)(13,"span",73),o._uU(14,"Online Users:"),o.qZA(),o.TgZ(15,"span"),o._uU(16),o.qZA()(),o.TgZ(17,"div",72)(18,"span",73),o._uU(19,"Your Status:"),o.qZA(),o.TgZ(20,"span"),o._uU(21,"Active"),o.qZA()(),o.TgZ(22,"div",72)(23,"span",73),o._uU(24,"Total Messages:"),o.qZA(),o.TgZ(25,"span"),o._uU(26),o.qZA()(),o.TgZ(27,"div",72)(28,"span",73),o._uU(29,"Session Duration:"),o.qZA(),o.TgZ(30,"span"),o._uU(31),o.qZA()(),o.TgZ(32,"div",72)(33,"span",73),o._uU(34,"Current Theme:"),o.qZA(),o.TgZ(35,"span"),o._uU(36),o.ALo(37,"titlecase"),o.qZA()(),o.TgZ(38,"div",72)(39,"span",73),o._uU(40,"Notifications:"),o.qZA(),o.TgZ(41,"span"),o._uU(42),o.qZA()()()()}if(2&s){const e=o.oxw(2);o.xp6(11),o.Oqu("public"===e.currentRoom?"General Chat":null==e.selectedUser?null:e.selectedUser.username),o.xp6(5),o.Oqu(e.onlineUsers.length+1),o.xp6(10),o.Oqu(e.getTotalMessages()),o.xp6(5),o.Oqu(e.getSessionDuration()),o.xp6(5),o.Oqu(o.lcZ(37,6,e.settings.theme)),o.xp6(6),o.Oqu(e.settings.notifications?"Enabled":"Disabled")}}function hn(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),o._uU(4,"Chat Application"),o.qZA()(),o.TgZ(5,"div",4)(6,"button",5),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToPublicChat())}),o._UZ(7,"i",6),o.TgZ(8,"span"),o._uU(9,"General Chat"),o.qZA()()(),o.TgZ(10,"div",7)(11,"h3"),o._uU(12,"Online Users"),o.qZA(),o.TgZ(13,"div",8)(14,"div",9),o._uU(15),o.qZA(),o.TgZ(16,"div",10)(17,"div",11),o._uU(18),o.qZA(),o.TgZ(19,"div",12),o._uU(20,"Active now"),o.qZA()(),o._UZ(21,"div",13),o.qZA(),o.YNc(22,jo,10,10,"div",14),o.qZA()(),o.TgZ(23,"div",15)(24,"div",16)(25,"h2"),o._uU(26),o.qZA(),o.TgZ(27,"div",17)(28,"button",18),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.toggleSearch())}),o._UZ(29,"i",19),o.qZA(),o.TgZ(30,"button",20),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.toggleInfo())}),o._UZ(31,"i",21),o.qZA(),o.TgZ(32,"button",22),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.toggleSettings())}),o._UZ(33,"i",23),o.qZA()()(),o.YNc(34,Ii,5,2,"div",24),o.TgZ(35,"div",25),o.YNc(36,ko,2,1,"div",26),o.TgZ(37,"ul",27),o.YNc(38,qr,3,8,"li",28),o.qZA()(),o.TgZ(39,"div",29)(40,"form",30),o.NdJ("ngSubmit",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.sendMessage())}),o.TgZ(41,"div",31)(42,"div",32)(43,"input",33),o.NdJ("ngModelChange",function(c){o.CHM(e);const d=o.oxw();return o.KtG(d.message=c)}),o.qZA(),o.TgZ(44,"button",34),o._UZ(45,"i",35),o._uU(46," Send "),o.qZA()()()()()(),o.YNc(47,Yn,28,4,"div",36),o.YNc(48,Ft,43,8,"div",37),o.qZA()}if(2&s){const e=o.oxw();o.xp6(6),o.ekj("active","public"===e.currentRoom),o.xp6(8),o.Udp("background-color",e.getAvatarColor(e.username)),o.xp6(1),o.hij(" ",e.username.charAt(0).toUpperCase()," "),o.xp6(3),o.hij("",e.username," (You)"),o.xp6(4),o.Q6J("ngForOf",e.onlineUsers),o.xp6(4),o.Oqu("public"===e.currentRoom?"General Chat":null==e.selectedUser?null:e.selectedUser.username),o.xp6(8),o.Q6J("ngIf",e.showSearch),o.xp6(2),o.Q6J("ngIf",e.connectingMessage),o.xp6(2),o.Q6J("ngForOf",e.getCurrentMessages()),o.xp6(5),o.Q6J("ngModel",e.message),o.xp6(4),o.Q6J("ngIf",e.showSettings),o.xp6(1),o.Q6J("ngIf",e.showInfo)}}let Vn=(()=>{class s{constructor(e,i){this.websocketService=e,this.keycloakService=i,this.title="frontend",this.username="",this.message="",this.messages=[],this.isConnected=!1,this.connectingMessage="Connecting...",this.onlineUsers=[],this.selectedUser=null,this.privateMessages={},this.showSettings=!1,this.showInfo=!1,this.showSearch=!1,this.searchQuery="",this.currentRoom="public",this.chatBoxVisible=!1,this.sessionStartTime=new Date,this.filteredMessages=[],this.friendsList=[],this.newMessages=new Set,this.userNewMessageCounts={},this.settings={notifications:!0,soundEnabled:!0,theme:"light"},console.log("AppComponent constructor called")}ngOnInit(){console.log("AppComponent ngOnInit called"),document.body.classList.add("light-theme"),this.userProfile=this.keycloakService.profile,console.log(this.userProfile),this.username=this.userProfile?.firstName||"",this.loadSettings(),this.applyTheme(),this.settings.notifications&&this.requestNotificationPermission(),this.loadMessages(),this.connect(),this.websocketService.messages$.subscribe(e=>{e&&this.handleIncomingMessage(e)}),this.websocketService.onlineUsers$.subscribe(e=>{this.onlineUsers=e.filter(i=>i.username!==this.username)}),this.websocketService.connectionStatus$.subscribe(e=>{this.isConnected=e,e&&(this.connectingMessage="",console.log("WebSocket connection established"))}),this.autoSaveInterval=setInterval(()=>{this.saveMessages()},1e4)}ngOnDestroy(){this.autoSaveInterval&&clearInterval(this.autoSaveInterval),this.saveMessages()}connect(){console.log("Attempting to connect to WebSocket with username:",this.username),this.websocketService.connect(this.username)}hasNewMessageFromUser(e){return(this.userNewMessageCounts[e]||0)>0}getNewMessageCount(e){return this.userNewMessageCounts[e]||0}isMessageFromFriend(e){return this.onlineUsers.some(i=>i.username===e)&&e!==this.username}isNewMessageFromFriend(e){return this.isMessageFromFriend(e.sender)&&this.newMessages.has(e.sender+"_"+e.timestamp)}handleIncomingMessage(e){if(console.log(`Message received from ${e.sender}: ${e.content}`),"CHAT"===e.type){if(e.sender!==this.username){if(this.isMessageFromFriend(e.sender)){const i=e.sender+"_"+e.timestamp;this.newMessages.add(i),this.userNewMessageCounts[e.sender]||(this.userNewMessageCounts[e.sender]=0),this.userNewMessageCounts[e.sender]++,setTimeout(()=>{this.newMessages.delete(i)},5e3)}this.playNotificationSound(),document.hidden&&this.settings.notifications&&this.showBrowserNotification(`New message from ${e.sender}`,e.content)}if("public"!==e.room&&e.room){if(e.room===this.username||e.sender===this.selectedUser?.username){const i=e.sender===this.username?e.room:e.sender;this.privateMessages[i]||(this.privateMessages[i]=[]),this.privateMessages[i].push(e),this.saveMessages()}}else this.messages.push(e),this.saveMessages()}else("JOIN"===e.type||"LEAVE"===e.type)&&(this.messages.push(e),this.saveMessages())}sendMessage(){this.message.trim()&&("public"===this.currentRoom?this.websocketService.sendMessage(this.username,this.message):this.selectedUser&&(this.websocketService.sendPrivateMessage(this.username,this.message,this.selectedUser.username),this.privateMessages[this.selectedUser.username]||(this.privateMessages[this.selectedUser.username]=[]),this.privateMessages[this.selectedUser.username].push({sender:this.username,content:this.message,type:"CHAT",timestamp:(new Date).toISOString()}),this.saveMessages()),this.message="")}saveMessages(){try{const e={publicMessages:this.messages,privateMessages:this.privateMessages,timestamp:(new Date).toISOString()};localStorage.setItem(`chatMessages_${this.username}`,JSON.stringify(e)),console.log("Messages saved to localStorage")}catch(e){console.error("Error saving messages to localStorage:",e),this.handleStorageError()}}loadMessages(){try{const e=localStorage.getItem(`chatMessages_${this.username}`);if(e){const i=JSON.parse(e),c=new Date(i.timestamp),h=6048e5;(new Date).getTime()-c.getTime()<h?(this.messages=i.publicMessages||[],this.privateMessages=i.privateMessages||{},console.log("Loaded saved messages from localStorage")):(console.log("Saved messages are too old, not loading"),localStorage.removeItem(`chatMessages_${this.username}`))}}catch(e){console.error("Error loading messages from localStorage:",e)}}handleStorageError(){try{this.messages.length>100&&(this.messages=this.messages.slice(-100)),Object.keys(this.privateMessages).forEach(e=>{this.privateMessages[e].length>100&&(this.privateMessages[e]=this.privateMessages[e].slice(-100))}),this.saveMessages()}catch(e){console.error("Could not recover from storage error:",e),alert("Storage is full. Some message history will be cleared."),this.clearOldMessages()}}clearOldMessages(){const e=new Date;e.setDate(e.getDate()-3),this.messages=this.messages.filter(i=>new Date(i.timestamp)>e),Object.keys(this.privateMessages).forEach(i=>{this.privateMessages[i]=this.privateMessages[i].filter(c=>new Date(c.timestamp)>e)}),this.saveMessages()}selectUser(e){this.selectedUser=e,this.currentRoom=e?e.username:"public",e&&this.userNewMessageCounts[e.username]&&(this.userNewMessageCounts[e.username]=0)}goToPublicChat(){this.selectedUser=null,this.currentRoom="public"}getCurrentMessages(){return this.searchQuery?this.filteredMessages:"public"===this.currentRoom?this.messages:this.selectedUser&&this.privateMessages[this.selectedUser.username]||[]}getAvatarColor(e){const i=["#2196F3","#32c787","#00BCD4","#ff5652","#ffc107","#ff85af","#FF9800","#39bbb0"];let c=0;for(let d=0;d<e.length;d++)c=31*c+e.charCodeAt(d);return i[Math.abs(c%i.length)]}toggleSettings(){this.showSettings=!this.showSettings,this.showInfo=!1,this.showSearch=!1}toggleInfo(){this.showInfo=!this.showInfo,this.showSettings=!1,this.showSearch=!1}toggleSearch(){this.showSearch=!this.showSearch,this.showSettings=!1,this.showInfo=!1,this.showSearch||this.clearSearch()}search(){if(!this.searchQuery.trim())return void this.clearSearch();console.log("Searching for:",this.searchQuery);let e=[];"public"===this.currentRoom?e=this.messages:this.selectedUser&&(e=this.privateMessages[this.selectedUser.username]||[]),this.filteredMessages=e.filter(i=>"CHAT"===i.type&&i.content.toLowerCase().includes(this.searchQuery.toLowerCase())),console.log("Found",this.filteredMessages.length,"messages")}clearSearch(){this.searchQuery="",this.filteredMessages=[]}highlightSearchResults(e){if(!this.searchQuery||!e)return e;const i=this.searchQuery.replace(/[.*+?^${}()|[\]\\]/g,"\\    // Subscribe to messages observable  this.websocketService."),c=new RegExp(`(${i})`,"gi");return e.replace(c,'<span class="highlight">$1</span>')}loadSettings(){const e=localStorage.getItem("chatSettings");e&&(this.settings=JSON.parse(e))}saveSettings(){localStorage.setItem("chatSettings",JSON.stringify(this.settings))}applyTheme(){const e=document.body;"dark"===this.settings.theme?(e.classList.remove("light-theme"),e.classList.add("dark-theme")):(e.classList.remove("dark-theme"),e.classList.add("light-theme"))}updateSettings(){this.saveSettings(),this.applyTheme(),this.settings.notifications&&this.requestNotificationPermission(),console.log("Settings updated:",this.settings),this.showSettings=!1}playNotificationSound(){this.settings.soundEnabled&&new Audio("assets/sounds/notification.mp3").play().catch(i=>console.log("Could not play sound:",i))}showBrowserNotification(e,i){this.settings.notifications&&"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{body:i,icon:"assets/icons/chat-icon.png"})}requestNotificationPermission(){"Notification"in window&&this.settings.notifications&&Notification.requestPermission().then(e=>{console.log("Notification permission:",e)})}toggleChatBox(){this.chatBoxVisible=!this.chatBoxVisible}getTotalMessages(){let e=this.messages.length;return Object.keys(this.privateMessages).forEach(i=>{e+=this.privateMessages[i].length}),e}getSessionDuration(){const i=(new Date).getTime()-this.sessionStartTime.getTime(),c=Math.floor(i/36e5),d=Math.floor(i%36e5/6e4),h=Math.floor(i%6e4/1e3);return`${this.padZero(c)}:${this.padZero(d)}:${this.padZero(h)}`}padZero(e){return e<10?`0${e}`:`${e}`}testSound(){new Audio("assets/sounds/notification.mp3").play().catch(i=>console.log("Could not play sound:",i))}clearMessageHistory(){confirm("Are you sure you want to clear all message history?")&&(this.messages=[],this.privateMessages={},localStorage.removeItem(`chatMessages_${this.username}`),console.log("Message history cleared"))}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(Di),o.Y36(ne.M))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-form-chat"]],decls:1,vars:1,consts:[["class","app-container",4,"ngIf"],[1,"app-container"],[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-navigation"],[1,"nav-button",3,"click"],[1,"fas","fa-comments"],[1,"online-users"],[1,"user-item","current-user"],[1,"user-avatar"],[1,"user-info"],[1,"user-name"],[1,"user-status"],[1,"online-indicator"],["class","user-item",3,"selected","has-new-message","click",4,"ngFor","ngForOf"],[1,"main-chat"],[1,"chat-header"],[1,"header-actions"],["title","Search",3,"click"],[1,"fas","fa-search"],["title","Info",3,"click"],[1,"fas","fa-info-circle"],["title","Settings",3,"click"],[1,"fas","fa-cog"],["class","search-bar",4,"ngIf"],[1,"messages-container"],["class","connecting",4,"ngIf"],["id","messageArea"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"typing-area"],["id","typingArea",3,"ngSubmit"],[1,"form-group"],[1,"input-group"],["name","message","type","text","id","message","placeholder","Type a message...","autocomplete","off",3,"ngModel","ngModelChange"],["type","submit",1,"primary"],[1,"fas","fa-paper-plane"],["class","modal-overlay",3,"click",4,"ngIf"],["class","info-panel",4,"ngIf"],[1,"user-item",3,"click"],["class","new-message-badge",4,"ngIf"],[1,"new-message-badge"],[1,"search-bar"],["type","text","placeholder","Search messages...",3,"ngModel","ngModelChange","keyup.enter","input"],[3,"click"],["class","clear-btn",3,"click",4,"ngIf"],[1,"clear-btn",3,"click"],[1,"fas","fa-times"],[1,"connecting"],[3,"ngClass"],[4,"ngIf"],[1,"message-content"],[1,"message-sender"],[1,"message-text",3,"innerHTML"],[1,"message-time"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-button",3,"click"],[1,"modal-body"],[1,"setting-item"],["type","checkbox",3,"ngModel","ngModelChange","change"],["type","checkbox",3,"ngModel","ngModelChange"],["class","test-sound-btn",3,"click",4,"ngIf"],[3,"ngModel","ngModelChange","change"],["value","light"],["value","dark"],[1,"modal-footer"],[1,"primary",3,"click"],[1,"test-sound-btn",3,"click"],[1,"info-panel"],[1,"info-header"],[1,"info-content"],[1,"info-item"],[1,"info-label"]],template:function(i,c){1&i&&o.YNc(0,hn,49,14,"div",0),2&i&&o.Q6J("ngIf",c.isConnected)},dependencies:[g.mk,g.sg,g.O5,B._Y,B.YN,B.Kr,B.Fj,B.Wl,B.EJ,B.JJ,B.JL,B.On,B.F,g.rS,g.uU],styles:['.dark-theme[_nghost-%COMP%], .dark-theme   [_nghost-%COMP%]{--bg-primary: #1a1a1a;--bg-secondary: #2d2d2d;--bg-tertiary: #383838;--text-primary: #ffffff;--text-secondary: #b3b3b3;--border-color: #404040;--hover-bg: #404040;--message-bg: #2d2d2d;--input-bg: #2d2d2d;--header-bg: #242424;--modal-bg: #1a1a1a;--modal-border: #404040}.light-theme[_nghost-%COMP%], .light-theme   [_nghost-%COMP%]{--bg-primary: #ffffff;--bg-secondary: #f8f9fa;--bg-tertiary: #fafafa;--text-primary: #1a1a1a;--text-secondary: #888;--border-color: #e5e5e5;--hover-bg: #f0f0f0;--message-bg: #fff;--input-bg: #fff;--header-bg: #f8f9fa;--modal-bg: #ffffff;--modal-border: #e5e5e5}.app-container[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;background-color:var(--bg-primary);box-shadow:0 1px 3px #0000001f;transition:background-color .3s ease}.sidebar[_ngcontent-%COMP%]{width:300px;background-color:var(--bg-primary);border-right:1px solid var(--border-color);display:flex;flex-direction:column;transition:background-color .3s ease,border-color .3s ease}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background-color:var(--header-bg);border-bottom:1px solid var(--border-color)}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;color:var(--text-primary);font-weight:600;margin:0}.sidebar[_ngcontent-%COMP%]   .sidebar-navigation[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid var(--border-color)}.sidebar[_ngcontent-%COMP%]   .sidebar-navigation[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{width:100%;padding:10px 15px;background:none;border:none;border-radius:8px;display:flex;align-items:center;gap:10px;cursor:pointer;color:var(--text-secondary);transition:all .2s}.sidebar[_ngcontent-%COMP%]   .sidebar-navigation[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.sidebar[_ngcontent-%COMP%]   .sidebar-navigation[_ngcontent-%COMP%]   .nav-button.active[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.sidebar[_ngcontent-%COMP%]   .sidebar-navigation[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.sidebar[_ngcontent-%COMP%]   .sidebar-navigation[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.online-users[_ngcontent-%COMP%]{padding:20px;flex:1;overflow-y:auto}.online-users[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin-bottom:15px;text-transform:uppercase}.online-users[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;border-radius:8px;cursor:pointer;transition:background-color .2s;margin-bottom:5px;position:relative}.online-users[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.online-users[_ngcontent-%COMP%]   .user-item.selected[_ngcontent-%COMP%]{background-color:#e3f2fd}.online-users[_ngcontent-%COMP%]   .user-item.current-user[_ngcontent-%COMP%]{background-color:var(--bg-secondary);cursor:default}.online-users[_ngcontent-%COMP%]   .user-item.has-new-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1976d2,#1565c0);color:#fff;animation:_ngcontent-%COMP%_pulse-user 2s ease-in-out infinite;box-shadow:0 0 10px #1976d280}.online-users[_ngcontent-%COMP%]   .user-item.has-new-message[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#fff!important;font-weight:700}.online-users[_ngcontent-%COMP%]   .user-item.has-new-message[_ngcontent-%COMP%]   .user-status[_ngcontent-%COMP%]{color:#fffc!important}.online-users[_ngcontent-%COMP%]   .user-item.has-new-message[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#1565c0,#1976d2)}.online-users[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;color:#fff;font-weight:600;margin-right:12px}.online-users[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:1}.online-users[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-primary)}.online-users[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-status[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary)}.online-users[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .online-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background-color:#44b700;border-radius:50%;margin-left:auto}.online-users[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .new-message-badge[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background:#ff4444;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;animation:_ngcontent-%COMP%_bounce .5s ease-in-out;box-shadow:0 2px 4px #ff444480}.main-chat[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background-color:var(--bg-primary)}.chat-header[_ngcontent-%COMP%]{padding:20px;background-color:var(--header-bg);border-bottom:1px solid var(--border-color);display:flex;align-items:center;justify-content:space-between}.chat-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;color:var(--text-primary);font-weight:600;margin:0}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);font-size:18px;cursor:pointer;padding:8px;border-radius:50%;transition:background-color .2s}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.search-bar[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--header-bg);border-bottom:1px solid var(--border-color);display:flex;gap:10px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:8px 15px;border:1px solid var(--border-color);border-radius:20px;font-size:14px;outline:none;background-color:var(--input-bg);color:var(--text-primary)}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1976d2}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;border:none;padding:8px 15px;border-radius:20px;cursor:pointer}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1565c0}.messages-container[_ngcontent-%COMP%]{flex:1;padding:20px;overflow-y:auto;background-color:var(--bg-tertiary)}#messageArea[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:column;gap:10px;margin:0;padding:0}#messageArea[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:10px;max-width:80%;animation:_ngcontent-%COMP%_fadeIn .3s ease-in;position:relative}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}#messageArea[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;color:#fff;font-weight:600;flex-shrink:0}#messageArea[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:var(--message-bg);border-radius:12px;padding:10px 15px;box-shadow:0 1px 2px #0000001a}#messageArea[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%]{font-size:12px;color:#1976d2;font-weight:600;margin-bottom:4px}#messageArea[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{font-size:14px;color:var(--text-primary);line-height:1.4;margin:0}#messageArea[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:11px;color:var(--text-secondary);margin-top:5px}#messageArea[_ngcontent-%COMP%]   .event-message[_ngcontent-%COMP%]{text-align:center;color:var(--text-secondary);font-size:13px;padding:10px;margin:10px auto;background-color:var(--bg-secondary);border-radius:20px;max-width:-moz-fit-content;max-width:fit-content}.typing-area[_ngcontent-%COMP%]{padding:20px;background-color:var(--header-bg);border-top:1px solid var(--border-color)}#typingArea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin:0}#typingArea[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;gap:10px}#typingArea[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   #message[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border:1px solid var(--border-color);border-radius:24px;font-size:14px;outline:none;transition:border-color .2s;background-color:var(--input-bg);color:var(--text-primary)}#typingArea[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   #message[_ngcontent-%COMP%]:focus{border-color:#1976d2}#typingArea[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;border:none;padding:12px 24px;border-radius:24px;font-size:14px;font-weight:600;cursor:pointer;transition:background-color .2s}#typingArea[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]:hover{background-color:#1565c0}#typingArea[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:var(--modal-bg);border-radius:12px;width:400px;max-width:90%;box-shadow:0 4px 6px #0000001a}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid var(--modal-border);display:flex;justify-content:space-between;align-items:center}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;color:var(--text-primary)}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:var(--text-secondary);cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:20px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{margin-bottom:15px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:var(--text-primary);font-weight:500}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid var(--border-color);border-radius:4px;font-size:14px;background-color:var(--input-bg);color:var(--text-primary)}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:15px 20px;border-top:1px solid var(--modal-border);display:flex;justify-content:flex-end}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;border:none;padding:8px 20px;border-radius:6px;font-size:14px;cursor:pointer}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]:hover{background-color:#1565c0}.info-panel[_ngcontent-%COMP%]{position:fixed;right:0;top:0;width:300px;height:100vh;background-color:var(--modal-bg);box-shadow:-2px 0 5px #0000001a;z-index:999;transform:translate(0);transition:transform .3s ease}.info-panel[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}.info-panel[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;color:var(--text-primary)}.info-panel[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:var(--text-secondary);cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.info-panel[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.info-panel[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{padding:20px}.info-panel[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;justify-content:space-between;align-items:center}.info-panel[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-secondary)}.info-panel[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:var(--text-primary)}.dark-theme[_nghost-%COMP%]   .nav-button.active[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .nav-button.active[_ngcontent-%COMP%]{background-color:#1565c0;color:#fff}.dark-theme[_nghost-%COMP%]   .user-item.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .user-item.selected[_ngcontent-%COMP%]{background-color:#1565c0;color:#fff}.highlight[_ngcontent-%COMP%]{background-color:#ff0;color:#000;padding:0 2px;border-radius:2px;font-weight:700}.dark-theme[_nghost-%COMP%]   .search-bar[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .search-bar[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{background-color:#555}.dark-theme[_nghost-%COMP%]   .search-bar[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .search-bar[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background-color:#777}.dark-theme[_nghost-%COMP%]   .search-bar[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .search-bar[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background-color:#e69f00;color:#000}.search-bar[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333}.search-bar[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background-color:#d0d0d0}.friend-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a4b8c,#2a5a9c)!important;border-left:4px solid #4CAF50;box-shadow:0 2px 8px #4caf504d}.friend-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%]{color:#4caf50!important;font-weight:700}.new-friend-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-highlight 2s ease-in-out}.new-friend-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{box-shadow:0 0 15px #4caf5099!important}.new-friend-message[_ngcontent-%COMP%]:after{content:"New!";position:absolute;right:10px;top:5px;background:#FF5722;color:#fff;padding:2px 8px;border-radius:12px;font-size:10px;font-weight:700;animation:_ngcontent-%COMP%_blink 1s infinite}@keyframes _ngcontent-%COMP%_pulse-highlight{0%{box-shadow:0 0 #4caf50b3}70%{box-shadow:0 0 0 10px #4caf5000}to{box-shadow:0 0 #4caf5000}}@keyframes _ngcontent-%COMP%_blink{0%,50%{opacity:1}51%,to{opacity:.3}}.dark-theme[_nghost-%COMP%]   .friend-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .friend-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2a5a9c,#3a6aac)!important}.dark-theme[_nghost-%COMP%]   .user-item.has-new-message[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .user-item.has-new-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1976d2,#2196F3)!important}@keyframes _ngcontent-%COMP%_pulse-user{0%,to{box-shadow:0 0 10px #1976d280}50%{box-shadow:0 0 20px #1976d2cc}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-5px)}60%{transform:translateY(-3px)}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:80px}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .online-users[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{justify-content:center}.sidebar[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{justify-content:center;padding:10px 5px}.sidebar[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{margin:0}.chat-message[_ngcontent-%COMP%]{max-width:90%}.info-panel[_ngcontent-%COMP%]{width:100%}.modal-content[_ngcontent-%COMP%]{width:95%}}']})}return s})();function oi(s,a){1&s&&(o.TgZ(0,"div",19),o._UZ(1,"div",20),o.TgZ(2,"p"),o._uU(3,"Loading your favorite books..."),o.qZA()())}function qi(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",21)(1,"div",22)(2,"h3"),o._UZ(3,"i",23),o._uU(4," We encountered a problem!"),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"button",24),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.retryLoading())}),o._UZ(8,"i",25),o._uU(9," Try Again "),o.qZA()()()}if(2&s){const e=o.oxw();o.xp6(6),o.Oqu(e.error)}}function ho(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",26)(1,"div",27),o._UZ(2,"i",28),o.TgZ(3,"h3"),o._uU(4,"No favorite books yet"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"You haven't added any books to your favorites list yet. Browse our collection to find books you love."),o.qZA(),o.TgZ(7,"button",29),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.browseBooks())}),o._UZ(8,"i",12),o._uU(9," Browse Books "),o.qZA()()()}}function Yi(s,a){if(1&s&&(o.TgZ(0,"div",32),o._UZ(1,"app-book-card",33),o.qZA()),2&s){const e=a.$implicit,i=o.oxw(2);o.xp6(1),o.Q6J("book",e)("manage",e.owner===i.keycloakService.username)}}function fo(s,a){if(1&s&&(o.TgZ(0,"div",30),o.YNc(1,Yi,2,2,"div",31),o.qZA()),2&s){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.displayedBooks)}}function sr(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"button",42),o.NdJ("click",function(){const d=o.CHM(e).$implicit,h=o.oxw(2);return o.KtG(h.goToPage(d))}),o._uU(1),o.qZA()}if(2&s){const e=a.$implicit,i=o.oxw(2);o.ekj("active",e===i.currentPage),o.xp6(1),o.hij(" ",e," ")}}function Fi(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",34)(1,"button",35),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToFirstPage())}),o._UZ(2,"i",36),o.qZA(),o.TgZ(3,"button",35),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToPreviousPage())}),o._UZ(4,"i",37),o.qZA(),o.TgZ(5,"div",38),o.YNc(6,sr,2,3,"button",39),o.qZA(),o.TgZ(7,"button",35),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToNextPage())}),o._UZ(8,"i",40),o.qZA(),o.TgZ(9,"button",35),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.goToLastPage())}),o._UZ(10,"i",41),o.qZA()()}if(2&s){const e=o.oxw();o.xp6(1),o.Q6J("disabled",1===e.currentPage),o.xp6(2),o.Q6J("disabled",1===e.currentPage),o.xp6(3),o.Q6J("ngForOf",e.getPageNumbers()),o.xp6(1),o.Q6J("disabled",e.currentPage===e.totalPages),o.xp6(2),o.Q6J("disabled",e.currentPage===e.totalPages)}}function fn(s,a){if(1&s&&(o.TgZ(0,"div",43),o._uU(1),o.qZA()),2&s){const e=o.oxw();o.xp6(1),o.AsE(" Page ",e.currentPage," of ",e.totalPages," ")}}let Ci=(()=>{class s{constructor(e,i,c,d){this.favoriteService=e,this.router=i,this.keycloakService=c,this.location=d,this.favorites=[],this.displayedBooks=[],this.loading=!0,this.error=null,this.currentPage=1,this.itemsPerPage=8,this.totalPages=1}ngOnInit(){this.loadFavorites()}loadFavorites(){this.loading=!0,this.error=null,this.favoriteService.getFavorites().pipe((0,Zt.x)(()=>this.loading=!1)).subscribe({next:e=>{this.favorites=e,this.calculateTotalPages(),this.updateDisplayedBooks()},error:e=>{console.error("Failed to load favorites",e),this.error="Unable to load your favorite books. Please try again later."}})}calculateTotalPages(){this.totalPages=Math.ceil(this.favorites.length/this.itemsPerPage),this.currentPage=this.currentPage>this.totalPages?this.totalPages||1:this.currentPage}updateDisplayedBooks(){const e=(this.currentPage-1)*this.itemsPerPage,i=Math.min(e+this.itemsPerPage,this.favorites.length);this.displayedBooks=this.favorites.slice(e,i)}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.updateDisplayedBooks())}goToFirstPage(){this.goToPage(1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToNextPage(){this.goToPage(this.currentPage+1)}goToLastPage(){this.goToPage(this.totalPages)}getPageNumbers(){const e=this.totalPages,i=this.currentPage;if(e<=5)return Array.from({length:e},(p,_)=>_+1);let d=Math.max(i-Math.floor(2.5),1),h=d+5-1;return h>e&&(h=e,d=Math.max(h-5+1,1)),Array.from({length:h-d+1},(p,_)=>d+_)}browseBooks(){this.router.navigate(["/books"])}retryLoading(){this.loadFavorites()}handleFavoriteChanged(e){e.isFavorited||(this.favorites=this.favorites.filter(i=>i.id!==e.book.id),this.calculateTotalPages(),this.updateDisplayedBooks())}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(Vt),o.Y36(X.F0),o.Y36(ne.M),o.Y36(g.Ye))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-favorites"]],decls:28,vars:8,consts:[[1,"favorites-container"],[1,"title-container"],[1,"main-title"],[1,"title-decoration"],[1,"decoration-line"],[1,"fas","fa-heart","decoration-icon"],[1,"controls-bar"],[1,"controls-left"],[1,"control-btn"],[1,"fas","fa-filter"],[1,"fas","fa-sort"],[1,"books-count"],[1,"fas","fa-book"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","empty-container",4,"ngIf"],["class","books-grid",4,"ngIf"],["class","pagination-container",4,"ngIf"],["class","page-indicator",4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"error-container"],[1,"error-content"],[1,"fas","fa-exclamation-triangle"],[1,"retry-btn",3,"click"],[1,"fas","fa-redo"],[1,"empty-container"],[1,"empty-content"],[1,"fas","fa-heart","empty-icon"],[1,"browse-btn",3,"click"],[1,"books-grid"],["class","book-card-wrapper",4,"ngFor","ngForOf"],[1,"book-card-wrapper"],[3,"book","manage"],[1,"pagination-container"],[1,"page-btn",3,"disabled","click"],[1,"fas","fa-angles-left"],[1,"fas","fa-angle-left"],[1,"page-numbers"],["class","page-number",3,"active","click",4,"ngFor","ngForOf"],[1,"fas","fa-angle-right"],[1,"fas","fa-angles-right"],[1,"page-number",3,"click"],[1,"page-indicator"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"My Favorite Books"),o.qZA(),o.TgZ(4,"div",3),o._UZ(5,"span",4)(6,"i",5)(7,"span",4),o.qZA()(),o.TgZ(8,"div",6)(9,"div",7)(10,"button",8),o._UZ(11,"i",9),o.TgZ(12,"span"),o._uU(13,"Filter"),o.qZA()(),o.TgZ(14,"button",8),o._UZ(15,"i",10),o.TgZ(16,"span"),o._uU(17,"Sort by"),o.qZA()()(),o.TgZ(18,"div",11),o._UZ(19,"i",12),o.TgZ(20,"span"),o._uU(21),o.qZA()()(),o.YNc(22,oi,4,0,"div",13),o.YNc(23,qi,10,1,"div",14),o.YNc(24,ho,10,0,"div",15),o.YNc(25,fo,2,1,"div",16),o.YNc(26,Fi,11,5,"div",17),o.YNc(27,fn,2,2,"div",18),o.qZA()),2&i&&(o.xp6(21),o.AsE("",c.displayedBooks.length||0," favorite ",1===c.displayedBooks.length?"book":"books",""),o.xp6(1),o.Q6J("ngIf",c.loading),o.xp6(1),o.Q6J("ngIf",c.error),o.xp6(1),o.Q6J("ngIf",!c.loading&&!c.error&&0===c.favorites.length),o.xp6(1),o.Q6J("ngIf",!c.loading&&!c.error&&c.favorites.length>0),o.xp6(1),o.Q6J("ngIf",!c.loading&&!c.error&&c.totalPages>1),o.xp6(1),o.Q6J("ngIf",!c.loading&&!c.error&&c.totalPages>1))},dependencies:[g.sg,g.O5,so],styles:[".favorites-container[_ngcontent-%COMP%]{background-color:#f8efd4;background-image:url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23d7cca1' fill-opacity='0.1' d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z'%3E%3C/path%3E%3C/svg%3E\");max-width:1200px;margin:0 auto;padding:20px 30px;position:relative}.favorites-container[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:0;left:10%;right:10%;height:8px;background:linear-gradient(to right,transparent,#D4AF37,transparent);border-radius:4px 4px 0 0}.title-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.main-title[_ngcontent-%COMP%]{font-family:Georgia,serif;font-size:32px;color:#5d4037;margin-bottom:10px;font-weight:700}.title-decoration[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0 auto}.decoration-line[_ngcontent-%COMP%]{height:1px;width:100px;background:linear-gradient(to right,transparent,#795548,transparent)}.decoration-icon[_ngcontent-%COMP%]{color:#e53935;font-size:24px;margin:0 15px}.controls-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#fff;border-radius:8px;padding:10px 15px;margin-bottom:25px;box-shadow:0 2px 6px #0000001a;border:1px solid #D7CCA1}.controls-left[_ngcontent-%COMP%]{display:flex;gap:10px}.control-btn[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #D7CCA1;border-radius:4px;padding:6px 12px;font-size:14px;color:#3e2723;cursor:pointer;display:flex;align-items:center;gap:6px}.control-btn[_ngcontent-%COMP%]:hover{background-color:#d7cca133}.control-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8d6e63}.books-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:14px;color:#8d6e63}.books-count[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#795548}.books-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));grid-gap:20px;margin-bottom:30px}[_nghost-%COMP%]     app-book-card{display:block;height:100%}[_nghost-%COMP%]     app-book-card .card{height:100%;margin-bottom:0;overflow:hidden;border-radius:8px;box-shadow:0 2px 8px #0000001a}[_nghost-%COMP%]     app-book-card .card-body{padding:16px}[_nghost-%COMP%]     app-book-card .card-img-top{height:200px;object-fit:cover}[_nghost-%COMP%]     app-book-card .card-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     app-book-card .rating-stars{display:flex;align-items:center}[_nghost-%COMP%]     app-book-card .card-footer{background-color:transparent;border-top:1px solid rgba(0,0,0,.08)}.book-card-wrapper[_ngcontent-%COMP%]{position:relative;height:100%;border-radius:8px;overflow:hidden;transition:transform .2s ease}.book-card-wrapper[_ngcontent-%COMP%]:before{content:\"\";position:absolute;left:0;top:0;bottom:0;width:4px;background-color:#e53935;z-index:10}.book-card-wrapper[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid rgba(121,85,72,.2);border-radius:50%;border-top-color:#795548;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-bottom:15px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#8d6e63;font-size:16px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:30px 0}.error-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:20px;box-shadow:0 4px 15px #0000001a;border:1px solid #D7CCA1;max-width:500px;width:100%}.error-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3e2723;font-size:18px;margin-bottom:10px;font-weight:600}.error-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e53935;margin-right:8px}.error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#8d6e63;margin-bottom:20px}.retry-btn[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #E53935;color:#e53935;border-radius:4px;padding:8px 12px;font-size:14px;cursor:pointer;display:inline-flex;align-items:center;gap:6px;transition:all .2s ease}.retry-btn[_ngcontent-%COMP%]:hover{background-color:#e53935;color:#fff}.empty-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px 0}.empty-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:30px;box-shadow:0 4px 15px #0000001a;border:1px solid #D7CCA1;text-align:center;max-width:500px;width:100%}.empty-icon[_ngcontent-%COMP%]{font-size:40px;color:#e53935;display:inline-block;margin-bottom:20px;background-color:#e539351a;width:90px;height:90px;line-height:90px;border-radius:50%}.empty-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#3e2723;margin-bottom:10px;font-weight:600}.empty-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#8d6e63;margin-bottom:20px;max-width:350px;margin-left:auto;margin-right:auto}.browse-btn[_ngcontent-%COMP%]{background-color:#795548;color:#fff;border:none;border-radius:4px;padding:8px 16px;font-size:14px;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:all .2s ease}.browse-btn[_ngcontent-%COMP%]:hover{background-color:#593f35}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:6px;margin-top:30px}.page-btn[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #D7CCA1;border-radius:4px;cursor:pointer;color:#3e2723;transition:all .2s ease}.page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#7955481a}.page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-numbers[_ngcontent-%COMP%]{display:flex;gap:6px}.page-number[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #D7CCA1;border-radius:4px;cursor:pointer;color:#3e2723;transition:all .2s ease}.page-number[_ngcontent-%COMP%]:hover:not(.active){background-color:#7955481a}.page-number.active[_ngcontent-%COMP%]{background-color:#5d4037;color:#fff;border-color:#5d4037}.page-indicator[_ngcontent-%COMP%]{text-align:center;margin-top:15px;color:#8d6e63;font-size:14px}@media (max-width: 768px){.favorites-container[_ngcontent-%COMP%]{padding:15px}.main-title[_ngcontent-%COMP%]{font-size:28px}.decoration-line[_ngcontent-%COMP%]{width:80px}.books-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px}}@media (max-width: 576px){.controls-bar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.controls-bar[_ngcontent-%COMP%]   .books-count[_ngcontent-%COMP%]{align-self:flex-end}.main-title[_ngcontent-%COMP%]{font-size:24px}.decoration-line[_ngcontent-%COMP%]{width:60px}.books-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.page-numbers[_ngcontent-%COMP%]{overflow-x:auto;max-width:160px;padding-bottom:5px}}"]})}return s})(),ss=(()=>{class s{constructor(e){this.http=e,this.baseUrl=`${Un_apiUrl}/recommendations`}getUserRecommendations(e,i=10){const c=(new J.LE).set("limit",i.toString());return this.http.get(`${this.baseUrl}/${e}`,{params:c})}getFeaturedBooks(e=6){const i=(new J.LE).set("count",e.toString());return this.http.get(`${this.baseUrl}/featured`,{params:i})}getRecommendationsByGenre(e,i=6){const c=(new J.LE).set("count",i.toString());return this.http.get(`${this.baseUrl}/genre/${e}`,{params:c})}getSimilarBooks(e,i=5){const c=(new J.LE).set("count",i.toString());return this.http.get(`${this.baseUrl}/similar/${e}`,{params:c})}getTrendingBooks(e=8){const i=(new J.LE).set("count",e.toString());return this.http.get(`${this.baseUrl}/trending`,{params:i})}submitFeedback(e){return this.http.post(`${this.baseUrl}/feedback`,e)}getServiceStatus(){return this.http.get(`${this.baseUrl}/status`)}static#e=this.\u0275fac=function(i){return new(i||s)(o.LFG(J.eN))};static#t=this.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Ni(s,a){1&s&&(o.TgZ(0,"div",14)(1,"div",15),o._UZ(2,"i",16),o.TgZ(3,"p"),o._uU(4,"AI is analyzing your preferences..."),o.qZA()()())}function bo(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",17),o._UZ(1,"i",18),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.TgZ(4,"button",19),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.errorMessage=null)}),o._UZ(5,"i",20),o.qZA()()}if(2&s){const e=o.oxw();o.xp6(3),o.Oqu(e.errorMessage)}}function br(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"app-book-card",32),o.NdJ("share",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onShare(c))})("archive",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onArchive(c))})("addToWaitingList",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onAddToWaitingList(c))})("borrow",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onBorrow(c))})("edit",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onEdit(c))})("details",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onShowDetails(c))})("favoriteChanged",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onFavoriteChanged(c))})("bookDeleted",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onBookDeleted(c))})("viewProfile",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onViewProfile(c))}),o.qZA()}2&s&&o.Q6J("book",a.$implicit)("manage",!1)}function vr(s,a){if(1&s&&(o.TgZ(0,"section",25)(1,"div",26)(2,"h2"),o._UZ(3,"i",27),o._uU(4," Personalized For You "),o.qZA(),o.TgZ(5,"p",28),o._uU(6,"Based on your reading history and preferences"),o.qZA()(),o.TgZ(7,"div",29)(8,"div",30),o.YNc(9,br,1,2,"app-book-card",31),o.qZA()()()),2&s){const e=o.oxw(2);o.xp6(9),o.Q6J("ngForOf",e.trendingBooks)}}function Li(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"app-book-card",32),o.NdJ("share",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onShare(c))})("archive",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onArchive(c))})("addToWaitingList",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onAddToWaitingList(c))})("borrow",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onBorrow(c))})("edit",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onEdit(c))})("details",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onShowDetails(c))})("favoriteChanged",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onFavoriteChanged(c))})("bookDeleted",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onBookDeleted(c))})("viewProfile",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onViewProfile(c))}),o.qZA()}2&s&&o.Q6J("book",a.$implicit)("manage",!1)}function Bi(s,a){if(1&s&&(o.TgZ(0,"section",25)(1,"div",26)(2,"h2"),o._UZ(3,"i",33),o._uU(4," Featured Books "),o.qZA(),o.TgZ(5,"p",28),o._uU(6,"Top-rated books loved by our community"),o.qZA()(),o.TgZ(7,"div",34),o.YNc(8,Li,1,2,"app-book-card",31),o.qZA()()),2&s){const e=o.oxw(2);o.xp6(8),o.Q6J("ngForOf",e.featuredBooks)}}function as(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"app-book-card",32),o.NdJ("share",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onShare(c))})("archive",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onArchive(c))})("addToWaitingList",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onAddToWaitingList(c))})("borrow",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onBorrow(c))})("edit",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onEdit(c))})("details",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onShowDetails(c))})("favoriteChanged",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onFavoriteChanged(c))})("bookDeleted",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onBookDeleted(c))})("viewProfile",function(c){o.CHM(e);const d=o.oxw(3);return o.KtG(d.onViewProfile(c))}),o.qZA()}2&s&&o.Q6J("book",a.$implicit)("manage",!1)}function Ki(s,a){if(1&s&&(o.TgZ(0,"section",25)(1,"div",26)(2,"h2"),o._UZ(3,"i",35),o._uU(4),o.qZA(),o.TgZ(5,"p",28),o._uU(6),o.qZA()(),o.TgZ(7,"div",29)(8,"div",30),o.YNc(9,as,1,2,"app-book-card",31),o.qZA()()()),2&s){const e=a.$implicit;o.xp6(4),o.hij(" ",e.genre," Books "),o.xp6(2),o.hij("Curated ",e.genre.toLowerCase()," recommendations"),o.xp6(3),o.Q6J("ngForOf",e.books)}}function vo(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"section",36)(1,"div",37),o._UZ(2,"i",38),o.TgZ(3,"h3"),o._uU(4,"Get Personalized Recommendations"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"Sign in to receive AI-powered book recommendations based on your reading preferences"),o.qZA(),o.TgZ(7,"button",39),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.keycloakService.login())}),o._UZ(8,"i",40),o._uU(9," Sign In "),o.qZA()()()}}function Yr(s,a){if(1&s&&(o.TgZ(0,"div",21),o.YNc(1,vr,10,1,"section",22),o.YNc(2,Bi,9,1,"section",22),o.YNc(3,Ki,10,3,"section",23),o.YNc(4,vo,10,0,"section",24),o.qZA()),2&s){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.trendingBooks.length>0),o.xp6(1),o.Q6J("ngIf",e.featuredBooks.length>0),o.xp6(1),o.Q6J("ngForOf",e.genreRecommendations),o.xp6(1),o.Q6J("ngIf",!e.isAuthenticated)}}let Ji=(()=>{class s{constructor(e,i,c){this.recommendationService=e,this.keycloakService=i,this.router=c,this.personalRecommendations=[],this.featuredBooks=[],this.trendingBooks=[],this.genreRecommendations=[],this.isAuthenticated=!1,this.aiServiceOnline=!1,this.isLoading=!0,this.errorMessage=null,this.genres=["ROMANCE","FANTASY","COMEDY","SCIFI","HORROR"]}ngOnInit(){this.checkAuthentication(),this.checkAIServiceStatus(),this.loadAllRecommendations()}checkAuthentication(){this.isAuthenticated=void 0!==this.keycloakService.token,this.isAuthenticated&&(this.currentUserId=this.getUserIdFromKeycloak())}getUserIdFromKeycloak(){const e=this.keycloakService.username;if(e)return this.hashCode(e)}hashCode(e){let i=0;for(let c=0;c<e.length;c++)i=(i<<5)-i+e.charCodeAt(c),i&=i;return Math.abs(i)}checkAIServiceStatus(){this.recommendationService.getServiceStatus().subscribe({next:e=>{this.aiServiceOnline=e.available},error:()=>{this.aiServiceOnline=!1}})}loadAllRecommendations(){this.isLoading=!0,this.errorMessage=null,this.loadFeaturedBooks(),this.loadTrendingBooks(),this.isAuthenticated&&this.currentUserId&&this.loadPersonalRecommendations(),this.loadGenreRecommendations()}loadFeaturedBooks(){this.recommendationService.getFeaturedBooks(6).subscribe({next:e=>{this.featuredBooks=this.convertRecommendationsToBookResponse(e)},error:e=>{console.error("Error loading featured books:",e),this.handleError("Failed to load featured books")}})}loadTrendingBooks(){this.recommendationService.getTrendingBooks(8).subscribe({next:e=>{this.trendingBooks=this.convertRecommendationsToBookResponse(e)},error:e=>{console.error("Error loading trending books:",e),this.handleError("Failed to load trending books")}})}loadPersonalRecommendations(){this.currentUserId&&this.recommendationService.getUserRecommendations(this.currentUserId,10).subscribe({next:e=>{this.personalRecommendations=this.convertRecommendationsToBookResponse(e),this.isLoading=!1},error:e=>{console.error("Error loading personal recommendations:",e),this.handleError("Failed to load personalized recommendations"),this.isLoading=!1}})}loadGenreRecommendations(){let e=0;const i=this.genres.length;this.genres.forEach(c=>{this.recommendationService.getRecommendationsByGenre(c,6).subscribe({next:d=>{d.length>0?this.genreRecommendations.push({genre:this.formatGenre(c),books:this.convertRecommendationsToBookResponse(d)}):console.warn(`No recommendations found for genre: ${c}`),e++,e===i&&!this.isAuthenticated&&(this.isLoading=!1)},error:d=>{console.error(`Error loading ${c} recommendations:`,d),e++,e===i&&!this.isAuthenticated&&(this.isLoading=!1)}})})}convertRecommendationsToBookResponse(e){return e.map(i=>({id:i.book_id,title:i.title,authorName:i.authorName,cover:i.cover?[i.cover]:[],rate:i.rate,genre:i.genre,synopsis:i.description||"No description available",shareable:!0,archived:!1,owner:i.authorName||"System"}))}formatGenre(e){return e.charAt(0)+e.slice(1).toLowerCase().replace("_"," ")}handleError(e){this.errorMessage=e,setTimeout(()=>{this.errorMessage=null},5e3)}onShare(e){console.log("Sharing book:",e.title)}onArchive(e){console.log("Archiving book:",e.title)}onAddToWaitingList(e){console.log("Adding to waiting list:",e.title)}onBorrow(e){console.log("Borrowing book:",e.title),this.router.navigate(["/books/borrow",e.id])}onEdit(e){console.log("Editing book:",e.title),this.router.navigate(["/books/manage",e.id])}onShowDetails(e){console.log("Showing details for:",e.title),this.router.navigate(["/books/details",e.id])}onFavoriteChanged(e){console.log("Favorite status changed:",e),this.currentUserId&&this.recommendationService.submitFeedback({userId:this.currentUserId,bookId:e.book.id,action:e.isFavorited?"liked":"disliked"}).subscribe({next:()=>{console.log("Feedback submitted to AI system"),this.refreshPersonalRecommendations()},error:i=>console.error("Error submitting feedback:",i)})}onBookDeleted(e){console.log("Book deleted:",e),this.personalRecommendations=this.personalRecommendations.filter(i=>i.id!==e),this.featuredBooks=this.featuredBooks.filter(i=>i.id!==e),this.trendingBooks=this.trendingBooks.filter(i=>i.id!==e),this.genreRecommendations.forEach(i=>{i.books=i.books.filter(c=>c.id!==e)})}onViewProfile(e){console.log("Viewing profile for:",e),this.router.navigate(["/profile/user",e])}refreshRecommendations(){this.loadAllRecommendations()}refreshPersonalRecommendations(){this.isAuthenticated&&this.currentUserId&&setTimeout(()=>{this.loadPersonalRecommendations()},1e3)}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(ss),o.Y36(ne.M),o.Y36(X.F0))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-featured-books"]],decls:18,vars:10,consts:[[1,"featured-container"],[1,"featured-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-robot","ai-icon"],[1,"page-subtitle"],[1,"ai-status-card"],[1,"status-indicator"],[1,"fas",3,"ngClass"],[1,"refresh-btn",3,"disabled","click"],[1,"fas","fa-sync-alt"],["class","loading-section",4,"ngIf"],["class","error-alert",4,"ngIf"],["class","recommendations-content",4,"ngIf"],[1,"loading-section"],[1,"loading-spinner"],[1,"fas","fa-robot","fa-spin"],[1,"error-alert"],[1,"fas","fa-exclamation-circle"],[1,"close-error",3,"click"],[1,"fas","fa-times"],[1,"recommendations-content"],["class","recommendation-section",4,"ngIf"],["class","recommendation-section",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"recommendation-section"],[1,"section-header"],[1,"fas","fa-fire"],[1,"section-subtitle"],[1,"books-scroll-container"],[1,"books-horizontal-scroll"],[3,"book","manage","share","archive","addToWaitingList","borrow","edit","details","favoriteChanged","bookDeleted","viewProfile",4,"ngFor","ngForOf"],[3,"book","manage","share","archive","addToWaitingList","borrow","edit","details","favoriteChanged","bookDeleted","viewProfile"],[1,"fas","fa-star"],[1,"books-grid","featured"],[1,"fas","fa-tags"],[1,"empty-state"],[1,"empty-content"],[1,"fas","fa-user-plus"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-sign-in-alt"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),o._UZ(4,"i",4),o._uU(5," AI Book Recommendations "),o.qZA(),o.TgZ(6,"p",5),o._uU(7,"Discover your next favorite book with intelligent recommendations"),o.qZA(),o.TgZ(8,"div",6)(9,"div",7),o._UZ(10,"i",8),o.TgZ(11,"span"),o._uU(12),o.qZA()(),o.TgZ(13,"button",9),o.NdJ("click",function(){return c.refreshRecommendations()}),o._UZ(14,"i",10),o.qZA()()()(),o.YNc(15,Ni,5,0,"div",11),o.YNc(16,bo,6,1,"div",12),o.YNc(17,Yr,5,4,"div",13),o.qZA()),2&i&&(o.xp6(8),o.ekj("online",c.aiServiceOnline),o.xp6(2),o.Q6J("ngClass",c.aiServiceOnline?"fa-check-circle":"fa-exclamation-triangle"),o.xp6(2),o.hij("AI Engine ",c.aiServiceOnline?"Online":"Offline",""),o.xp6(1),o.Q6J("disabled",c.isLoading),o.xp6(1),o.ekj("fa-spin",c.isLoading),o.xp6(1),o.Q6J("ngIf",c.isLoading),o.xp6(1),o.Q6J("ngIf",c.errorMessage),o.xp6(1),o.Q6J("ngIf",!c.isLoading))},dependencies:[g.mk,g.sg,g.O5,so],styles:[".featured-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:2rem 0}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.2);padding:3rem 0;margin-bottom:3rem}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem;text-align:center}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#fff;margin-bottom:1rem;display:flex;align-items:center;justify-content:center;gap:1rem}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   .ai-icon[_ngcontent-%COMP%]{color:gold;animation:_ngcontent-%COMP%_pulse 2s infinite}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:#fffc;margin-bottom:2rem}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .ai-status-card[_ngcontent-%COMP%]{display:inline-flex;align-items:center;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);border-radius:50px;padding:.75rem 1.5rem;gap:1rem}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .ai-status-card.online[_ngcontent-%COMP%]{border-color:#4ade80}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .ai-status-card.online[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4ade80}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .ai-status-card[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#fff;font-weight:500}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .ai-status-card[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .ai-status-card[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{background:none;border:1px solid rgba(255,255,255,.3);color:#fff;padding:.5rem;border-radius:50%;cursor:pointer;transition:all .3s ease}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .ai-status-card[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:rgba(255,255,255,.1);transform:scale(1.1)}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .ai-status-card[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.featured-container[_ngcontent-%COMP%]   .loading-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px}.featured-container[_ngcontent-%COMP%]   .loading-section[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#fff}.featured-container[_ngcontent-%COMP%]   .loading-section[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:gold;margin-bottom:1rem}.featured-container[_ngcontent-%COMP%]   .loading-section[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;opacity:.8}.featured-container[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto 2rem;padding:0 2rem}.featured-container[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.3);border-radius:12px;padding:1rem 1.5rem;display:flex;align-items:center;gap:1rem;color:#fecaca}.featured-container[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]{margin-left:auto;background:none;border:none;color:#fecaca;cursor:pointer;padding:.25rem;border-radius:4px}.featured-container[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .close-error[_ngcontent-%COMP%]:hover{background:rgba(239,68,68,.2)}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]{margin-bottom:4rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:2rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#fff;display:flex;align-items:center;gap:.75rem;margin-bottom:.5rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:gold}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{color:#ffffffb3;font-size:1rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .books-grid[_ngcontent-%COMP%]{display:grid;gap:2rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .books-grid.personal[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .books-grid.featured[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .books-scroll-container[_ngcontent-%COMP%]{position:relative}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .books-scroll-container[_ngcontent-%COMP%]   .books-horizontal-scroll[_ngcontent-%COMP%]{display:flex;gap:1.5rem;overflow-x:auto;padding-bottom:1rem;scroll-behavior:smooth}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .books-scroll-container[_ngcontent-%COMP%]   .books-horizontal-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .books-scroll-container[_ngcontent-%COMP%]   .books-horizontal-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:rgba(255,255,255,.1);border-radius:4px}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .books-scroll-container[_ngcontent-%COMP%]   .books-horizontal-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(255,255,255,.3);border-radius:4px}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .books-scroll-container[_ngcontent-%COMP%]   .books-horizontal-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.5)}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .books-scroll-container[_ngcontent-%COMP%]   .books-horizontal-scroll[_ngcontent-%COMP%]   app-book-card[_ngcontent-%COMP%]{flex:0 0 260px}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);border-radius:20px;padding:3rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:gold;margin-bottom:1.5rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;color:#fff;margin-bottom:1rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;font-size:1.1rem;margin-bottom:2rem;max-width:500px;margin-left:auto;margin-right:auto}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#ffd700;color:#1a1a2e;border:none;padding:1rem 2rem;border-radius:50px;font-weight:600;font-size:1.1rem;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:.5rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ffed4e;transform:translateY(-2px);box-shadow:0 10px 25px #ffd7004d}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@media (max-width: 768px){.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]{padding:2rem 0}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:0 1rem}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;flex-direction:column;gap:.5rem}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem}.featured-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .ai-status-card[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;padding:1rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]{padding:0 1rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;flex-direction:column;align-items:flex-start;gap:.5rem}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .books-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.featured-container[_ngcontent-%COMP%]   .recommendations-content[_ngcontent-%COMP%]   .recommendation-section[_ngcontent-%COMP%]   .books-horizontal-scroll[_ngcontent-%COMP%]   app-book-card[_ngcontent-%COMP%]{flex:0 0 240px}}"]})}return s})();function Cn(s){return s+.5|0}const Ui=(s,a,e)=>Math.max(Math.min(s,e),a);function Qi(s){return Ui(Cn(2.55*s),0,255)}function To(s){return Ui(Cn(255*s),0,255)}function Mi(s){return Ui(Cn(s/2.55)/100,0,1)}function yr(s){return Ui(Cn(100*s),0,100)}const Po={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yo=[..."0123456789ABCDEF"],ia=s=>yo[15&s],fi=s=>yo[(240&s)>>4]+yo[15&s],Hn=s=>(240&s)>>4==(15&s);const ve=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zt(s,a,e){const i=a*Math.min(e,1-e),c=(d,h=(d+s/30)%12)=>e-i*Math.max(Math.min(h-3,9-h,1),-1);return[c(0),c(8),c(4)]}function En(s,a,e){const i=(c,d=(c+s/60)%6)=>e-e*a*Math.max(Math.min(d,4-d,1),0);return[i(5),i(3),i(1)]}function Tr(s,a,e){const i=zt(s,1,.5);let c;for(a+e>1&&(c=1/(a+e),a*=c,e*=c),c=0;c<3;c++)i[c]*=1-a-e,i[c]+=a;return i}function Br(s){const e=s.r/255,i=s.g/255,c=s.b/255,d=Math.max(e,i,c),h=Math.min(e,i,c),p=(d+h)/2;let _,k,I;return d!==h&&(I=d-h,k=p>.5?I/(2-d-h):I/(d+h),_=function Pr(s,a,e,i,c){return s===c?(a-e)/i+(a<e?6:0):a===c?(e-s)/i+2:(s-a)/i+4}(e,i,c,I,d),_=60*_+.5),[0|_,k||0,p]}function cs(s,a,e,i){return(Array.isArray(a)?s(a[0],a[1],a[2]):s(a,e,i)).map(To)}function Ur(s,a,e){return cs(zt,s,a,e)}function ls(s){return(s%360+360)%360}const Ws={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ds={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ts;const Ar=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Ps=s=>s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055,ji=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function Ys(s,a,e){if(s){let i=Br(s);i[a]=Math.max(0,Math.min(i[a]+i[a]*e,0===a?360:1)),i=Ur(i),s.r=i[0],s.g=i[1],s.b=i[2]}}function As(s,a){return s&&Object.assign(a||{},s)}function Vo(s){var a={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(a={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(a.a=To(s[3]))):(a=As(s,{r:0,g:0,b:0,a:1})).a=To(a.a),a}function Kr(s){return"r"===s.charAt(0)?function qs(s){const a=Ar.exec(s);let i,c,d,e=255;if(a){if(a[7]!==i){const h=+a[7];e=a[8]?Qi(h):Ui(255*h,0,255)}return i=+a[1],c=+a[3],d=+a[5],i=255&(a[2]?Qi(i):Ui(i,0,255)),c=255&(a[4]?Qi(c):Ui(c,0,255)),d=255&(a[6]?Qi(d):Ui(d,0,255)),{r:i,g:c,b:d,a:e}}}(s):function tc(s){const a=ve.exec(s);let i,e=255;if(!a)return;a[5]!==i&&(e=a[6]?Qi(+a[5]):To(+a[5]));const c=ls(+a[2]),d=+a[3]/100,h=+a[4]/100;return i="hwb"===a[1]?function ra(s,a,e){return cs(Tr,s,a,e)}(c,d,h):"hsv"===a[1]?function ar(s,a,e){return cs(En,s,a,e)}(c,d,h):Ur(c,d,h),{r:i[0],g:i[1],b:i[2],a:e}}(s)}class ii{constructor(a){if(a instanceof ii)return a;const e=typeof a;let i;"object"===e?i=Vo(a):"string"===e&&(i=function j(s){var e,a=s.length;return"#"===s[0]&&(4===a||5===a?e={r:255&17*Po[s[1]],g:255&17*Po[s[2]],b:255&17*Po[s[3]],a:5===a?17*Po[s[4]]:255}:(7===a||9===a)&&(e={r:Po[s[1]]<<4|Po[s[2]],g:Po[s[3]]<<4|Po[s[4]],b:Po[s[5]]<<4|Po[s[6]],a:9===a?Po[s[7]]<<4|Po[s[8]]:255})),e}(a)||function ca(s){Ts||(Ts=function jr(){const s={},a=Object.keys(ds),e=Object.keys(Ws);let i,c,d,h,p;for(i=0;i<a.length;i++){for(h=p=a[i],c=0;c<e.length;c++)d=e[c],p=p.replace(d,Ws[d]);d=parseInt(ds[h],16),s[p]=[d>>16&255,d>>8&255,255&d]}return s}(),Ts.transparent=[0,0,0,0]);const a=Ts[s.toLowerCase()];return a&&{r:a[0],g:a[1],b:a[2],a:4===a.length?a[3]:255}}(a)||Kr(a)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var a=As(this._rgb);return a&&(a.a=Mi(a.a)),a}set rgb(a){this._rgb=Vo(a)}rgbString(){return this._valid?function us(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${Mi(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Q(s){var a=(s=>Hn(s.r)&&Hn(s.g)&&Hn(s.b)&&Hn(s.a))(s)?ia:fi;return s?"#"+a(s.r)+a(s.g)+a(s.b)+((s,a)=>s<255?a(s):"")(s.a,a):void 0}(this._rgb):void 0}hslString(){return this._valid?function aa(s){if(!s)return;const a=Br(s),e=a[0],i=yr(a[1]),c=yr(a[2]);return s.a<255?`hsla(${e}, ${i}%, ${c}%, ${Mi(s.a)})`:`hsl(${e}, ${i}%, ${c}%)`}(this._rgb):void 0}mix(a,e){if(a){const i=this.rgb,c=a.rgb;let d;const h=e===d?.5:e,p=2*h-1,_=i.a-c.a,k=((p*_==-1?p:(p+_)/(1+p*_))+1)/2;d=1-k,i.r=255&k*i.r+d*c.r+.5,i.g=255&k*i.g+d*c.g+.5,i.b=255&k*i.b+d*c.b+.5,i.a=h*i.a+(1-h)*c.a,this.rgb=i}return this}interpolate(a,e){return a&&(this._rgb=function xr(s,a,e){const i=ji(Mi(s.r)),c=ji(Mi(s.g)),d=ji(Mi(s.b));return{r:To(Ps(i+e*(ji(Mi(a.r))-i))),g:To(Ps(c+e*(ji(Mi(a.g))-c))),b:To(Ps(d+e*(ji(Mi(a.b))-d))),a:s.a+e*(a.a-s.a)}}(this._rgb,a._rgb,e)),this}clone(){return new ii(this.rgb)}alpha(a){return this._rgb.a=To(a),this}clearer(a){return this._rgb.a*=1-a,this}greyscale(){const a=this._rgb,e=Cn(.3*a.r+.59*a.g+.11*a.b);return a.r=a.g=a.b=e,this}opaquer(a){return this._rgb.a*=1+a,this}negate(){const a=this._rgb;return a.r=255-a.r,a.g=255-a.g,a.b=255-a.b,this}lighten(a){return Ys(this._rgb,2,a),this}darken(a){return Ys(this._rgb,2,-a),this}saturate(a){return Ys(this._rgb,1,a),this}desaturate(a){return Ys(this._rgb,1,-a),this}rotate(a){return function sa(s,a){var e=Br(s);e[0]=ls(e[0]+a),e=Ur(e),s.r=e[0],s.g=e[1],s.b=e[2]}(this._rgb,a),this}}function Xi(){}const Ss=(()=>{let s=0;return()=>s++})();function Mn(s){return null==s}function io(s){if(Array.isArray&&Array.isArray(s))return!0;const a=Object.prototype.toString.call(s);return"[object"===a.slice(0,7)&&"Array]"===a.slice(-6)}function In(s){return null!==s&&"[object Object]"===Object.prototype.toString.call(s)}function xo(s){return("number"==typeof s||s instanceof Number)&&isFinite(+s)}function li(s,a){return xo(s)?s:a}function bn(s,a){return typeof s>"u"?a:s}const Js=(s,a)=>"string"==typeof s&&s.endsWith("%")?parseFloat(s)/100*a:+s;function co(s,a,e){if(s&&"function"==typeof s.call)return s.apply(e,a)}function Kn(s,a,e,i){let c,d,h;if(io(s))if(d=s.length,i)for(c=d-1;c>=0;c--)a.call(e,s[c],c);else for(c=0;c<d;c++)a.call(e,s[c],c);else if(In(s))for(h=Object.keys(s),d=h.length,c=0;c<d;c++)a.call(e,s[h[c]],h[c])}function cr(s,a){let e,i,c,d;if(!s||!a||s.length!==a.length)return!1;for(e=0,i=s.length;e<i;++e)if(c=s[e],d=a[e],c.datasetIndex!==d.datasetIndex||c.index!==d.index)return!1;return!0}function Jr(s){if(io(s))return s.map(Jr);if(In(s)){const a=Object.create(null),e=Object.keys(s),i=e.length;let c=0;for(;c<i;++c)a[e[c]]=Jr(s[e[c]]);return a}return s}function Sa(s){return-1===["__proto__","prototype","constructor"].indexOf(s)}function nc(s,a,e,i){if(!Sa(s))return;const c=a[s],d=e[s];In(c)&&In(d)?Vr(c,d,i):a[s]=Jr(d)}function Vr(s,a,e){const i=io(a)?a:[a],c=i.length;if(!In(s))return s;const d=(e=e||{}).merger||nc;let h;for(let p=0;p<c;++p){if(h=i[p],!In(h))continue;const _=Object.keys(h);for(let k=0,I=_.length;k<I;++k)d(_[k],s,h,e)}return s}function ys(s,a){return Vr(s,a,{merger:M})}function M(s,a,e){if(!Sa(s))return;const i=a[s],c=e[s];In(i)&&In(c)?ys(i,c):Object.prototype.hasOwnProperty.call(a,s)||(a[s]=Jr(c))}const S={"":s=>s,x:s=>s.x,y:s=>s.y};function Ge(s,a){return(S[a]||(S[a]=function me(s){const a=function H(s){const a=s.split("."),e=[];let i="";for(const c of a)i+=c,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(s);return e=>{for(const i of a){if(""===i)break;e=e&&e[i]}return e}}(a)))(s)}function ut(s){return s.charAt(0).toUpperCase()+s.slice(1)}const qt=s=>typeof s<"u",Rn=s=>"function"==typeof s,Xn=(s,a)=>{if(s.size!==a.size)return!1;for(const e of s)if(!a.has(e))return!1;return!0},Yt=Math.PI,yn=2*Yt,go=yn+Yt,Ho=Number.POSITIVE_INFINITY,Hr=Yt/180,Jn=Yt/2,Vi=Yt/4,er=2*Yt/3,qo=Math.log10,Yo=Math.sign;function R(s,a,e){return Math.abs(s-a)<e}function b(s){const a=Math.round(s);s=R(s,a,s/1e3)?a:s;const e=Math.pow(10,Math.floor(qo(s))),i=s/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function V(s){return!function T(s){return"symbol"==typeof s||"object"==typeof s&&null!==s&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function ye(s,a,e){let i,c,d;for(i=0,c=s.length;i<c;i++)d=s[i][e],isNaN(d)||(a.min=Math.min(a.min,d),a.max=Math.max(a.max,d))}function xe(s){return s*(Yt/180)}function He(s){return s*(180/Yt)}function st(s){if(!xo(s))return;let a=1,e=0;for(;Math.round(s*a)/a!==s;)a*=10,e++;return e}function Lt(s,a){const e=a.x-s.x,i=a.y-s.y,c=Math.sqrt(e*e+i*i);let d=Math.atan2(i,e);return d<-.5*Yt&&(d+=yn),{angle:d,distance:c}}function Et(s,a){return Math.sqrt(Math.pow(a.x-s.x,2)+Math.pow(a.y-s.y,2))}function Ln(s,a){return(s-a+go)%yn-Yt}function tn(s){return(s%yn+yn)%yn}function Ht(s,a,e,i){const c=tn(s),d=tn(a),h=tn(e),p=tn(d-c),_=tn(h-c),k=tn(c-d),I=tn(c-h);return c===d||c===h||i&&d===h||p>_&&k<I}function Kt(s,a,e){return Math.max(a,Math.min(e,s))}function Qn(s,a,e,i=1e-6){return s>=Math.min(a,e)-i&&s<=Math.max(a,e)+i}function Dn(s,a,e){e=e||(h=>s[h]<a);let d,i=s.length-1,c=0;for(;i-c>1;)d=c+i>>1,e(d)?c=d:i=d;return{lo:c,hi:i}}const Eo=(s,a,e,i)=>Dn(s,e,i?c=>{const d=s[c][a];return d<e||d===e&&s[c+1][a]===e}:c=>s[c][a]<e),di=(s,a,e)=>Dn(s,e,i=>s[i][a]>=e),ui=["push","pop","shift","splice","unshift"];function Cr(s,a){const e=s._chartjs;if(!e)return;const i=e.listeners,c=i.indexOf(a);-1!==c&&i.splice(c,1),!(i.length>0)&&(ui.forEach(d=>{delete s[d]}),delete s._chartjs)}function Hi(s){const a=new Set(s);return a.size===s.length?s:Array.from(a)}const Qs=typeof window>"u"?function(s){return s()}:window.requestAnimationFrame;function Is(s,a){let e=[],i=!1;return function(...c){e=c,i||(i=!0,Qs.call(window,()=>{i=!1,s.apply(a,e)}))}}const Rs=s=>"start"===s?"left":"end"===s?"right":"center",Oi=(s,a,e)=>"start"===s?a:"end"===s?e:(a+e)/2;function cn(s,a,e){const i=a.length;let c=0,d=i;if(s._sorted){const{iScale:h,vScale:p,_parsed:_}=s,k=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,I=h.axis,{min:z,max:ee,minDefined:ie,maxDefined:Me}=h.getUserBounds();if(ie){if(c=Math.min(Eo(_,I,z).lo,e?i:Eo(a,I,h.getPixelForValue(z)).lo),k){const we=_.slice(0,c+1).reverse().findIndex(Ee=>!Mn(Ee[p.axis]));c-=Math.max(0,we)}c=Kt(c,0,i-1)}if(Me){let we=Math.max(Eo(_,h.axis,ee,!0).hi+1,e?0:Eo(a,I,h.getPixelForValue(ee),!0).hi+1);if(k){const Ee=_.slice(we-1).findIndex(nt=>!Mn(nt[p.axis]));we+=Math.max(0,Ee)}d=Kt(we,c,i)-c}else d=i-c}return{start:c,count:d}}function pn(s){const{xScale:a,yScale:e,_scaleRanges:i}=s,c={xmin:a.min,xmax:a.max,ymin:e.min,ymax:e.max};if(!i)return s._scaleRanges=c,!0;const d=i.xmin!==a.min||i.xmax!==a.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,c),d}const zn=s=>0===s||1===s,Do=(s,a,e)=>-Math.pow(2,10*(s-=1))*Math.sin((s-a)*yn/e),Mr=(s,a,e)=>Math.pow(2,-10*s)*Math.sin((s-a)*yn/e)+1,gi={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>1-Math.cos(s*Jn),easeOutSine:s=>Math.sin(s*Jn),easeInOutSine:s=>-.5*(Math.cos(Yt*s)-1),easeInExpo:s=>0===s?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>1===s?1:1-Math.pow(2,-10*s),easeInOutExpo:s=>zn(s)?s:s<.5?.5*Math.pow(2,10*(2*s-1)):.5*(2-Math.pow(2,-10*(2*s-1))),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>zn(s)?s:Do(s,.075,.3),easeOutElastic:s=>zn(s)?s:Mr(s,.075,.3),easeInOutElastic:s=>zn(s)?s:s<.5?.5*Do(2*s,.1125,.45):.5+.5*Mr(2*s-1,.1125,.45),easeInBack:s=>s*s*(2.70158*s-1.70158),easeOutBack:s=>(s-=1)*s*(2.70158*s+1.70158)+1,easeInOutBack(s){let a=1.70158;return(s/=.5)<1?s*s*((1+(a*=1.525))*s-a)*.5:.5*((s-=2)*s*((1+(a*=1.525))*s+a)+2)},easeInBounce:s=>1-gi.easeOutBounce(1-s),easeOutBounce:s=>s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375,easeInOutBounce:s=>s<.5?.5*gi.easeInBounce(2*s):.5*gi.easeOutBounce(2*s-1)+.5};function Sr(s){if(s&&"object"==typeof s){const a=s.toString();return"[object CanvasPattern]"===a||"[object CanvasGradient]"===a}return!1}function Ao(s){return Sr(s)?s:new ii(s)}function Xs(s){return Sr(s)?s:new ii(s).saturate(.5).darken(.1).hexString()}const _t=["x","y","borderWidth","radius","tension"],gn=["color","borderColor","backgroundColor"],Ko=new Map;function le(s,a,e){return function da(s,a){a=a||{};const e=s+JSON.stringify(a);let i=Ko.get(e);return i||(i=new Intl.NumberFormat(s,a),Ko.set(e,i)),i}(a,e).format(s)}const G={values:s=>io(s)?s:""+s,numeric(s,a,e){if(0===s)return"0";const i=this.chart.options.locale;let c,d=s;if(e.length>1){const k=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(k<1e-4||k>1e15)&&(c="scientific"),d=function $(s,a){let e=a.length>3?a[2].value-a[1].value:a[1].value-a[0].value;return Math.abs(e)>=1&&s!==Math.floor(s)&&(e=s-Math.floor(s)),e}(s,e)}const h=qo(Math.abs(d)),p=isNaN(h)?1:Math.max(Math.min(-1*Math.floor(h),20),0),_={notation:c,minimumFractionDigits:p,maximumFractionDigits:p};return Object.assign(_,this.options.ticks.format),le(s,i,_)},logarithmic(s,a,e){if(0===s)return"0";const i=e[a].significand||s/Math.pow(10,Math.floor(qo(s)));return[1,2,3,5,10,15].includes(i)||a>.8*e.length?G.numeric.call(this,s,a,e):""}};var re={formatters:G};const v=Object.create(null),w=Object.create(null);function y(s,a){if(!a)return s;const e=a.split(".");for(let i=0,c=e.length;i<c;++i){const d=e[i];s=s[d]||(s[d]=Object.create(null))}return s}function D(s,a,e){return"string"==typeof a?Vr(y(s,a),e):Vr(y(s,""),a)}class F{constructor(a,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,c)=>Xs(c.backgroundColor),this.hoverBorderColor=(i,c)=>Xs(c.borderColor),this.hoverColor=(i,c)=>Xs(c.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(a),this.apply(e)}set(a,e){return D(this,a,e)}get(a){return y(this,a)}describe(a,e){return D(w,a,e)}override(a,e){return D(v,a,e)}route(a,e,i,c){const d=y(this,a),h=y(this,i),p="_"+e;Object.defineProperties(d,{[p]:{value:d[e],writable:!0},[e]:{enumerable:!0,get(){const _=this[p],k=h[c];return In(_)?Object.assign({},k,_):bn(_,k)},set(_){this[p]=_}}})}apply(a){a.forEach(e=>e(this))}}var W=new F({_scriptable:s=>!s.startsWith("on"),_indexable:s=>"events"!==s,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Xr(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:a=>"onProgress"!==a&&"onComplete"!==a&&"fn"!==a}),s.set("animations",{colors:{type:"color",properties:gn},numbers:{type:"number",properties:_t}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:a=>0|a}}}})},function zi(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Ze(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(a,e)=>e.lineWidth,tickColor:(a,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:re.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:a=>!a.startsWith("before")&&!a.startsWith("after")&&"callback"!==a&&"parser"!==a,_indexable:a=>"borderDash"!==a&&"tickBorderDash"!==a&&"dash"!==a}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:a=>"backdropPadding"!==a&&"callback"!==a,_indexable:a=>"backdropPadding"!==a})}]);function Qe(s,a,e,i,c){let d=a[c];return d||(d=a[c]=s.measureText(c).width,e.push(c)),d>i&&(i=d),i}function qe(s,a,e,i){let c=(i=i||{}).data=i.data||{},d=i.garbageCollect=i.garbageCollect||[];i.font!==a&&(c=i.data={},d=i.garbageCollect=[],i.font=a),s.save(),s.font=a;let h=0;const p=e.length;let _,k,I,z,ee;for(_=0;_<p;_++)if(z=e[_],null==z||io(z)){if(io(z))for(k=0,I=z.length;k<I;k++)ee=z[k],null!=ee&&!io(ee)&&(h=Qe(s,c,d,h,ee))}else h=Qe(s,c,d,h,z);s.restore();const ie=d.length/2;if(ie>e.length){for(_=0;_<ie;_++)delete c[d[_]];d.splice(0,ie)}return h}function Rt(s,a,e){const i=s.currentDevicePixelRatio,c=0!==e?Math.max(e/2,.5):0;return Math.round((a-c)*i)/i+c}function mn(s,a){!a&&!s||((a=a||s.getContext("2d")).save(),a.resetTransform(),a.clearRect(0,0,s.width,s.height),a.restore())}function lo(s,a,e,i){Zn(s,a,e,i,null)}function Zn(s,a,e,i,c){let d,h,p,_,k,I,z,ee;const ie=a.pointStyle,Me=a.rotation,we=a.radius;let Ee=(Me||0)*Hr;if(ie&&"object"==typeof ie&&(d=ie.toString(),"[object HTMLImageElement]"===d||"[object HTMLCanvasElement]"===d))return s.save(),s.translate(e,i),s.rotate(Ee),s.drawImage(ie,-ie.width/2,-ie.height/2,ie.width,ie.height),void s.restore();if(!(isNaN(we)||we<=0)){switch(s.beginPath(),ie){default:c?s.ellipse(e,i,c/2,we,0,0,yn):s.arc(e,i,we,0,yn),s.closePath();break;case"triangle":I=c?c/2:we,s.moveTo(e+Math.sin(Ee)*I,i-Math.cos(Ee)*we),Ee+=er,s.lineTo(e+Math.sin(Ee)*I,i-Math.cos(Ee)*we),Ee+=er,s.lineTo(e+Math.sin(Ee)*I,i-Math.cos(Ee)*we),s.closePath();break;case"rectRounded":k=.516*we,_=we-k,h=Math.cos(Ee+Vi)*_,z=Math.cos(Ee+Vi)*(c?c/2-k:_),p=Math.sin(Ee+Vi)*_,ee=Math.sin(Ee+Vi)*(c?c/2-k:_),s.arc(e-z,i-p,k,Ee-Yt,Ee-Jn),s.arc(e+ee,i-h,k,Ee-Jn,Ee),s.arc(e+z,i+p,k,Ee,Ee+Jn),s.arc(e-ee,i+h,k,Ee+Jn,Ee+Yt),s.closePath();break;case"rect":if(!Me){_=Math.SQRT1_2*we,I=c?c/2:_,s.rect(e-I,i-_,2*I,2*_);break}Ee+=Vi;case"rectRot":z=Math.cos(Ee)*(c?c/2:we),h=Math.cos(Ee)*we,p=Math.sin(Ee)*we,ee=Math.sin(Ee)*(c?c/2:we),s.moveTo(e-z,i-p),s.lineTo(e+ee,i-h),s.lineTo(e+z,i+p),s.lineTo(e-ee,i+h),s.closePath();break;case"crossRot":Ee+=Vi;case"cross":z=Math.cos(Ee)*(c?c/2:we),h=Math.cos(Ee)*we,p=Math.sin(Ee)*we,ee=Math.sin(Ee)*(c?c/2:we),s.moveTo(e-z,i-p),s.lineTo(e+z,i+p),s.moveTo(e+ee,i-h),s.lineTo(e-ee,i+h);break;case"star":z=Math.cos(Ee)*(c?c/2:we),h=Math.cos(Ee)*we,p=Math.sin(Ee)*we,ee=Math.sin(Ee)*(c?c/2:we),s.moveTo(e-z,i-p),s.lineTo(e+z,i+p),s.moveTo(e+ee,i-h),s.lineTo(e-ee,i+h),Ee+=Vi,z=Math.cos(Ee)*(c?c/2:we),h=Math.cos(Ee)*we,p=Math.sin(Ee)*we,ee=Math.sin(Ee)*(c?c/2:we),s.moveTo(e-z,i-p),s.lineTo(e+z,i+p),s.moveTo(e+ee,i-h),s.lineTo(e-ee,i+h);break;case"line":h=c?c/2:Math.cos(Ee)*we,p=Math.sin(Ee)*we,s.moveTo(e-h,i-p),s.lineTo(e+h,i+p);break;case"dash":s.moveTo(e,i),s.lineTo(e+Math.cos(Ee)*(c?c/2:we),i+Math.sin(Ee)*we);break;case!1:s.closePath()}s.fill(),a.borderWidth>0&&s.stroke()}}function hi(s,a,e){return e=e||.5,!a||s&&s.x>a.left-e&&s.x<a.right+e&&s.y>a.top-e&&s.y<a.bottom+e}function hs(s,a){s.save(),s.beginPath(),s.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),s.clip()}function Fs(s){s.restore()}function oc(s,a,e,i,c){if(!a)return s.lineTo(e.x,e.y);if("middle"===c){const d=(a.x+e.x)/2;s.lineTo(d,a.y),s.lineTo(d,e.y)}else"after"===c!=!!i?s.lineTo(a.x,e.y):s.lineTo(e.x,a.y);s.lineTo(e.x,e.y)}function Ns(s,a,e,i){if(!a)return s.lineTo(e.x,e.y);s.bezierCurveTo(i?a.cp1x:a.cp2x,i?a.cp1y:a.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function uh(s,a,e,i,c){if(c.strikethrough||c.underline){const d=s.measureText(i),h=a-d.actualBoundingBoxLeft,p=a+d.actualBoundingBoxRight,k=e+d.actualBoundingBoxDescent,I=c.strikethrough?(e-d.actualBoundingBoxAscent+k)/2:k;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=c.decorationWidth||2,s.moveTo(h,I),s.lineTo(p,I),s.stroke()}}function hh(s,a){const e=s.fillStyle;s.fillStyle=a.color,s.fillRect(a.left,a.top,a.width,a.height),s.fillStyle=e}function ua(s,a,e,i,c,d={}){const h=io(a)?a:[a],p=d.strokeWidth>0&&""!==d.strokeColor;let _,k;for(s.save(),s.font=c.string,function vl(s,a){a.translation&&s.translate(a.translation[0],a.translation[1]),Mn(a.rotation)||s.rotate(a.rotation),a.color&&(s.fillStyle=a.color),a.textAlign&&(s.textAlign=a.textAlign),a.textBaseline&&(s.textBaseline=a.textBaseline)}(s,d),_=0;_<h.length;++_)k=h[_],d.backdrop&&hh(s,d.backdrop),p&&(d.strokeColor&&(s.strokeStyle=d.strokeColor),Mn(d.strokeWidth)||(s.lineWidth=d.strokeWidth),s.strokeText(k,e,i,d.maxWidth)),s.fillText(k,e,i,d.maxWidth),uh(s,e,i,k,d),i+=Number(c.lineHeight);s.restore()}function Ia(s,a){const{x:e,y:i,w:c,h:d,radius:h}=a;s.arc(e+h.topLeft,i+h.topLeft,h.topLeft,1.5*Yt,Yt,!0),s.lineTo(e,i+d-h.bottomLeft),s.arc(e+h.bottomLeft,i+d-h.bottomLeft,h.bottomLeft,Yt,Jn,!0),s.lineTo(e+c-h.bottomRight,i+d),s.arc(e+c-h.bottomRight,i+d-h.bottomRight,h.bottomRight,Jn,0,!0),s.lineTo(e+c,i+h.topRight),s.arc(e+c-h.topRight,i+h.topRight,h.topRight,0,-Jn,!0),s.lineTo(e+h.topLeft,i)}const Np=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Lp=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ir(s,a){const e=(""+s).match(Np);if(!e||"normal"===e[1])return 1.2*a;switch(s=+e[2],e[3]){case"px":return s;case"%":s/=100}return a*s}const Ra=s=>+s||0;function ti(s,a){const e={},i=In(a),c=i?Object.keys(a):a,d=In(s)?i?h=>bn(s[h],s[a[h]]):h=>s[h]:()=>s;for(const h of c)e[h]=Ra(d(h));return e}function fh(s){return ti(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Fa(s){return ti(s,["topLeft","topRight","bottomLeft","bottomRight"])}function wr(s){const a=fh(s);return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function Zi(s,a){let e=bn((s=s||{}).size,(a=a||W.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=bn(s.style,a.style);i&&!(""+i).match(Lp)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const c={family:bn(s.family,a.family),lineHeight:Ir(bn(s.lineHeight,a.lineHeight),e),size:e,style:i,weight:bn(s.weight,a.weight),string:""};return c.string=function ge(s){return!s||Mn(s.size)||Mn(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}(c),c}function ic(s,a,e,i){let d,h,p,c=!0;for(d=0,h=s.length;d<h;++d)if(p=s[d],void 0!==p&&(void 0!==a&&"function"==typeof p&&(p=p(a),c=!1),void 0!==e&&io(p)&&(p=p[e%p.length],c=!1),void 0!==p))return i&&!c&&(i.cacheable=!1),p}function xs(s,a){return Object.assign(Object.create(s),a)}function Ls(s,a=[""],e,i,c=(()=>s[0])){const d=e||s;typeof i>"u"&&(i=bh("_fallback",s));const h={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:d,_fallback:i,_getTarget:c,override:p=>Ls([p,...s],a,d,i)};return new Proxy(h,{deleteProperty:(p,_)=>(delete p[_],delete p._keys,delete s[0][_],!0),get:(p,_)=>xl(p,_,()=>function jp(s,a,e,i){let c;for(const d of a)if(c=bh(yl(d,s),e),typeof c<"u")return sc(s,c)?_h(e,i,s,c):c}(_,a,s,p)),getOwnPropertyDescriptor:(p,_)=>Reflect.getOwnPropertyDescriptor(p._scopes[0],_),getPrototypeOf:()=>Reflect.getPrototypeOf(s[0]),has:(p,_)=>Vp(p).includes(_),ownKeys:p=>Vp(p),set(p,_,k){const I=p._storage||(p._storage=c());return p[_]=I[_]=k,delete p._keys,!0}})}function rc(s,a,e,i){const c={_cacheable:!1,_proxy:s,_context:a,_subProxy:e,_stack:new Set,_descriptors:Nc(s,i),setContext:d=>rc(s,d,e,i),override:d=>rc(s.override(d),a,e,i)};return new Proxy(c,{deleteProperty:(d,h)=>(delete d[h],delete s[h],!0),get:(d,h,p)=>xl(d,h,()=>function gh(s,a,e){const{_proxy:i,_context:c,_subProxy:d,_descriptors:h}=s;let p=i[a];return Rn(p)&&h.isScriptable(a)&&(p=function mh(s,a,e,i){const{_proxy:c,_context:d,_subProxy:h,_stack:p}=e;if(p.has(s))throw new Error("Recursion detected: "+Array.from(p).join("->")+"->"+s);p.add(s);let _=a(d,h||i);return p.delete(s),sc(s,_)&&(_=_h(c._scopes,c,s,_)),_}(a,p,s,e)),io(p)&&p.length&&(p=function Bp(s,a,e,i){const{_proxy:c,_context:d,_subProxy:h,_descriptors:p}=e;if(typeof d.index<"u"&&i(s))return a[d.index%a.length];if(In(a[0])){const _=a,k=c._scopes.filter(I=>I!==_);a=[];for(const I of _){const z=_h(k,c,s,I);a.push(rc(z,d,h&&h[s],p))}}return a}(a,p,s,h.isIndexable)),sc(a,p)&&(p=rc(p,c,d&&d[a],h)),p}(d,h,p)),getOwnPropertyDescriptor:(d,h)=>d._descriptors.allKeys?Reflect.has(s,h)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,h),getPrototypeOf:()=>Reflect.getPrototypeOf(s),has:(d,h)=>Reflect.has(s,h),ownKeys:()=>Reflect.ownKeys(s),set:(d,h,p)=>(s[h]=p,delete d[h],!0)})}function Nc(s,a={scriptable:!0,indexable:!0}){const{_scriptable:e=a.scriptable,_indexable:i=a.indexable,_allKeys:c=a.allKeys}=s;return{allKeys:c,scriptable:e,indexable:i,isScriptable:Rn(e)?e:()=>e,isIndexable:Rn(i)?i:()=>i}}const yl=(s,a)=>s?s+ut(a):a,sc=(s,a)=>In(a)&&"adapters"!==s&&(null===Object.getPrototypeOf(a)||a.constructor===Object);function xl(s,a,e){if(Object.prototype.hasOwnProperty.call(s,a)||"constructor"===a)return s[a];const i=e();return s[a]=i,i}function Na(s,a,e){return Rn(s)?s(a,e):s}const Lc=(s,a)=>!0===s?a:"string"==typeof s?Ge(a,s):void 0;function Up(s,a,e,i,c){for(const d of a){const h=Lc(e,d);if(h){s.add(h);const p=Na(h._fallback,e,c);if(typeof p<"u"&&p!==e&&p!==i)return p}else if(!1===h&&typeof i<"u"&&e!==i)return null}return!1}function _h(s,a,e,i){const c=a._rootScopes,d=Na(a._fallback,e,i),h=[...s,...c],p=new Set;p.add(i);let _=Cl(p,h,e,d||e,i);return!(null===_||typeof d<"u"&&d!==e&&(_=Cl(p,h,d,_,i),null===_))&&Ls(Array.from(p),[""],c,d,()=>function G_(s,a,e){const i=s._getTarget();a in i||(i[a]={});const c=i[a];return io(c)&&In(e)?e:c||{}}(a,e,i))}function Cl(s,a,e,i,c){for(;e;)e=Up(s,a,e,i,c);return e}function bh(s,a){for(const e of a){if(!e)continue;const i=e[s];if(typeof i<"u")return i}}function Vp(s){let a=s._keys;return a||(a=s._keys=function W_(s){const a=new Set;for(const e of s)for(const i of Object.keys(e).filter(c=>!c.startsWith("_")))a.add(i);return Array.from(a)}(s._scopes)),a}function Ml(s,a,e,i){const{iScale:c}=s,{key:d="r"}=this._parsing,h=new Array(i);let p,_,k,I;for(p=0,_=i;p<_;++p)k=p+e,I=a[k],h[p]={r:c.parse(Ge(I,d),k)};return h}const Bc=Number.EPSILON||1e-14,ac=(s,a)=>a<s.length&&!s[a].skip&&s[a],cc=s=>"x"===s?"y":"x";function zd(s,a,e,i){const c=s.skip?a:s,d=a,h=e.skip?a:e,p=Et(d,c),_=Et(h,d);let k=p/(p+_),I=_/(p+_);k=isNaN(k)?0:k,I=isNaN(I)?0:I;const z=i*k,ee=i*I;return{previous:{x:d.x-z*(h.x-c.x),y:d.y-z*(h.y-c.y)},next:{x:d.x+ee*(h.x-c.x),y:d.y+ee*(h.y-c.y)}}}function Uc(s,a,e){return Math.max(Math.min(s,e),a)}function Bs(s,a,e,i,c){let d,h,p,_;if(a.spanGaps&&(s=s.filter(k=>!k.skip)),"monotone"===a.cubicInterpolationMode)!function vh(s,a="x"){const e=cc(a),i=s.length,c=Array(i).fill(0),d=Array(i);let h,p,_,k=ac(s,0);for(h=0;h<i;++h)if(p=_,_=k,k=ac(s,h+1),_){if(k){const I=k[a]-_[a];c[h]=0!==I?(k[e]-_[e])/I:0}d[h]=p?k?Yo(c[h-1])!==Yo(c[h])?0:(c[h-1]+c[h])/2:c[h-1]:c[h]}(function wl(s,a,e){const i=s.length;let c,d,h,p,_,k=ac(s,0);for(let I=0;I<i-1;++I)if(_=k,k=ac(s,I+1),_&&k){if(R(a[I],0,Bc)){e[I]=e[I+1]=0;continue}c=e[I]/a[I],d=e[I+1]/a[I],p=Math.pow(c,2)+Math.pow(d,2),!(p<=9)&&(h=3/Math.sqrt(p),e[I]=c*h*a[I],e[I+1]=d*h*a[I])}})(s,c,d),function q_(s,a,e="x"){const i=cc(e),c=s.length;let d,h,p,_=ac(s,0);for(let k=0;k<c;++k){if(h=p,p=_,_=ac(s,k+1),!p)continue;const I=p[e],z=p[i];h&&(d=(I-h[e])/3,p[`cp1${e}`]=I-d,p[`cp1${i}`]=z-d*a[k]),_&&(d=(_[e]-I)/3,p[`cp2${e}`]=I+d,p[`cp2${i}`]=z+d*a[k])}}(s,d,a)}(s,c);else{let k=i?s[s.length-1]:s[0];for(d=0,h=s.length;d<h;++d)p=s[d],_=zd(k,p,s[Math.min(d+1,h-(i?0:1))%h],a.tension),p.cp1x=_.previous.x,p.cp1y=_.previous.y,p.cp2x=_.next.x,p.cp2y=_.next.y,k=p}a.capBezierPoints&&function Hp(s,a){let e,i,c,d,h,p=hi(s[0],a);for(e=0,i=s.length;e<i;++e)h=d,d=p,p=e<i-1&&hi(s[e+1],a),d&&(c=s[e],h&&(c.cp1x=Uc(c.cp1x,a.left,a.right),c.cp1y=Uc(c.cp1y,a.top,a.bottom)),p&&(c.cp2x=Uc(c.cp2x,a.left,a.right),c.cp2y=Uc(c.cp2y,a.top,a.bottom)))}(s,e)}function Zd(){return typeof window<"u"&&typeof document<"u"}function lc(s){let a=s.parentNode;return a&&"[object ShadowRoot]"===a.toString()&&(a=a.host),a}function dc(s,a,e){let i;return"string"==typeof s?(i=parseInt(s,10),-1!==s.indexOf("%")&&(i=i/100*a.parentNode[e])):i=s,i}const jc=s=>s.ownerDocument.defaultView.getComputedStyle(s,null),$d=["top","right","bottom","left"];function La(s,a,e){const i={};e=e?"-"+e:"";for(let c=0;c<4;c++){const d=$d[c];i[d]=parseFloat(s[a+"-"+d+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const yh=(s,a,e)=>(s>0||a>0)&&(!e||!e.shadowRoot);function ha(s,a){if("native"in s)return s;const{canvas:e,currentDevicePixelRatio:i}=a,c=jc(e),d="border-box"===c.boxSizing,h=La(c,"padding"),p=La(c,"border","width"),{x:_,y:k,box:I}=function xh(s,a){const e=s.touches,i=e&&e.length?e[0]:s,{offsetX:c,offsetY:d}=i;let p,_,h=!1;if(yh(c,d,s.target))p=c,_=d;else{const k=a.getBoundingClientRect();p=i.clientX-k.left,_=i.clientY-k.top,h=!0}return{x:p,y:_,box:h}}(s,e),z=h.left+(I&&p.left),ee=h.top+(I&&p.top);let{width:ie,height:Me}=a;return d&&(ie-=h.width+p.width,Me-=h.height+p.height),{x:Math.round((_-z)/ie*e.width/i),y:Math.round((k-ee)/Me*e.height/i)}}const El=s=>Math.round(10*s)/10;function fa(s,a,e){const i=a||1,c=Math.floor(s.height*i),d=Math.floor(s.width*i);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const h=s.canvas;return h.style&&(e||!h.style.height&&!h.style.width)&&(h.style.height=`${s.height}px`,h.style.width=`${s.width}px`),(s.currentDevicePixelRatio!==i||h.height!==c||h.width!==d)&&(s.currentDevicePixelRatio=i,h.height=c,h.width=d,s.ctx.setTransform(i,0,0,i,0,0),!0)}const zp=function(){let s=!1;try{const a={get passive(){return s=!0,!1}};Zd()&&(window.addEventListener("test",null,a),window.removeEventListener("test",null,a))}catch{}return s}();function Gd(s,a){const e=function kl(s,a){return jc(s).getPropertyValue(a)}(s,a),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function pa(s,a,e,i){return{x:s.x+e*(a.x-s.x),y:s.y+e*(a.y-s.y)}}function Vc(s,a,e,i){return{x:s.x+e*(a.x-s.x),y:"middle"===i?e<.5?s.y:a.y:"after"===i?e<1?s.y:a.y:e>0?a.y:s.y}}function Zp(s,a,e,i){const c={x:s.cp2x,y:s.cp2y},d={x:a.cp1x,y:a.cp1y},h=pa(s,c,e),p=pa(c,d,e),_=pa(d,a,e),k=pa(h,p,e),I=pa(p,_,e);return pa(k,I,e)}function Ba(s,a,e){return s?function(s,a){return{x:e=>s+s+a-e,setWidth(e){a=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(a,e):{x:s=>s,setWidth(s){},textAlign:s=>s,xPlus:(s,a)=>s+a,leftForLtr:(s,a)=>s}}function Ol(s,a){let e,i;("ltr"===a||"rtl"===a)&&(e=s.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",a,"important"),s.prevTextDirection=i)}function Mh(s,a){void 0!==a&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",a[0],a[1]))}function Wd(s){return"angle"===s?{between:Ht,compare:Ln,normalize:tn}:{between:Qn,compare:(a,e)=>a-e,normalize:a=>a}}function Tl({start:s,end:a,count:e,loop:i,style:c}){return{start:s%e,end:a%e,loop:i&&(a-s+1)%e==0,style:c}}function Ua(s,a,e){if(!e)return[s];const{property:i,start:c,end:d}=e,h=a.length,{compare:p,between:_,normalize:k}=Wd(i),{start:I,end:z,loop:ee,style:ie}=function uc(s,a,e){const{property:i,start:c,end:d}=e,{between:h,normalize:p}=Wd(i),_=a.length;let ee,ie,{start:k,end:I,loop:z}=s;if(z){for(k+=_,I+=_,ee=0,ie=_;ee<ie&&h(p(a[k%_][i]),c,d);++ee)k--,I--;k%=_,I%=_}return I<k&&(I+=_),{start:k,end:I,loop:z,style:s.style}}(s,a,e),Me=[];let nt,ot,Tt,we=!1,Ee=null;for(let Bt=I,nn=I;Bt<=z;++Bt)ot=a[Bt%h],!ot.skip&&(nt=k(ot[i]),nt!==Tt&&(we=_(nt,c,d),null===Ee&&(we||_(c,Tt,nt)&&0!==p(c,Tt))&&(Ee=0===p(nt,c)?Bt:nn),null!==Ee&&(!we||0===p(d,nt)||_(d,Tt,nt))&&(Me.push(Tl({start:Ee,end:Bt,loop:ee,count:h,style:ie})),Ee=null),nn=Bt,Tt=nt));return null!==Ee&&Me.push(Tl({start:Ee,end:z,loop:ee,count:h,style:ie})),Me}function ja(s,a){const e=[],i=s.segments;for(let c=0;c<i.length;c++){const d=Ua(i[c],s.points,a);d.length&&e.push(...d)}return e}function qp(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function Y_(s,a){if(!a)return!1;const e=[],i=function(c,d){return Sr(d)?(e.includes(d)||e.push(d),e.indexOf(d)):d};return JSON.stringify(s,i)!==JSON.stringify(a,i)}function Yd(s,a,e){return s.options.clip?s[e]:a[e]}function Yp(s,a){const e=a._clip;if(e.disabled)return!1;const i=function K_(s,a){const{xScale:e,yScale:i}=s;return e&&i?{left:Yd(e,a,"left"),right:Yd(e,a,"right"),top:Yd(i,a,"top"),bottom:Yd(i,a,"bottom")}:a}(a,s.chartArea);return{left:!1===e.left?0:i.left-(!0===e.left?0:e.left),right:!1===e.right?s.width:i.right+(!0===e.right?0:e.right),top:!1===e.top?0:i.top-(!0===e.top?0:e.top),bottom:!1===e.bottom?s.height:i.bottom+(!0===e.bottom?0:e.bottom)}}class J_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(a,e,i,c){const h=e.duration;e.listeners[c].forEach(p=>p({chart:a,initial:e.initial,numSteps:h,currentStep:Math.min(i-e.start,h)}))}_refresh(){this._request||(this._running=!0,this._request=Qs.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(a=Date.now()){let e=0;this._charts.forEach((i,c)=>{if(!i.running||!i.items.length)return;const d=i.items;let _,h=d.length-1,p=!1;for(;h>=0;--h)_=d[h],_._active?(_._total>i.duration&&(i.duration=_._total),_.tick(a),p=!0):(d[h]=d[d.length-1],d.pop());p&&(c.draw(),this._notify(c,i,a,"progress")),d.length||(i.running=!1,this._notify(c,i,a,"complete"),i.initial=!1),e+=d.length}),this._lastDate=a,0===e&&(this._running=!1)}_getAnims(a){const e=this._charts;let i=e.get(a);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(a,i)),i}listen(a,e,i){this._getAnims(a).listeners[e].push(i)}add(a,e){!e||!e.length||this._getAnims(a).items.push(...e)}has(a){return this._getAnims(a).items.length>0}start(a){const e=this._charts.get(a);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,c)=>Math.max(i,c._duration),0),this._refresh())}running(a){if(!this._running)return!1;const e=this._charts.get(a);return!(!e||!e.running||!e.items.length)}stop(a){const e=this._charts.get(a);if(!e||!e.items.length)return;const i=e.items;let c=i.length-1;for(;c>=0;--c)i[c].cancel();e.items=[],this._notify(a,e,Date.now(),"complete")}remove(a){return this._charts.delete(a)}}var Zr=new J_;const kh="transparent",Kp={boolean:(s,a,e)=>e>.5?a:s,color(s,a,e){const i=Ao(s||kh),c=i.valid&&Ao(a||kh);return c&&c.valid?c.mix(i,e).hexString():a},number:(s,a,e)=>s+(a-s)*e};class $i{constructor(a,e,i,c){const d=e[i];c=ic([a.to,c,d,a.from]);const h=ic([a.from,d,c]);this._active=!0,this._fn=a.fn||Kp[a.type||typeof h],this._easing=gi[a.easing]||gi.linear,this._start=Math.floor(Date.now()+(a.delay||0)),this._duration=this._total=Math.floor(a.duration),this._loop=!!a.loop,this._target=e,this._prop=i,this._from=h,this._to=c,this._promises=void 0}active(){return this._active}update(a,e,i){if(this._active){this._notify(!1);const c=this._target[this._prop],d=i-this._start,h=this._duration-d;this._start=i,this._duration=Math.floor(Math.max(h,a.duration)),this._total+=d,this._loop=!!a.loop,this._to=ic([a.to,e,c,a.from]),this._from=ic([a.from,c,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(a){const e=a-this._start,i=this._duration,c=this._prop,d=this._from,h=this._loop,p=this._to;let _;if(this._active=d!==p&&(h||e<i),!this._active)return this._target[c]=p,void this._notify(!0);e<0?this._target[c]=d:(_=e/i%2,_=h&&_>1?2-_:_,_=this._easing(Math.min(1,Math.max(0,_))),this._target[c]=this._fn(d,p,_))}wait(){const a=this._promises||(this._promises=[]);return new Promise((e,i)=>{a.push({res:e,rej:i})})}_notify(a){const e=a?"res":"rej",i=this._promises||[];for(let c=0;c<i.length;c++)i[c][e]()}}class Eh{constructor(a,e){this._chart=a,this._properties=new Map,this.configure(e)}configure(a){if(!In(a))return;const e=Object.keys(W.animation),i=this._properties;Object.getOwnPropertyNames(a).forEach(c=>{const d=a[c];if(!In(d))return;const h={};for(const p of e)h[p]=d[p];(io(d.properties)&&d.properties||[c]).forEach(p=>{(p===c||!i.has(p))&&i.set(p,h)})})}_animateOptions(a,e){const i=e.options,c=function Jp(s,a){if(!a)return;let e=s.options;if(e)return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;s.options=a}(a,i);if(!c)return[];const d=this._createAnimations(c,i);return i.$shared&&function Hc(s,a){const e=[],i=Object.keys(a);for(let c=0;c<i.length;c++){const d=s[i[c]];d&&d.active()&&e.push(d.wait())}return Promise.all(e)}(a.options.$animations,i).then(()=>{a.options=i},()=>{}),d}_createAnimations(a,e){const i=this._properties,c=[],d=a.$animations||(a.$animations={}),h=Object.keys(e),p=Date.now();let _;for(_=h.length-1;_>=0;--_){const k=h[_];if("$"===k.charAt(0))continue;if("options"===k){c.push(...this._animateOptions(a,e));continue}const I=e[k];let z=d[k];const ee=i.get(k);if(z){if(ee&&z.active()){z.update(ee,I,p);continue}z.cancel()}ee&&ee.duration?(d[k]=z=new $i(ee,a,k,I),c.push(z)):a[k]=I}return c}update(a,e){if(0===this._properties.size)return void Object.assign(a,e);const i=this._createAnimations(a,e);return i.length?(Zr.add(this._chart,i),!0):void 0}}function es(s,a){const e=s&&s.options||{},i=e.reverse,c=void 0===e.min?a:0,d=void 0===e.max?a:0;return{start:i?d:c,end:i?c:d}}function zc(s,a){const e=[],i=s._getSortedDatasetMetas(a);let c,d;for(c=0,d=i.length;c<d;++c)e.push(i[c].index);return e}function pc(s,a,e,i={}){const c=s.keys,d="single"===i.mode;let h,p,_,k;if(null===a)return;let I=!1;for(h=0,p=c.length;h<p;++h){if(_=+c[h],_===e){if(I=!0,i.all)continue;break}k=s.values[_],xo(k)&&(d||0===a||Yo(a)===Yo(k))&&(a+=k)}return I||i.all?a:0}function Oh(s,a){const e=s&&s.options.stacked;return e||void 0===e&&void 0!==a.stack}function ts(s,a,e){const i=s[a]||(s[a]={});return i[e]||(i[e]={})}function Pl(s,a,e,i){for(const c of a.getMatchingVisibleMetas(i).reverse()){const d=s[c.index];if(e&&d>0||!e&&d<0)return c.index}return null}function Va(s,a){const{chart:e,_cachedMeta:i}=s,c=e._stacks||(e._stacks={}),{iScale:d,vScale:h,index:p}=i,_=d.axis,k=h.axis,I=function Xp(s,a,e){return`${s.id}.${a.id}.${e.stack||e.type}`}(d,h,i),z=a.length;let ee;for(let ie=0;ie<z;++ie){const Me=a[ie],{[_]:we,[k]:Ee}=Me;ee=(Me._stacks||(Me._stacks={}))[k]=ts(c,I,we),ee[p]=Ee,ee._top=Pl(ee,h,!0,i.type),ee._bottom=Pl(ee,h,!1,i.type),(ee._visualValues||(ee._visualValues={}))[p]=Ee}}function Th(s,a){const e=s.scales;return Object.keys(e).filter(i=>e[i].axis===a).shift()}function Zc(s,a){const e=s.controller.index,i=s.vScale&&s.vScale.axis;if(i){a=a||s._parsed;for(const c of a){const d=c._stacks;if(!d||void 0===d[i]||void 0===d[i][e])return;delete d[i][e],void 0!==d[i]._visualValues&&void 0!==d[i]._visualValues[e]&&delete d[i]._visualValues[e]}}}const Kd=s=>"reset"===s||"none"===s,Ah=(s,a)=>a?s:Object.assign({},s);let ga=(()=>class s{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Oh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Zc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,c=this.getDataset(),d=(ee,ie,Me,we)=>"x"===ee?ie:"r"===ee?we:Me,h=i.xAxisID=bn(c.xAxisID,Th(e,"x")),p=i.yAxisID=bn(c.yAxisID,Th(e,"y")),_=i.rAxisID=bn(c.rAxisID,Th(e,"r")),k=i.indexAxis,I=i.iAxisID=d(k,h,p,_),z=i.vAxisID=d(k,p,h,_);i.xScale=this.getScaleForId(h),i.yScale=this.getScaleForId(p),i.rScale=this.getScaleForId(_),i.iScale=this.getScaleForId(I),i.vScale=this.getScaleForId(z)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Cr(this._data,this),e._stacked&&Zc(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),c=this._data;if(In(i))this._data=function Qp(s,a){const{iScale:e,vScale:i}=a,c="x"===e.axis?"x":"y",d="x"===i.axis?"x":"y",h=Object.keys(s),p=new Array(h.length);let _,k,I;for(_=0,k=h.length;_<k;++_)I=h[_],p[_]={[c]:I,[d]:s[I]};return p}(i,this._cachedMeta);else if(c!==i){if(c){Cr(c,this);const d=this._cachedMeta;Zc(d),d._parsed=[]}i&&Object.isExtensible(i)&&function pi(s,a){s._chartjs?s._chartjs.listeners.push(a):(Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),ui.forEach(e=>{const i="_onData"+ut(e),c=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...d){const h=c.apply(this,d);return s._chartjs.listeners.forEach(p=>{"function"==typeof p[i]&&p[i](...d)}),h}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,c=this.getDataset();let d=!1;this._dataCheck();const h=i._stacked;i._stacked=Oh(i.vScale,i),i.stack!==c.stack&&(d=!0,Zc(i),i.stack=c.stack),this._resyncElements(e),(d||h!==i._stacked)&&(Va(this,i._parsed),i._stacked=Oh(i.vScale,i))}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),c=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(c,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:c,_data:d}=this,{iScale:h,_stacked:p}=c,_=h.axis;let z,ee,ie,k=0===e&&i===d.length||c._sorted,I=e>0&&c._parsed[e-1];if(!1===this._parsing)c._parsed=d,c._sorted=!0,ie=d;else{ie=io(d[e])?this.parseArrayData(c,d,e,i):In(d[e])?this.parseObjectData(c,d,e,i):this.parsePrimitiveData(c,d,e,i);const Me=()=>null===ee[_]||I&&ee[_]<I[_];for(z=0;z<i;++z)c._parsed[z+e]=ee=ie[z],k&&(Me()&&(k=!1),I=ee);c._sorted=k}p&&Va(this,ie)}parsePrimitiveData(e,i,c,d){const{iScale:h,vScale:p}=e,_=h.axis,k=p.axis,I=h.getLabels(),z=h===p,ee=new Array(d);let ie,Me,we;for(ie=0,Me=d;ie<Me;++ie)we=ie+c,ee[ie]={[_]:z||h.parse(I[we],we),[k]:p.parse(i[we],we)};return ee}parseArrayData(e,i,c,d){const{xScale:h,yScale:p}=e,_=new Array(d);let k,I,z,ee;for(k=0,I=d;k<I;++k)z=k+c,ee=i[z],_[k]={x:h.parse(ee[0],z),y:p.parse(ee[1],z)};return _}parseObjectData(e,i,c,d){const{xScale:h,yScale:p}=e,{xAxisKey:_="x",yAxisKey:k="y"}=this._parsing,I=new Array(d);let z,ee,ie,Me;for(z=0,ee=d;z<ee;++z)ie=z+c,Me=i[ie],I[z]={x:h.parse(Ge(Me,_),ie),y:p.parse(Ge(Me,k),ie)};return I}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,c){const h=this._cachedMeta,p=i[e.axis];return pc({keys:zc(this.chart,!0),values:i._stacks[e.axis]._visualValues},p,h.index,{mode:c})}updateRangeFromParsed(e,i,c,d){const h=c[i.axis];let p=null===h?NaN:h;const _=d&&c._stacks[i.axis];d&&_&&(d.values=_,p=pc(d,h,this._cachedMeta.index)),e.min=Math.min(e.min,p),e.max=Math.max(e.max,p)}getMinMax(e,i){const c=this._cachedMeta,d=c._parsed,h=c._sorted&&e===c.iScale,p=d.length,_=this._getOtherScale(e),k=((s,a,e)=>s&&!a.hidden&&a._stacked&&{keys:zc(this.chart,!0),values:null})(i,c),I={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:z,max:ee}=function Q_(s){const{min:a,max:e,minDefined:i,maxDefined:c}=s.getUserBounds();return{min:i?a:Number.NEGATIVE_INFINITY,max:c?e:Number.POSITIVE_INFINITY}}(_);let ie,Me;function we(){Me=d[ie];const Ee=Me[_.axis];return!xo(Me[e.axis])||z>Ee||ee<Ee}for(ie=0;ie<p&&(we()||(this.updateRangeFromParsed(I,e,Me,k),!h));++ie);if(h)for(ie=p-1;ie>=0;--ie)if(!we()){this.updateRangeFromParsed(I,e,Me,k);break}return I}getAllParsedValues(e){const i=this._cachedMeta._parsed,c=[];let d,h,p;for(d=0,h=i.length;d<h;++d)p=i[d][e.axis],xo(p)&&c.push(p);return c}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,c=i.iScale,d=i.vScale,h=this.getParsed(e);return{label:c?""+c.getLabelForValue(h[c.axis]):"",value:d?""+d.getLabelForValue(h[d.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function Dh(s){let a,e,i,c;return In(s)?(a=s.top,e=s.right,i=s.bottom,c=s.left):a=e=i=c=s,{top:a,right:e,bottom:i,left:c,disabled:!1===s}}(bn(this.options.clip,function fc(s,a,e){if(!1===e)return!1;const i=es(s,e),c=es(a,e);return{top:c.end,right:i.end,bottom:c.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,c=this._cachedMeta,d=c.data||[],h=this.chart.chartArea,p=[],_=this._drawStart||0,k=this._drawCount||d.length-_,I=this.options.drawActiveElementsOnTop;let z;for(c.dataset&&c.dataset.draw(e,h,_,k),z=_;z<_+k;++z){const ee=d[z];ee.hidden||(ee.active&&I?p.push(ee):ee.draw(e,h))}for(z=0;z<p.length;++z)p[z].draw(e,h)}getStyle(e,i){const c=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(c):this.resolveDataElementOptions(e||0,c)}getContext(e,i,c){const d=this.getDataset();let h;if(e>=0&&e<this._cachedMeta.data.length){const p=this._cachedMeta.data[e];h=p.$context||(p.$context=function eg(s,a,e){return xs(s,{active:!1,dataIndex:a,parsed:void 0,raw:void 0,element:e,index:a,mode:"default",type:"data"})}(this.getContext(),e,p)),h.parsed=this.getParsed(e),h.raw=d.data[e],h.index=h.dataIndex=e}else h=this.$context||(this.$context=function Ph(s,a){return xs(s,{active:!1,dataset:void 0,datasetIndex:a,index:a,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),h.dataset=d,h.index=h.datasetIndex=this.index;return h.active=!!i,h.mode=c,h}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",c){const d="active"===i,h=this._cachedDataOpts,p=e+"-"+i,_=h[p],k=this.enableOptionSharing&&qt(c);if(_)return Ah(_,k);const I=this.chart.config,z=I.datasetElementScopeKeys(this._type,e),ee=d?[`${e}Hover`,"hover",e,""]:[e,""],ie=I.getOptionScopes(this.getDataset(),z),Me=Object.keys(W.elements[e]),Ee=I.resolveNamedOptions(ie,Me,()=>this.getContext(c,d,i),ee);return Ee.$shared&&(Ee.$shared=k,h[p]=Object.freeze(Ah(Ee,k))),Ee}_resolveAnimations(e,i,c){const d=this.chart,h=this._cachedDataOpts,p=`animation-${i}`,_=h[p];if(_)return _;let k;if(!1!==d.options.animation){const z=this.chart.config,ee=z.datasetAnimationScopeKeys(this._type,i),ie=z.getOptionScopes(this.getDataset(),ee);k=z.createResolver(ie,this.getContext(e,c,i))}const I=new Eh(d,k&&k.animations);return k&&k._cacheable&&(h[p]=Object.freeze(I)),I}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||Kd(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const c=this.resolveDataElementOptions(e,i),d=this._sharedOptions,h=this.getSharedOptions(c),p=this.includeOptions(i,h)||h!==d;return this.updateSharedOptions(h,i,c),{sharedOptions:h,includeOptions:p}}updateElement(e,i,c,d){Kd(d)?Object.assign(e,c):this._resolveAnimations(i,d).update(e,c)}updateSharedOptions(e,i,c){e&&!Kd(i)&&this._resolveAnimations(void 0,i).update(e,c)}_setStyle(e,i,c,d){e.active=d;const h=this.getStyle(i,d);this._resolveAnimations(i,c,d).update(e,{options:!d&&this.getSharedOptions(h)||h})}removeHoverStyle(e,i,c){this._setStyle(e,c,"active",!1)}setHoverStyle(e,i,c){this._setStyle(e,c,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,c=this._cachedMeta.data;for(const[_,k,I]of this._syncList)this[_](k,I);this._syncList=[];const d=c.length,h=i.length,p=Math.min(h,d);p&&this.parse(0,p),h>d?this._insertElements(d,h-d,e):h<d&&this._removeElements(h,d-h)}_insertElements(e,i,c=!0){const d=this._cachedMeta,h=d.data,p=e+i;let _;const k=I=>{for(I.length+=i,_=I.length-1;_>=p;_--)I[_]=I[_-i]};for(k(h),_=e;_<p;++_)h[_]=new this.dataElementType;this._parsing&&k(d._parsed),this.parse(e,i),c&&this.updateElements(h,e,i,"reset")}updateElements(e,i,c,d){}_removeElements(e,i){const c=this._cachedMeta;if(this._parsing){const d=c._parsed.splice(e,i);c._stacked&&Zc(c,d)}c.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,c,d]=e;this[i](c,d)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const c=arguments.length-2;c&&this._sync(["_insertElements",e,c])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function Al(s){const a=s.iScale,e=function Jd(s,a){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(a);let i=[];for(let c=0,d=e.length;c<d;c++)i=i.concat(e[c].controller.getAllParsedValues(s));s._cache.$bar=Hi(i.sort((c,d)=>c-d))}return s._cache.$bar}(a,s.type);let c,d,h,p,i=a._length;const _=()=>{32767===h||-32768===h||(qt(p)&&(i=Math.min(i,Math.abs(h-p)||i)),p=h)};for(c=0,d=e.length;c<d;++c)h=a.getPixelForValue(e[c]),_();for(p=void 0,c=0,d=a.ticks.length;c<d;++c)h=a.getPixelForTick(c),_();return i}function $c(s,a,e,i){return io(s)?function og(s,a,e,i){const c=e.parse(s[0],i),d=e.parse(s[1],i),h=Math.min(c,d),p=Math.max(c,d);let _=h,k=p;Math.abs(h)>Math.abs(p)&&(_=p,k=h),a[e.axis]=k,a._custom={barStart:_,barEnd:k,start:c,end:d,min:h,max:p}}(s,a,e,i):a[e.axis]=e.parse(s,i),a}function Sh(s,a,e,i){const c=s.iScale,d=s.vScale,h=c.getLabels(),p=c===d,_=[];let k,I,z,ee;for(k=e,I=e+i;k<I;++k)ee=a[k],z={},z[c.axis]=p||c.parse(h[k],k),_.push($c(ee,z,d,k));return _}function Il(s){return s&&void 0!==s.barStart&&void 0!==s.barEnd}function Ih(s,a,e,i){let c=a.borderSkipped;const d={};if(!c)return void(s.borderSkipped=d);if(!0===c)return void(s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:h,end:p,reverse:_,top:k,bottom:I}=function Rl(s){let a,e,i,c,d;return s.horizontal?(a=s.base>s.x,e="left",i="right"):(a=s.base<s.y,e="bottom",i="top"),a?(c="end",d="start"):(c="start",d="end"),{start:e,end:i,reverse:a,top:c,bottom:d}}(s);"middle"===c&&e&&(s.enableBorderRadius=!0,(e._top||0)===i?c=k:(e._bottom||0)===i?c=I:(d[Rh(I,h,p,_)]=!0,c=k)),d[Rh(c,h,p,_)]=!0,s.borderSkipped=d}function Rh(s,a,e,i){return i?(s=function ig(s,a,e){return s===a?e:s===e?a:s}(s,a,e),s=Ha(s,e,a)):s=Ha(s,a,e),s}function Ha(s,a,e){return"start"===s?a:"end"===s?e:s}function Gc(s,{inflateAmount:a},e){s.inflateAmount="auto"===a?1===e?.33:0:a}let rg=(()=>class s extends ga{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,c,d){return Sh(e,i,c,d)}parseArrayData(e,i,c,d){return Sh(e,i,c,d)}parseObjectData(e,i,c,d){const{iScale:h,vScale:p}=e,{xAxisKey:_="x",yAxisKey:k="y"}=this._parsing,I="x"===h.axis?_:k,z="x"===p.axis?_:k,ee=[];let ie,Me,we,Ee;for(ie=c,Me=c+d;ie<Me;++ie)Ee=i[ie],we={},we[h.axis]=h.parse(Ge(Ee,I),ie),ee.push($c(Ge(Ee,z),we,p,ie));return ee}updateRangeFromParsed(e,i,c,d){super.updateRangeFromParsed(e,i,c,d);const h=c._custom;h&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,h.min),e.max=Math.max(e.max,h.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:c,vScale:d}=i,h=this.getParsed(e),p=h._custom,_=Il(p)?"["+p.start+", "+p.end+"]":""+d.getLabelForValue(h[d.axis]);return{label:""+c.getLabelForValue(h[c.axis]),value:_}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,c,d){const h="reset"===d,{index:p,_cachedMeta:{vScale:_}}=this,k=_.getBasePixel(),I=_.isHorizontal(),z=this._getRuler(),{sharedOptions:ee,includeOptions:ie}=this._getSharedOptions(i,d);for(let Me=i;Me<i+c;Me++){const we=this.getParsed(Me),Ee=h||Mn(we[_.axis])?{base:k,head:k}:this._calculateBarValuePixels(Me),nt=this._calculateBarIndexPixels(Me,z),ot=(we._stacks||{})[_.axis],Tt={horizontal:I,base:Ee.base,enableBorderRadius:!ot||Il(we._custom)||p===ot._top||p===ot._bottom,x:I?Ee.head:nt.center,y:I?nt.center:Ee.head,height:I?nt.size:Math.abs(Ee.size),width:I?Math.abs(Ee.size):nt.size};ie&&(Tt.options=ee||this.resolveDataElementOptions(Me,e[Me].active?"active":d));const St=Tt.options||e[Me].options;Ih(Tt,St,ot,p),Gc(Tt,St,z.ratio),this.updateElement(e[Me],Me,Tt,d)}}_getStacks(e,i){const{iScale:c}=this._cachedMeta,d=c.getMatchingVisibleMetas(this._type).filter(z=>z.controller.options.grouped),h=c.options.stacked,p=[],_=this._cachedMeta.controller.getParsed(i),k=_&&_[c.axis],I=z=>{const ee=z._parsed.find(Me=>Me[c.axis]===k),ie=ee&&ee[z.vScale.axis];if(Mn(ie)||isNaN(ie))return!0};for(const z of d)if((void 0===i||!I(z))&&((!1===h||-1===p.indexOf(z.stack)||void 0===h&&void 0===z.stack)&&p.push(z.stack),z.index===e))break;return p.length||p.push(void 0),p}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,c){const d=this._getStacks(e,c),h=void 0!==i?d.indexOf(i):-1;return-1===h?d.length-1:h}_getRuler(){const e=this.options,i=this._cachedMeta,c=i.iScale,d=[];let h,p;for(h=0,p=i.data.length;h<p;++h)d.push(c.getPixelForValue(this.getParsed(h)[c.axis],h));const _=e.barThickness;return{min:_||Al(i),pixels:d,start:c._startPixel,end:c._endPixel,stackCount:this._getStackCount(),scale:c,grouped:e.grouped,ratio:_?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:c,index:d},options:{base:h,minBarLength:p}}=this,_=h||0,k=this.getParsed(e),I=k._custom,z=Il(I);let we,Ee,ee=k[i.axis],ie=0,Me=c?this.applyStack(i,k,c):ee;Me!==ee&&(ie=Me-ee,Me=ee),z&&(ee=I.barStart,Me=I.barEnd-I.barStart,0!==ee&&Yo(ee)!==Yo(I.barEnd)&&(ie=0),ie+=ee);const nt=Mn(h)||z?ie:h;let ot=i.getPixelForValue(nt);if(we=this.chart.getDataVisibility(e)?i.getPixelForValue(ie+Me):ot,Ee=we-ot,Math.abs(Ee)<p){Ee=function Qd(s,a,e){return 0!==s?Yo(s):(a.isHorizontal()?1:-1)*(a.min>=e?1:-1)}(Ee,i,_)*p,ee===_&&(ot-=Ee/2);const Tt=i.getPixelForDecimal(0),St=i.getPixelForDecimal(1),bt=Math.min(Tt,St),At=Math.max(Tt,St);ot=Math.max(Math.min(ot,At),bt),we=ot+Ee,c&&!z&&(k._stacks[i.axis]._visualValues[d]=i.getValueForPixel(we)-i.getValueForPixel(ot))}if(ot===i.getPixelForValue(_)){const Tt=Yo(Ee)*i.getLineWidthForValue(_)/2;ot+=Tt,Ee-=Tt}return{size:Ee,base:ot,head:we,center:we+Ee/2}}_calculateBarIndexPixels(e,i){const c=i.scale,d=this.options,h=d.skipNull,p=bn(d.maxBarThickness,1/0);let _,k;if(i.grouped){const I=h?this._getStackCount(e):i.stackCount,z="flex"===d.barThickness?function Sl(s,a,e,i){const c=a.pixels,d=c[s];let h=s>0?c[s-1]:null,p=s<c.length-1?c[s+1]:null;const _=e.categoryPercentage;null===h&&(h=d-(null===p?a.end-a.start:p-d)),null===p&&(p=d+d-h);const k=d-(d-Math.min(h,p))/2*_;return{chunk:Math.abs(p-h)/2*_/i,ratio:e.barPercentage,start:k}}(e,i,d,I):function ng(s,a,e,i){const c=e.barThickness;let d,h;return Mn(c)?(d=a.min*e.categoryPercentage,h=e.barPercentage):(d=c*i,h=1),{chunk:d/i,ratio:h,start:a.pixels[s]-d/2}}(e,i,d,I),ee=this._getStackIndex(this.index,this._cachedMeta.stack,h?e:void 0);_=z.start+z.chunk*ee+z.chunk/2,k=Math.min(p,z.chunk*z.ratio)}else _=c.getPixelForValue(this.getParsed(e)[c.axis],e),k=Math.min(p,i.min*i.ratio);return{base:_-k/2,head:_+k/2,center:_,size:k}}draw(){const e=this._cachedMeta,i=e.vScale,c=e.data,d=c.length;let h=0;for(;h<d;++h)null!==this.getParsed(h)[i.axis]&&!c[h].hidden&&c[h].draw(this._ctx)}})(),X_=(()=>class s extends ga{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,c,d){const h=super.parsePrimitiveData(e,i,c,d);for(let p=0;p<h.length;p++)h[p]._custom=this.resolveDataElementOptions(p+c).radius;return h}parseArrayData(e,i,c,d){const h=super.parseArrayData(e,i,c,d);for(let p=0;p<h.length;p++)h[p]._custom=bn(i[c+p][2],this.resolveDataElementOptions(p+c).radius);return h}parseObjectData(e,i,c,d){const h=super.parseObjectData(e,i,c,d);for(let p=0;p<h.length;p++){const _=i[c+p];h[p]._custom=bn(_&&_.r&&+_.r,this.resolveDataElementOptions(p+c).radius)}return h}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let c=e.length-1;c>=0;--c)i=Math.max(i,e[c].size(this.resolveDataElementOptions(c))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,c=this.chart.data.labels||[],{xScale:d,yScale:h}=i,p=this.getParsed(e),_=d.getLabelForValue(p.x),k=h.getLabelForValue(p.y),I=p._custom;return{label:c[e]||"",value:"("+_+", "+k+(I?", "+I:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,c,d){const h="reset"===d,{iScale:p,vScale:_}=this._cachedMeta,{sharedOptions:k,includeOptions:I}=this._getSharedOptions(i,d),z=p.axis,ee=_.axis;for(let ie=i;ie<i+c;ie++){const Me=e[ie],we=!h&&this.getParsed(ie),Ee={},nt=Ee[z]=h?p.getPixelForDecimal(.5):p.getPixelForValue(we[z]),ot=Ee[ee]=h?_.getBasePixel():_.getPixelForValue(we[ee]);Ee.skip=isNaN(nt)||isNaN(ot),I&&(Ee.options=k||this.resolveDataElementOptions(ie,Me.active?"active":d),h&&(Ee.options.radius=0)),this.updateElement(Me,ie,Ee,d)}}resolveDataElementOptions(e,i){const c=this.getParsed(e);let d=super.resolveDataElementOptions(e,i);d.$shared&&(d=Object.assign({},d,{$shared:!1}));const h=d.radius;return"active"!==i&&(d.radius=0),d.radius+=bn(c&&c._custom,h),d}})(),Xd=(()=>class s extends ga{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:c,color:d}}=e.legend.options;return i.labels.map((h,p)=>{const k=e.getDatasetMeta(0).controller.getStyle(p);return{text:h,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,fontColor:d,lineWidth:k.borderWidth,pointStyle:c,hidden:!e.getDataVisibility(p),index:p}})}return[]}},onClick(e,i,c){c.chart.toggleDataVisibility(i.index),c.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const c=this.getDataset().data,d=this._cachedMeta;if(!1===this._parsing)d._parsed=c;else{let p,_,h=k=>+c[k];if(In(c[e])){const{key:k="value"}=this._parsing;h=I=>+Ge(c[I],k)}for(p=e,_=e+i;p<_;++p)d._parsed[p]=h(p)}}_getRotation(){return xe(this.options.rotation-90)}_getCircumference(){return xe(this.options.circumference)}_getRotationExtents(){let e=yn,i=-yn;for(let c=0;c<this.chart.data.datasets.length;++c)if(this.chart.isDatasetVisible(c)&&this.chart.getDatasetMeta(c).type===this._type){const d=this.chart.getDatasetMeta(c).controller,h=d._getRotation(),p=d._getCircumference();e=Math.min(e,h),i=Math.max(i,h+p)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:c}=i,d=this._cachedMeta,h=d.data,p=this.getMaxBorderWidth()+this.getMaxOffset(h)+this.options.spacing,_=Math.max((Math.min(c.width,c.height)-p)/2,0),k=Math.min(((s,a)=>"string"==typeof s&&s.endsWith("%")?parseFloat(s)/100:+s/a)(this.options.cutout,_),1),I=this._getRingWeight(this.index),{circumference:z,rotation:ee}=this._getRotationExtents(),{ratioX:ie,ratioY:Me,offsetX:we,offsetY:Ee}=function Fh(s,a,e){let i=1,c=1,d=0,h=0;if(a<yn){const p=s,_=p+a,k=Math.cos(p),I=Math.sin(p),z=Math.cos(_),ee=Math.sin(_),ie=(Tt,St,bt)=>Ht(Tt,p,_,!0)?1:Math.max(St,St*e,bt,bt*e),Me=(Tt,St,bt)=>Ht(Tt,p,_,!0)?-1:Math.min(St,St*e,bt,bt*e),we=ie(0,k,z),Ee=ie(Jn,I,ee),nt=Me(Yt,k,z),ot=Me(Yt+Jn,I,ee);i=(we-nt)/2,c=(Ee-ot)/2,d=-(we+nt)/2,h=-(Ee+ot)/2}return{ratioX:i,ratioY:c,offsetX:d,offsetY:h}}(ee,z,k),Tt=Math.max(Math.min((c.width-p)/ie,(c.height-p)/Me)/2,0),St=Js(this.options.radius,Tt),At=(St-Math.max(St*k,0))/this._getVisibleDatasetWeightTotal();this.offsetX=we*St,this.offsetY=Ee*St,d.total=this.calculateTotal(),this.outerRadius=St-At*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-At*I,0),this.updateElements(h,0,h.length,e)}_circumference(e,i){const c=this.options,d=this._cachedMeta,h=this._getCircumference();return i&&c.animation.animateRotate||!this.chart.getDataVisibility(e)||null===d._parsed[e]||d.data[e].hidden?0:this.calculateCircumference(d._parsed[e]*h/yn)}updateElements(e,i,c,d){const h="reset"===d,p=this.chart,_=p.chartArea,z=(_.left+_.right)/2,ee=(_.top+_.bottom)/2,ie=h&&p.options.animation.animateScale,Me=ie?0:this.innerRadius,we=ie?0:this.outerRadius,{sharedOptions:Ee,includeOptions:nt}=this._getSharedOptions(i,d);let Tt,ot=this._getRotation();for(Tt=0;Tt<i;++Tt)ot+=this._circumference(Tt,h);for(Tt=i;Tt<i+c;++Tt){const St=this._circumference(Tt,h),bt=e[Tt],At={x:z+this.offsetX,y:ee+this.offsetY,startAngle:ot,endAngle:ot+St,circumference:St,outerRadius:we,innerRadius:Me};nt&&(At.options=Ee||this.resolveDataElementOptions(Tt,bt.active?"active":d)),ot+=St,this.updateElement(bt,Tt,At,d)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let d,c=0;for(d=0;d<i.length;d++){const h=e._parsed[d];null!==h&&!isNaN(h)&&this.chart.getDataVisibility(d)&&!i[d].hidden&&(c+=Math.abs(h))}return c}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?yn*(Math.abs(e)/i):0}getLabelAndValue(e){const c=this.chart,d=c.data.labels||[],h=le(this._cachedMeta._parsed[e],c.options.locale);return{label:d[e]||"",value:h}}getMaxBorderWidth(e){let i=0;const c=this.chart;let d,h,p,_,k;if(!e)for(d=0,h=c.data.datasets.length;d<h;++d)if(c.isDatasetVisible(d)){p=c.getDatasetMeta(d),e=p.data,_=p.controller;break}if(!e)return 0;for(d=0,h=e.length;d<h;++d)k=_.resolveDataElementOptions(d),"inner"!==k.borderAlign&&(i=Math.max(i,k.borderWidth||0,k.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let c=0,d=e.length;c<d;++c){const h=this.resolveDataElementOptions(c);i=Math.max(i,h.offset||0,h.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let c=0;c<e;++c)this.chart.isDatasetVisible(c)&&(i+=this._getRingWeight(c));return i}_getRingWeight(e){return Math.max(bn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),eb=(()=>class s extends ga{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:c,data:d=[],_dataset:h}=i,p=this.chart._animationsDisabled;let{start:_,count:k}=cn(i,d,p);this._drawStart=_,this._drawCount=k,pn(i)&&(_=0,k=d.length),c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=d;const I=this.resolveDatasetElementOptions(e);this.options.showLine||(I.borderWidth=0),I.segment=this.options.segment,this.updateElement(c,void 0,{animated:!p,options:I},e),this.updateElements(d,_,k,e)}updateElements(e,i,c,d){const h="reset"===d,{iScale:p,vScale:_,_stacked:k,_dataset:I}=this._cachedMeta,{sharedOptions:z,includeOptions:ee}=this._getSharedOptions(i,d),ie=p.axis,Me=_.axis,{spanGaps:we,segment:Ee}=this.options,nt=V(we)?we:Number.POSITIVE_INFINITY,ot=this.chart._animationsDisabled||h||"none"===d,Tt=i+c,St=e.length;let bt=i>0&&this.getParsed(i-1);for(let At=0;At<St;++At){const Jt=e[At],Bt=ot?Jt:{};if(At<i||At>=Tt){Bt.skip=!0;continue}const nn=this.getParsed(At),Wn=Mn(nn[Me]),$n=Bt[ie]=p.getPixelForValue(nn[ie],At),to=Bt[Me]=h||Wn?_.getBasePixel():_.getPixelForValue(k?this.applyStack(_,nn,k):nn[Me],At);Bt.skip=isNaN($n)||isNaN(to)||Wn,Bt.stop=At>0&&Math.abs(nn[ie]-bt[ie])>nt,Ee&&(Bt.parsed=nn,Bt.raw=I.data[At]),ee&&(Bt.options=z||this.resolveDataElementOptions(At,Jt.active?"active":d)),ot||this.updateElement(Jt,At,Bt,d),bt=nn}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,c=i.options&&i.options.borderWidth||0,d=e.data||[];if(!d.length)return c;const h=d[0].size(this.resolveDataElementOptions(0)),p=d[d.length-1].size(this.resolveDataElementOptions(d.length-1));return Math.max(c,h,p)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}})(),Nh=(()=>class s extends ga{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:c,color:d}}=e.legend.options;return i.labels.map((h,p)=>{const k=e.getDatasetMeta(0).controller.getStyle(p);return{text:h,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,fontColor:d,lineWidth:k.borderWidth,pointStyle:c,hidden:!e.getDataVisibility(p),index:p}})}return[]}},onClick(e,i,c){c.chart.toggleDataVisibility(i.index),c.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const c=this.chart,d=c.data.labels||[],h=le(this._cachedMeta._parsed[e].r,c.options.locale);return{label:d[e]||"",value:h}}parseObjectData(e,i,c,d){return Ml.bind(this)(e,i,c,d)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((c,d)=>{const h=this.getParsed(d).r;!isNaN(h)&&this.chart.getDataVisibility(d)&&(h<i.min&&(i.min=h),h>i.max&&(i.max=h))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,c=e.options,d=Math.min(i.right-i.left,i.bottom-i.top),h=Math.max(d/2,0),_=(h-Math.max(c.cutoutPercentage?h/100*c.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=h-_*this.index,this.innerRadius=this.outerRadius-_}updateElements(e,i,c,d){const h="reset"===d,p=this.chart,k=p.options.animation,I=this._cachedMeta.rScale,z=I.xCenter,ee=I.yCenter,ie=I.getIndexAngle(0)-.5*Yt;let we,Me=ie;const Ee=360/this.countVisibleElements();for(we=0;we<i;++we)Me+=this._computeAngle(we,d,Ee);for(we=i;we<i+c;we++){const nt=e[we];let ot=Me,Tt=Me+this._computeAngle(we,d,Ee),St=p.getDataVisibility(we)?I.getDistanceFromCenterForValue(this.getParsed(we).r):0;Me=Tt,h&&(k.animateScale&&(St=0),k.animateRotate&&(ot=Tt=ie));const bt={x:z,y:ee,innerRadius:0,outerRadius:St,startAngle:ot,endAngle:Tt,options:this.resolveDataElementOptions(we,nt.active?"active":d)};this.updateElement(nt,we,bt,d)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((c,d)=>{!isNaN(this.getParsed(d).r)&&this.chart.getDataVisibility(d)&&i++}),i}_computeAngle(e,i,c){return this.chart.getDataVisibility(e)?xe(this.resolveDataElementOptions(e,i).angle||c):0}})();var Lh=Object.freeze({__proto__:null,BarController:rg,BubbleController:X_,DoughnutController:Xd,LineController:eb,PieController:(()=>class s extends Xd{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:Nh,RadarController:(()=>class s extends ga{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const i=this._cachedMeta.vScale,c=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(c[i.axis])}}parseObjectData(e,i,c,d){return Ml.bind(this)(e,i,c,d)}update(e){const i=this._cachedMeta,c=i.dataset,d=i.data||[],h=i.iScale.getLabels();if(c.points=d,"resize"!==e){const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),this.updateElement(c,void 0,{_loop:!0,_fullLoop:h.length===d.length,options:p},e)}this.updateElements(d,0,d.length,e)}updateElements(e,i,c,d){const h=this._cachedMeta.rScale,p="reset"===d;for(let _=i;_<i+c;_++){const k=e[_],I=this.resolveDataElementOptions(_,k.active?"active":d),z=h.getPointPositionForValue(_,this.getParsed(_).r),ee=p?h.xCenter:z.x,ie=p?h.yCenter:z.y,Me={x:ee,y:ie,angle:z.angle,skip:isNaN(ee)||isNaN(ie),options:I};this.updateElement(k,_,Me,d)}}})(),ScatterController:(()=>class s extends ga{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const i=this._cachedMeta,c=this.chart.data.labels||[],{xScale:d,yScale:h}=i,p=this.getParsed(e),_=d.getLabelForValue(p.x),k=h.getLabelForValue(p.y);return{label:c[e]||"",value:"("+_+", "+k+")"}}update(e){const i=this._cachedMeta,{data:c=[]}=i,d=this.chart._animationsDisabled;let{start:h,count:p}=cn(i,c,d);if(this._drawStart=h,this._drawCount=p,pn(i)&&(h=0,p=c.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:_,_dataset:k}=i;_._chart=this.chart,_._datasetIndex=this.index,_._decimated=!!k._decimated,_.points=c;const I=this.resolveDatasetElementOptions(e);I.segment=this.options.segment,this.updateElement(_,void 0,{animated:!d,options:I},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(c,h,p,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,c,d){const h="reset"===d,{iScale:p,vScale:_,_stacked:k,_dataset:I}=this._cachedMeta,z=this.resolveDataElementOptions(i,d),ee=this.getSharedOptions(z),ie=this.includeOptions(d,ee),Me=p.axis,we=_.axis,{spanGaps:Ee,segment:nt}=this.options,ot=V(Ee)?Ee:Number.POSITIVE_INFINITY,Tt=this.chart._animationsDisabled||h||"none"===d;let St=i>0&&this.getParsed(i-1);for(let bt=i;bt<i+c;++bt){const At=e[bt],Jt=this.getParsed(bt),Bt=Tt?At:{},nn=Mn(Jt[we]),Wn=Bt[Me]=p.getPixelForValue(Jt[Me],bt),$n=Bt[we]=h||nn?_.getBasePixel():_.getPixelForValue(k?this.applyStack(_,Jt,k):Jt[we],bt);Bt.skip=isNaN(Wn)||isNaN($n)||nn,Bt.stop=bt>0&&Math.abs(Jt[Me]-St[Me])>ot,nt&&(Bt.parsed=Jt,Bt.raw=I.data[bt]),ie&&(Bt.options=ee||this.resolveDataElementOptions(bt,At.active?"active":d)),Tt||this.updateElement(At,bt,Bt,d),St=Jt}this.updateSharedOptions(ee,d,z)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let _=0;for(let k=i.length-1;k>=0;--k)_=Math.max(_,i[k].size(this.resolveDataElementOptions(k))/2);return _>0&&_}const c=e.dataset,d=c.options&&c.options.borderWidth||0;if(!i.length)return d;const h=i[0].size(this.resolveDataElementOptions(0)),p=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(d,h,p)/2}})()});function za(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Fl{static override(a){Object.assign(Fl.prototype,a)}options;constructor(a){this.options=a||{}}init(){}formats(){return za()}parse(){return za()}format(){return za()}add(){return za()}diff(){return za()}startOf(){return za()}endOf(){return za()}}var ob__date=Fl;function Bh(s,a,e,i){const{controller:c,data:d,_sorted:h}=s,p=c._cachedMeta.iScale,_=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(p&&a===p.axis&&"r"!==a&&h&&d.length){const k=p._reversePixels?di:Eo;if(!i){const I=k(d,a,e);if(_){const{vScale:z}=c._cachedMeta,{_parsed:ee}=s,ie=ee.slice(0,I.lo+1).reverse().findIndex(we=>!Mn(we[z.axis]));I.lo-=Math.max(0,ie);const Me=ee.slice(I.hi).findIndex(we=>!Mn(we[z.axis]));I.hi+=Math.max(0,Me)}return I}if(c._sharedOptions){const I=d[0],z="function"==typeof I.getRange&&I.getRange(a);if(z){const ee=k(d,a,e-z),ie=k(d,a,e+z);return{lo:ee.lo,hi:ie.hi}}}}return{lo:0,hi:d.length-1}}function Nl(s,a,e,i,c){const d=s.getSortedVisibleDatasetMetas(),h=e[a];for(let p=0,_=d.length;p<_;++p){const{index:k,data:I}=d[p],{lo:z,hi:ee}=Bh(d[p],a,h,c);for(let ie=z;ie<=ee;++ie){const Me=I[ie];Me.skip||i(Me,k,ie)}}}function tu(s,a,e,i,c){const d=[];return!c&&!s.isPointInArea(a)||Nl(s,e,a,function(p,_,k){!c&&!hi(p,s.chartArea,0)||p.inRange(a.x,a.y,i)&&d.push({element:p,datasetIndex:_,index:k})},!0),d}function Uh(s,a,e,i,c,d){return d||s.isPointInArea(a)?"r"!==e||i?function ib(s,a,e,i,c,d){let h=[];const p=function sg(s){const a=-1!==s.indexOf("x"),e=-1!==s.indexOf("y");return function(i,c){const d=a?Math.abs(i.x-c.x):0,h=e?Math.abs(i.y-c.y):0;return Math.sqrt(Math.pow(d,2)+Math.pow(h,2))}}(e);let _=Number.POSITIVE_INFINITY;return Nl(s,e,a,function k(I,z,ee){const ie=I.inRange(a.x,a.y,c);if(i&&!ie)return;const Me=I.getCenterPoint(c);if(!d&&!s.isPointInArea(Me)&&!ie)return;const Ee=p(a,Me);Ee<_?(h=[{element:I,datasetIndex:z,index:ee}],_=Ee):Ee===_&&h.push({element:I,datasetIndex:z,index:ee})}),h}(s,a,e,i,c,d):function nu(s,a,e,i){let c=[];return Nl(s,e,a,function d(h,p,_){const{startAngle:k,endAngle:I}=h.getProps(["startAngle","endAngle"],i),{angle:z}=Lt(h,{x:a.x,y:a.y});Ht(z,k,I)&&c.push({element:h,datasetIndex:p,index:_})}),c}(s,a,e,c):[]}function Ll(s,a,e,i,c){const d=[],h="x"===e?"inXRange":"inYRange";let p=!1;return Nl(s,e,a,(_,k,I)=>{_[h]&&_[h](a[e],c)&&(d.push({element:_,datasetIndex:k,index:I}),p=p||_.inRange(a.x,a.y,c))}),i&&!p?[]:d}var rb={evaluateInteractionItems:Nl,modes:{index(s,a,e,i){const c=ha(a,s),d=e.axis||"x",h=e.includeInvisible||!1,p=e.intersect?tu(s,c,d,i,h):Uh(s,c,d,!1,i,h),_=[];return p.length?(s.getSortedVisibleDatasetMetas().forEach(k=>{const I=p[0].index,z=k.data[I];z&&!z.skip&&_.push({element:z,datasetIndex:k.index,index:I})}),_):[]},dataset(s,a,e,i){const c=ha(a,s),d=e.axis||"xy",h=e.includeInvisible||!1;let p=e.intersect?tu(s,c,d,i,h):Uh(s,c,d,!1,i,h);if(p.length>0){const _=p[0].datasetIndex,k=s.getDatasetMeta(_).data;p=[];for(let I=0;I<k.length;++I)p.push({element:k[I],datasetIndex:_,index:I})}return p},point:(s,a,e,i)=>tu(s,ha(a,s),e.axis||"xy",i,e.includeInvisible||!1),nearest:(s,a,e,i)=>Uh(s,ha(a,s),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(s,a,e,i)=>Ll(s,ha(a,s),"x",e.intersect,i),y:(s,a,e,i)=>Ll(s,ha(a,s),"y",e.intersect,i)}};const ag=["left","top","right","bottom"];function Bl(s,a){return s.filter(e=>e.pos===a)}function cg(s,a){return s.filter(e=>-1===ag.indexOf(e.pos)&&e.box.axis===a)}function Ul(s,a){return s.sort((e,i)=>{const c=a?i:e,d=a?e:i;return c.weight===d.weight?c.index-d.index:c.weight-d.weight})}function ou(s,a,e,i){return Math.max(s[e],a[e])+Math.max(s[i],a[i])}function iu(s,a){s.top=Math.max(s.top,a.top),s.left=Math.max(s.left,a.left),s.bottom=Math.max(s.bottom,a.bottom),s.right=Math.max(s.right,a.right)}function gc(s,a,e,i){const{pos:c,box:d}=e,h=s.maxPadding;if(!In(c)){e.size&&(s[c]-=e.size);const z=i[e.stack]||{size:0,count:1};z.size=Math.max(z.size,e.horizontal?d.height:d.width),e.size=z.size/z.count,s[c]+=e.size}d.getPadding&&iu(h,d.getPadding());const p=Math.max(0,a.outerWidth-ou(h,s,"left","right")),_=Math.max(0,a.outerHeight-ou(h,s,"top","bottom")),k=p!==s.w,I=_!==s.h;return s.w=p,s.h=_,e.horizontal?{same:k,other:I}:{same:I,other:k}}function Hh(s,a){const e=a.maxPadding;return function i(c){const d={left:0,top:0,right:0,bottom:0};return c.forEach(h=>{d[h]=Math.max(a[h],e[h])}),d}(s?["left","right"]:["top","bottom"])}function ma(s,a,e,i){const c=[];let d,h,p,_,k,I;for(d=0,h=s.length,k=0;d<h;++d){p=s[d],_=p.box,_.update(p.width||a.w,p.height||a.h,Hh(p.horizontal,a));const{same:z,other:ee}=gc(a,e,p,i);k|=z&&c.length,I=I||ee,_.fullSize||c.push(p)}return k&&ma(c,a,e,i)||I}function Za(s,a,e,i,c){s.top=e,s.left=a,s.right=a+i,s.bottom=e+c,s.width=i,s.height=c}function Wc(s,a,e,i){const c=e.padding;let{x:d,y:h}=a;for(const p of s){const _=p.box,k=i[p.stack]||{count:1,placed:0,weight:1},I=p.stackWeight/k.weight||1;if(p.horizontal){const z=a.w*I,ee=k.size||_.height;qt(k.start)&&(h=k.start),_.fullSize?Za(_,c.left,h,e.outerWidth-c.right-c.left,ee):Za(_,a.left+k.placed,h,z,ee),k.start=h,k.placed+=z,h=_.bottom}else{const z=a.h*I,ee=k.size||_.width;qt(k.start)&&(d=k.start),_.fullSize?Za(_,d,c.top,ee,e.outerHeight-c.bottom-c.top):Za(_,d,a.top+k.placed,ee,z),k.start=d,k.placed+=z,d=_.right}}a.x=d,a.y=h}var kr={addBox(s,a){s.boxes||(s.boxes=[]),a.fullSize=a.fullSize||!1,a.position=a.position||"top",a.weight=a.weight||0,a._layers=a._layers||function(){return[{z:0,draw(e){a.draw(e)}}]},s.boxes.push(a)},removeBox(s,a){const e=s.boxes?s.boxes.indexOf(a):-1;-1!==e&&s.boxes.splice(e,1)},configure(s,a,e){a.fullSize=e.fullSize,a.position=e.position,a.weight=e.weight},update(s,a,e,i){if(!s)return;const c=wr(s.options.layout.padding),d=Math.max(a-c.width,0),h=Math.max(e-c.height,0),p=function jh(s){const a=function lg(s){const a=[];let e,i,c,d,h,p;for(e=0,i=(s||[]).length;e<i;++e)c=s[e],({position:d,options:{stack:h,stackWeight:p=1}}=c),a.push({index:e,box:c,pos:d,horizontal:c.isHorizontal(),weight:c.weight,stack:h&&d+h,stackWeight:p});return a}(s),e=Ul(a.filter(k=>k.box.fullSize),!0),i=Ul(Bl(a,"left"),!0),c=Ul(Bl(a,"right")),d=Ul(Bl(a,"top"),!0),h=Ul(Bl(a,"bottom")),p=cg(a,"x"),_=cg(a,"y");return{fullSize:e,leftAndTop:i.concat(d),rightAndBottom:c.concat(_).concat(h).concat(p),chartArea:Bl(a,"chartArea"),vertical:i.concat(c).concat(_),horizontal:d.concat(h).concat(p)}}(s.boxes),_=p.vertical,k=p.horizontal;Kn(s.boxes,we=>{"function"==typeof we.beforeLayout&&we.beforeLayout()});const I=_.reduce((we,Ee)=>Ee.box.options&&!1===Ee.box.options.display?we:we+1,0)||1,z=Object.freeze({outerWidth:a,outerHeight:e,padding:c,availableWidth:d,availableHeight:h,vBoxMaxWidth:d/2/I,hBoxMaxHeight:h/2}),ee=Object.assign({},c);iu(ee,wr(i));const ie=Object.assign({maxPadding:ee,w:d,h,x:c.left,y:c.top},c),Me=function Vl(s,a){const e=function jl(s){const a={};for(const e of s){const{stack:i,pos:c,stackWeight:d}=e;if(!i||!ag.includes(c))continue;const h=a[i]||(a[i]={count:0,placed:0,weight:0,size:0});h.count++,h.weight+=d}return a}(s),{vBoxMaxWidth:i,hBoxMaxHeight:c}=a;let d,h,p;for(d=0,h=s.length;d<h;++d){p=s[d];const{fullSize:_}=p.box,k=e[p.stack],I=k&&p.stackWeight/k.weight;p.horizontal?(p.width=I?I*i:_&&a.availableWidth,p.height=c):(p.width=i,p.height=I?I*c:_&&a.availableHeight)}return e}(_.concat(k),z);ma(p.fullSize,ie,z,Me),ma(_,ie,z,Me),ma(k,ie,z,Me)&&ma(_,ie,z,Me),function Vh(s){const a=s.maxPadding;function e(i){const c=Math.max(a[i]-s[i],0);return s[i]+=c,c}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}(ie),Wc(p.leftAndTop,ie,z,Me),ie.x+=ie.w,ie.y+=ie.h,Wc(p.rightAndBottom,ie,z,Me),s.chartArea={left:ie.left,top:ie.top,right:ie.left+ie.w,bottom:ie.top+ie.h,height:ie.h,width:ie.w},Kn(p.chartArea,we=>{const Ee=we.box;Object.assign(Ee,s.chartArea),Ee.update(ie.w,ie.h,{left:0,top:0,right:0,bottom:0})})}};class zh{acquireContext(a,e){}releaseContext(a){return!1}addEventListener(a,e,i){}removeEventListener(a,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(a,e,i,c){return e=Math.max(0,e||a.width),i=i||a.height,{width:e,height:Math.max(0,c?Math.floor(e/c):i)}}isAttached(a){return!0}updateConfig(a){}}class dg extends zh{acquireContext(a){return a&&a.getContext&&a.getContext("2d")||null}updateConfig(a){a.options.animation=!1}}const qc="$chartjs",ru={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Zh=s=>null===s||""===s,$h=!!zp&&{passive:!0};function hg(s,a,e){s&&s.canvas&&s.canvas.removeEventListener(a,e,$h)}function lr(s,a){for(const e of s)if(e===a||e.contains(a))return!0}function su(s,a,e){const i=s.canvas,c=new MutationObserver(d=>{let h=!1;for(const p of d)h=h||lr(p.addedNodes,i),h=h&&!lr(p.removedNodes,i);h&&e()});return c.observe(document,{childList:!0,subtree:!0}),c}function Wh(s,a,e){const i=s.canvas,c=new MutationObserver(d=>{let h=!1;for(const p of d)h=h||lr(p.removedNodes,i),h=h&&!lr(p.addedNodes,i);h&&e()});return c.observe(document,{childList:!0,subtree:!0}),c}const $a=new Map;let dr=0;function mc(){const s=window.devicePixelRatio;s!==dr&&(dr=s,$a.forEach((a,e)=>{e.currentDevicePixelRatio!==s&&a()}))}function pg(s,a,e){const i=s.canvas,c=i&&lc(i);if(!c)return;const d=Is((p,_)=>{const k=c.clientWidth;e(p,_),k<c.clientWidth&&e()},window),h=new ResizeObserver(p=>{const _=p[0],k=_.contentRect.width,I=_.contentRect.height;0===k&&0===I||d(k,I)});return h.observe(c),function qh(s,a){$a.size||window.addEventListener("resize",mc),$a.set(s,a)}(s,d),h}function Hl(s,a,e){e&&e.disconnect(),"resize"===a&&function Yh(s){$a.delete(s),$a.size||window.removeEventListener("resize",mc)}(s)}function gg(s,a,e){const i=s.canvas,c=Is(d=>{null!==s.ctx&&e(function fg(s,a){const e=ru[s.type]||s.type,{x:i,y:c}=ha(s,a);return{type:e,chart:a,native:s,x:void 0!==i?i:null,y:void 0!==c?c:null}}(d,s))},s);return function Gh(s,a,e){s&&s.addEventListener(a,e,$h)}(i,a,c),c}class Kh extends zh{acquireContext(a,e){const i=a&&a.getContext&&a.getContext("2d");return i&&i.canvas===a?(function ug(s,a){const e=s.style,i=s.getAttribute("height"),c=s.getAttribute("width");if(s[qc]={initial:{height:i,width:c,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Zh(c)){const d=Gd(s,"width");void 0!==d&&(s.width=d)}if(Zh(i))if(""===s.style.height)s.height=s.width/(a||2);else{const d=Gd(s,"height");void 0!==d&&(s.height=d)}}(a,e),i):null}releaseContext(a){const e=a.canvas;if(!e[qc])return!1;const i=e[qc].initial;["height","width"].forEach(d=>{const h=i[d];Mn(h)?e.removeAttribute(d):e.setAttribute(d,h)});const c=i.style||{};return Object.keys(c).forEach(d=>{e.style[d]=c[d]}),e.width=e.width,delete e[qc],!0}addEventListener(a,e,i){this.removeEventListener(a,e),(a.$proxies||(a.$proxies={}))[e]=({attach:su,detach:Wh,resize:pg}[e]||gg)(a,e,i)}removeEventListener(a,e){const i=a.$proxies||(a.$proxies={}),c=i[e];c&&(({attach:Hl,detach:Hl,resize:Hl}[e]||hg)(a,e,c),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(a,e,i,c){return function Dl(s,a,e,i){const c=jc(s),d=La(c,"margin"),h=dc(c.maxWidth,s,"clientWidth")||Ho,p=dc(c.maxHeight,s,"clientHeight")||Ho,_=function Ch(s,a,e){let i,c;if(void 0===a||void 0===e){const d=s&&lc(s);if(d){const h=d.getBoundingClientRect(),p=jc(d),_=La(p,"border","width"),k=La(p,"padding");a=h.width-k.width-_.width,e=h.height-k.height-_.height,i=dc(p.maxWidth,d,"clientWidth"),c=dc(p.maxHeight,d,"clientHeight")}else a=s.clientWidth,e=s.clientHeight}return{width:a,height:e,maxWidth:i||Ho,maxHeight:c||Ho}}(s,a,e);let{width:k,height:I}=_;if("content-box"===c.boxSizing){const ee=La(c,"border","width"),ie=La(c,"padding");k-=ie.width+ee.width,I-=ie.height+ee.height}return k=Math.max(0,k-d.width),I=Math.max(0,i?k/i:I-d.height),k=El(Math.min(k,h,_.maxWidth)),I=El(Math.min(I,p,_.maxHeight)),k&&!I&&(I=El(k/2)),(void 0!==a||void 0!==e)&&i&&_.height&&I>_.height&&(I=_.height,k=El(Math.floor(I*i))),{width:k,height:I}}(a,e,i,c)}isAttached(a){const e=a&&lc(a);return!(!e||!e.isConnected)}}class Us{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(a){const{x:e,y:i}=this.getProps(["x","y"],a);return{x:e,y:i}}hasValue(){return V(this.x)&&V(this.y)}getProps(a,e){const i=this.$animations;if(!e||!i)return this;const c={};return a.forEach(d=>{c[d]=i[d]&&i[d].active()?i[d]._to:this[d]}),c}}function _a(s,a,e,i,c){const d=bn(i,0),h=Math.min(bn(c,s.length),s.length);let _,k,I,p=0;for(e=Math.ceil(e),c&&(_=c-i,e=_/Math.floor(_/e)),I=d;I<0;)p++,I=Math.round(d+p*e);for(k=Math.max(d,0);k<h;k++)k===I&&(a.push(s[k]),p++,I=Math.round(d+p*e))}const lu=(s,a,e)=>"top"===a||"left"===a?s[a]+e:s[a]-e,du=(s,a)=>Math.min(a||s,s);function uu(s,a){const e=[],i=s.length/a,c=s.length;let d=0;for(;d<c;d+=i)e.push(s[Math.floor(d)]);return e}function _c(s,a,e){const i=s.ticks.length,c=Math.min(a,i-1),d=s._startPixel,h=s._endPixel,p=1e-6;let k,_=s.getPixelForTick(c);if(!(e&&(k=1===i?Math.max(_-d,h-_):0===a?(s.getPixelForTick(1)-_)/2:(_-s.getPixelForTick(c-1))/2,_+=c<a?k:-k,_<d-p||_>h+p)))return _}function bc(s){return s.drawTicks?s.tickLength:0}function Zl(s,a){if(!s.display)return 0;const e=Zi(s.font,a),i=wr(s.padding);return(io(s.text)?s.text.length:1)*e.lineHeight+i.height}function Mg(s,a,e){let i=Rs(s);return(e&&"right"!==a||!e&&"right"===a)&&(i=(s=>"left"===s?"right":"right"===s?"left":s)(i)),i}class Ga extends Us{constructor(a){super(),this.id=a.id,this.type=a.type,this.options=void 0,this.ctx=a.ctx,this.chart=a.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(a){this.options=a.setContext(this.getContext()),this.axis=a.axis,this._userMin=this.parse(a.min),this._userMax=this.parse(a.max),this._suggestedMin=this.parse(a.suggestedMin),this._suggestedMax=this.parse(a.suggestedMax)}parse(a,e){return a}getUserBounds(){let{_userMin:a,_userMax:e,_suggestedMin:i,_suggestedMax:c}=this;return a=li(a,Number.POSITIVE_INFINITY),e=li(e,Number.NEGATIVE_INFINITY),i=li(i,Number.POSITIVE_INFINITY),c=li(c,Number.NEGATIVE_INFINITY),{min:li(a,i),max:li(e,c),minDefined:xo(a),maxDefined:xo(e)}}getMinMax(a){let h,{min:e,max:i,minDefined:c,maxDefined:d}=this.getUserBounds();if(c&&d)return{min:e,max:i};const p=this.getMatchingVisibleMetas();for(let _=0,k=p.length;_<k;++_)h=p[_].controller.getMinMax(this,a),c||(e=Math.min(e,h.min)),d||(i=Math.max(i,h.max));return e=d&&e>i?i:e,i=c&&e>i?e:i,{min:li(e,li(i,e)),max:li(i,li(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels||[]}getLabelItems(a=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(a))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){co(this.options.beforeUpdate,[this])}update(a,e,i){const{beginAtZero:c,grace:d,ticks:h}=this.options,p=h.sampleSize;this.beforeUpdate(),this.maxWidth=a,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function ph(s,a,e){const{min:i,max:c}=s,d=Js(a,(c-i)/2),h=(p,_)=>e&&0===p?0:p+_;return{min:h(i,-Math.abs(d)),max:h(c,d)}}(this,d,c),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const _=p<this.ticks.length;this._convertTicksToLabels(_?uu(this.ticks,p):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),h.display&&(h.autoSkip||"auto"===h.source)&&(this.ticks=function _g(s,a){const e=s.options.ticks,i=function bg(s){const a=s.options.offset,e=s._tickSize();return Math.floor(Math.min(s._length/e+(a?0:1),s._maxLength/e))}(s),c=Math.min(e.maxTicksLimit||i,i),d=e.major.enabled?function cu(s){const a=[];let e,i;for(e=0,i=s.length;e<i;e++)s[e].major&&a.push(e);return a}(a):[],h=d.length,p=d[0],_=d[h-1],k=[];if(h>c)return function vg(s,a,e,i){let h,c=0,d=e[0];for(i=Math.ceil(i),h=0;h<s.length;h++)h===d&&(a.push(s[h]),c++,d=e[c*i])}(a,k,d,h/c),k;const I=function au(s,a,e){const i=function yg(s){const a=s.length;let e,i;if(a<2)return!1;for(i=s[0],e=1;e<a;++e)if(s[e]-s[e-1]!==i)return!1;return i}(s),c=a.length/e;if(!i)return Math.max(c,1);const d=function x(s){const a=[],e=Math.sqrt(s);let i;for(i=1;i<e;i++)s%i==0&&(a.push(i),a.push(s/i));return e===(0|e)&&a.push(e),a.sort((c,d)=>c-d).pop(),a}(i);for(let h=0,p=d.length-1;h<p;h++){const _=d[h];if(_>c)return _}return Math.max(c,1)}(d,a,c);if(h>0){let z,ee;const ie=h>1?Math.round((_-p)/(h-1)):null;for(_a(a,k,I,Mn(ie)?0:p-ie,p),z=0,ee=h-1;z<ee;z++)_a(a,k,I,d[z],d[z+1]);return _a(a,k,I,_,Mn(ie)?a.length:_+ie),k}return _a(a,k,I),k}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),_&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,a=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,a=!a),this._startPixel=e,this._endPixel=i,this._reversePixels=a,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){co(this.options.afterUpdate,[this])}beforeSetDimensions(){co(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){co(this.options.afterSetDimensions,[this])}_callHooks(a){this.chart.notifyPlugins(a,this.getContext()),co(this.options[a],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){co(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(a){const e=this.options.ticks;let i,c,d;for(i=0,c=a.length;i<c;i++)d=a[i],d.label=co(e.callback,[d.value,i,a],this)}afterTickToLabelConversion(){co(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){co(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const a=this.options,e=a.ticks,i=du(this.ticks.length,a.ticks.maxTicksLimit),c=e.minRotation||0,d=e.maxRotation;let p,_,k,h=c;if(!this._isVisible()||!e.display||c>=d||i<=1||!this.isHorizontal())return void(this.labelRotation=c);const I=this._getLabelSizes(),z=I.widest.width,ee=I.highest.height,ie=Kt(this.chart.width-z,0,this.maxWidth);p=a.offset?this.maxWidth/i:ie/(i-1),z+6>p&&(p=ie/(i-(a.offset?.5:1)),_=this.maxHeight-bc(a.grid)-e.padding-Zl(a.title,this.chart.options.font),k=Math.sqrt(z*z+ee*ee),h=He(Math.min(Math.asin(Kt((I.highest.height+6)/p,-1,1)),Math.asin(Kt(_/k,-1,1))-Math.asin(Kt(ee/k,-1,1)))),h=Math.max(c,Math.min(d,h))),this.labelRotation=h}afterCalculateLabelRotation(){co(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){co(this.options.beforeFit,[this])}fit(){const a={width:0,height:0},{chart:e,options:{ticks:i,title:c,grid:d}}=this,h=this._isVisible(),p=this.isHorizontal();if(h){const _=Zl(c,e.options.font);if(p?(a.width=this.maxWidth,a.height=bc(d)+_):(a.height=this.maxHeight,a.width=bc(d)+_),i.display&&this.ticks.length){const{first:k,last:I,widest:z,highest:ee}=this._getLabelSizes(),ie=2*i.padding,Me=xe(this.labelRotation),we=Math.cos(Me),Ee=Math.sin(Me);p?a.height=Math.min(this.maxHeight,a.height+(i.mirror?0:Ee*z.width+we*ee.height)+ie):a.width=Math.min(this.maxWidth,a.width+(i.mirror?0:we*z.width+Ee*ee.height)+ie),this._calculatePadding(k,I,Ee,we)}}this._handleMargins(),p?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=a.height):(this.width=a.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(a,e,i,c){const{ticks:{align:d,padding:h},position:p}=this.options,_=0!==this.labelRotation,k="top"!==p&&"x"===this.axis;if(this.isHorizontal()){const I=this.getPixelForTick(0)-this.left,z=this.right-this.getPixelForTick(this.ticks.length-1);let ee=0,ie=0;_?k?(ee=c*a.width,ie=i*e.height):(ee=i*a.height,ie=c*e.width):"start"===d?ie=e.width:"end"===d?ee=a.width:"inner"!==d&&(ee=a.width/2,ie=e.width/2),this.paddingLeft=Math.max((ee-I+h)*this.width/(this.width-I),0),this.paddingRight=Math.max((ie-z+h)*this.width/(this.width-z),0)}else{let I=e.height/2,z=a.height/2;"start"===d?(I=0,z=a.height):"end"===d&&(I=e.height,z=0),this.paddingTop=I+h,this.paddingBottom=z+h}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){co(this.options.afterFit,[this])}isHorizontal(){const{axis:a,position:e}=this.options;return"top"===e||"bottom"===e||"x"===a}isFullSize(){return this.options.fullSize}_convertTicksToLabels(a){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(a),e=0,i=a.length;e<i;e++)Mn(a[e].label)&&(a.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let a=this._labelSizes;if(!a){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=uu(i,e)),this._labelSizes=a=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return a}_computeLabelSizes(a,e,i){const{ctx:c,_longestTextCache:d}=this,h=[],p=[],_=Math.floor(e/du(e,i));let z,ee,ie,Me,we,Ee,nt,ot,Tt,St,bt,k=0,I=0;for(z=0;z<e;z+=_){if(Me=a[z].label,we=this._resolveTickFontOptions(z),c.font=Ee=we.string,nt=d[Ee]=d[Ee]||{data:{},gc:[]},ot=we.lineHeight,Tt=St=0,Mn(Me)||io(Me)){if(io(Me))for(ee=0,ie=Me.length;ee<ie;++ee)bt=Me[ee],!Mn(bt)&&!io(bt)&&(Tt=Qe(c,nt.data,nt.gc,Tt,bt),St+=ot)}else Tt=Qe(c,nt.data,nt.gc,Tt,Me),St=ot;h.push(Tt),p.push(St),k=Math.max(Tt,k),I=Math.max(St,I)}!function zl(s,a){Kn(s,e=>{const i=e.gc,c=i.length/2;let d;if(c>a){for(d=0;d<c;++d)delete e.data[i[d]];i.splice(0,c)}})}(d,e);const At=h.indexOf(k),Jt=p.indexOf(I),Bt=nn=>({width:h[nn]||0,height:p[nn]||0});return{first:Bt(0),last:Bt(e-1),widest:Bt(At),highest:Bt(Jt),widths:h,heights:p}}getLabelForValue(a){return a}getPixelForValue(a,e){return NaN}getValueForPixel(a){}getPixelForTick(a){const e=this.ticks;return a<0||a>e.length-1?null:this.getPixelForValue(e[a].value)}getPixelForDecimal(a){this._reversePixels&&(a=1-a);const e=this._startPixel+a*this._length;return function Co(s){return Kt(s,-32768,32767)}(this._alignToPixels?Rt(this.chart,e,0):e)}getDecimalForPixel(a){const e=(a-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:a,max:e}=this;return a<0&&e<0?e:a>0&&e>0?a:0}getContext(a){const e=this.ticks||[];if(a>=0&&a<e.length){const i=e[a];return i.$context||(i.$context=function Cg(s,a,e){return xs(s,{tick:e,index:a,type:"tick"})}(this.getContext(),a,i))}return this.$context||(this.$context=function $l(s,a){return xs(s,{scale:a,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const a=this.options.ticks,e=xe(this.labelRotation),i=Math.abs(Math.cos(e)),c=Math.abs(Math.sin(e)),d=this._getLabelSizes(),h=a.autoSkipPadding||0,p=d?d.widest.width+h:0,_=d?d.highest.height+h:0;return this.isHorizontal()?_*i>p*c?p/i:_/c:_*c<p*i?_/i:p/c}_isVisible(){const a=this.options.display;return"auto"!==a?!!a:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(a){const e=this.axis,i=this.chart,c=this.options,{grid:d,position:h,border:p}=c,_=d.offset,k=this.isHorizontal(),z=this.ticks.length+(_?1:0),ee=bc(d),ie=[],Me=p.setContext(this.getContext()),we=Me.display?Me.width:0,Ee=we/2,nt=function(ri){return Rt(i,ri,we)};let ot,Tt,St,bt,At,Jt,Bt,nn,Wn,$n,to,ur;if("top"===h)ot=nt(this.bottom),Jt=this.bottom-ee,nn=ot-Ee,$n=nt(a.top)+Ee,ur=a.bottom;else if("bottom"===h)ot=nt(this.top),$n=a.top,ur=nt(a.bottom)-Ee,Jt=ot+Ee,nn=this.top+ee;else if("left"===h)ot=nt(this.right),At=this.right-ee,Bt=ot-Ee,Wn=nt(a.left)+Ee,to=a.right;else if("right"===h)ot=nt(this.left),Wn=a.left,to=nt(a.right)-Ee,At=ot+Ee,Bt=this.left+ee;else if("x"===e){if("center"===h)ot=nt((a.top+a.bottom)/2+.5);else if(In(h)){const ri=Object.keys(h)[0];ot=nt(this.chart.scales[ri].getPixelForValue(h[ri]))}$n=a.top,ur=a.bottom,Jt=ot+Ee,nn=Jt+ee}else if("y"===e){if("center"===h)ot=nt((a.left+a.right)/2);else if(In(h)){const ri=Object.keys(h)[0];ot=nt(this.chart.scales[ri].getPixelForValue(h[ri]))}At=ot-Ee,Bt=At-ee,Wn=a.left,to=a.right}const ns=bn(c.ticks.maxTicksLimit,z),Ro=Math.max(1,Math.ceil(z/ns));for(Tt=0;Tt<z;Tt+=Ro){const ri=this.getContext(Tt),ki=d.setContext(ri),Ti=p.setContext(ri),nr=ki.lineWidth,Ac=ki.color,fl=Ti.dash||[],Sc=Ti.dashOffset,Ic=ki.tickWidth,Da=ki.tickColor,Oa=ki.tickBorderDash||[],ta=ki.tickBorderDashOffset;St=_c(this,Tt,_),void 0!==St&&(bt=Rt(i,St,nr),k?At=Bt=Wn=to=bt:Jt=nn=$n=ur=bt,ie.push({tx1:At,ty1:Jt,tx2:Bt,ty2:nn,x1:Wn,y1:$n,x2:to,y2:ur,width:nr,color:Ac,borderDash:fl,borderDashOffset:Sc,tickWidth:Ic,tickColor:Da,tickBorderDash:Oa,tickBorderDashOffset:ta}))}return this._ticksLength=z,this._borderValue=ot,ie}_computeLabelItems(a){const e=this.axis,i=this.options,{position:c,ticks:d}=i,h=this.isHorizontal(),p=this.ticks,{align:_,crossAlign:k,padding:I,mirror:z}=d,ee=bc(i.grid),ie=ee+I,Me=z?-I:ie,we=-xe(this.labelRotation),Ee=[];let nt,ot,Tt,St,bt,At,Jt,Bt,nn,Wn,$n,to,ur="middle";if("top"===c)At=this.bottom-Me,Jt=this._getXAxisLabelAlignment();else if("bottom"===c)At=this.top+Me,Jt=this._getXAxisLabelAlignment();else if("left"===c){const Ro=this._getYAxisLabelAlignment(ee);Jt=Ro.textAlign,bt=Ro.x}else if("right"===c){const Ro=this._getYAxisLabelAlignment(ee);Jt=Ro.textAlign,bt=Ro.x}else if("x"===e){if("center"===c)At=(a.top+a.bottom)/2+ie;else if(In(c)){const Ro=Object.keys(c)[0];At=this.chart.scales[Ro].getPixelForValue(c[Ro])+ie}Jt=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===c)bt=(a.left+a.right)/2-ie;else if(In(c)){const Ro=Object.keys(c)[0];bt=this.chart.scales[Ro].getPixelForValue(c[Ro])}Jt=this._getYAxisLabelAlignment(ee).textAlign}"y"===e&&("start"===_?ur="top":"end"===_&&(ur="bottom"));const ns=this._getLabelSizes();for(nt=0,ot=p.length;nt<ot;++nt){Tt=p[nt],St=Tt.label;const Ro=d.setContext(this.getContext(nt));Bt=this.getPixelForTick(nt)+d.labelOffset,nn=this._resolveTickFontOptions(nt),Wn=nn.lineHeight,$n=io(St)?St.length:1;const ri=$n/2,ki=Ro.color,Ti=Ro.textStrokeColor,nr=Ro.textStrokeWidth;let fl,Ac=Jt;if(h?(bt=Bt,"inner"===Jt&&(Ac=nt===ot-1?this.options.reverse?"left":"right":0===nt?this.options.reverse?"right":"left":"center"),to="top"===c?"near"===k||0!==we?-$n*Wn+Wn/2:"center"===k?-ns.highest.height/2-ri*Wn+Wn:Wn/2-ns.highest.height:"near"===k||0!==we?Wn/2:"center"===k?ns.highest.height/2-ri*Wn:ns.highest.height-$n*Wn,z&&(to*=-1),0!==we&&!Ro.showLabelBackdrop&&(bt+=Wn/2*Math.sin(we))):(At=Bt,to=(1-$n)*Wn/2),Ro.showLabelBackdrop){const Sc=wr(Ro.backdropPadding),Ic=ns.heights[nt],Da=ns.widths[nt];let Oa=to-Sc.top,ta=0-Sc.left;switch(ur){case"middle":Oa-=Ic/2;break;case"bottom":Oa-=Ic}switch(Jt){case"center":ta-=Da/2;break;case"right":ta-=Da;break;case"inner":nt===ot-1?ta-=Da:nt>0&&(ta-=Da/2)}fl={left:ta,top:Oa,width:Da+Sc.width,height:Ic+Sc.height,color:Ro.backdropColor}}Ee.push({label:St,font:nn,textOffset:to,options:{rotation:we,color:ki,strokeColor:Ti,strokeWidth:nr,textAlign:Ac,textBaseline:ur,translation:[bt,At],backdrop:fl}})}return Ee}_getXAxisLabelAlignment(){const{position:a,ticks:e}=this.options;if(-xe(this.labelRotation))return"top"===a?"left":"right";let c="center";return"start"===e.align?c="left":"end"===e.align?c="right":"inner"===e.align&&(c="inner"),c}_getYAxisLabelAlignment(a){const{position:e,ticks:{crossAlign:i,mirror:c,padding:d}}=this.options,p=a+d,_=this._getLabelSizes().widest.width;let k,I;return"left"===e?c?(I=this.right+d,"near"===i?k="left":"center"===i?(k="center",I+=_/2):(k="right",I+=_)):(I=this.right-p,"near"===i?k="right":"center"===i?(k="center",I-=_/2):(k="left",I=this.left)):"right"===e?c?(I=this.left+d,"near"===i?k="right":"center"===i?(k="center",I-=_/2):(k="left",I-=_)):(I=this.left+p,"near"===i?k="left":"center"===i?(k="center",I+=_/2):(k="right",I=this.right)):k="right",{textAlign:k,x:I}}_computeLabelArea(){if(this.options.ticks.mirror)return;const a=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:a.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:a.width}:void 0}drawBackground(){const{ctx:a,options:{backgroundColor:e},left:i,top:c,width:d,height:h}=this;e&&(a.save(),a.fillStyle=e,a.fillRect(i,c,d,h),a.restore())}getLineWidthForValue(a){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const c=this.ticks.findIndex(d=>d.value===a);return c>=0?e.setContext(this.getContext(c)).lineWidth:0}drawGrid(a){const e=this.options.grid,i=this.ctx,c=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(a));let d,h;const p=(_,k,I)=>{!I.width||!I.color||(i.save(),i.lineWidth=I.width,i.strokeStyle=I.color,i.setLineDash(I.borderDash||[]),i.lineDashOffset=I.borderDashOffset,i.beginPath(),i.moveTo(_.x,_.y),i.lineTo(k.x,k.y),i.stroke(),i.restore())};if(e.display)for(d=0,h=c.length;d<h;++d){const _=c[d];e.drawOnChartArea&&p({x:_.x1,y:_.y1},{x:_.x2,y:_.y2},_),e.drawTicks&&p({x:_.tx1,y:_.ty1},{x:_.tx2,y:_.ty2},{color:_.tickColor,width:_.tickWidth,borderDash:_.tickBorderDash,borderDashOffset:_.tickBorderDashOffset})}}drawBorder(){const{chart:a,ctx:e,options:{border:i,grid:c}}=this,d=i.setContext(this.getContext()),h=i.display?d.width:0;if(!h)return;const p=c.setContext(this.getContext(0)).lineWidth,_=this._borderValue;let k,I,z,ee;this.isHorizontal()?(k=Rt(a,this.left,h)-h/2,I=Rt(a,this.right,p)+p/2,z=ee=_):(z=Rt(a,this.top,h)-h/2,ee=Rt(a,this.bottom,p)+p/2,k=I=_),e.save(),e.lineWidth=d.width,e.strokeStyle=d.color,e.beginPath(),e.moveTo(k,z),e.lineTo(I,ee),e.stroke(),e.restore()}drawLabels(a){if(!this.options.ticks.display)return;const i=this.ctx,c=this._computeLabelArea();c&&hs(i,c);const d=this.getLabelItems(a);for(const h of d)ua(i,h.label,0,h.textOffset,h.font,h.options);c&&Fs(i)}drawTitle(){const{ctx:a,options:{position:e,title:i,reverse:c}}=this;if(!i.display)return;const d=Zi(i.font),h=wr(i.padding),p=i.align;let _=d.lineHeight/2;"bottom"===e||"center"===e||In(e)?(_+=h.bottom,io(i.text)&&(_+=d.lineHeight*(i.text.length-1))):_+=h.top;const{titleX:k,titleY:I,maxWidth:z,rotation:ee}=function wg(s,a,e,i){const{top:c,left:d,bottom:h,right:p,chart:_}=s,{chartArea:k,scales:I}=_;let ee,ie,Me,z=0;const we=h-c,Ee=p-d;if(s.isHorizontal()){if(ie=Oi(i,d,p),In(e)){const nt=Object.keys(e)[0];Me=I[nt].getPixelForValue(e[nt])+we-a}else Me="center"===e?(k.bottom+k.top)/2+we-a:lu(s,e,a);ee=p-d}else{if(In(e)){const nt=Object.keys(e)[0];ie=I[nt].getPixelForValue(e[nt])-Ee+a}else ie="center"===e?(k.left+k.right)/2-Ee+a:lu(s,e,a);Me=Oi(i,h,c),z="left"===e?-Jn:Jn}return{titleX:ie,titleY:Me,maxWidth:ee,rotation:z}}(this,_,e,p);ua(a,i.text,0,0,d,{color:i.color,maxWidth:z,rotation:ee,textAlign:Mg(p,e,c),textBaseline:"middle",translation:[k,I]})}draw(a){this._isVisible()&&(this.drawBackground(),this.drawGrid(a),this.drawBorder(),this.drawTitle(),this.drawLabels(a))}_layers(){const a=this.options,e=a.ticks&&a.ticks.z||0,i=bn(a.grid&&a.grid.z,-1),c=bn(a.border&&a.border.z,0);return this._isVisible()&&this.draw===Ga.prototype.draw?[{z:i,draw:d=>{this.drawBackground(),this.drawGrid(d),this.drawTitle()}},{z:c,draw:()=>{this.drawBorder()}},{z:e,draw:d=>{this.drawLabels(d)}}]:[{z:e,draw:d=>{this.draw(d)}}]}getMatchingVisibleMetas(a){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",c=[];let d,h;for(d=0,h=e.length;d<h;++d){const p=e[d];p[i]===this.id&&(!a||p.type===a)&&c.push(p)}return c}_resolveTickFontOptions(a){return Zi(this.options.ticks.setContext(this.getContext(a)).font)}_maxDigits(){const a=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/a}}class Gl{constructor(a,e,i){this.type=a,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(a){return Object.prototype.isPrototypeOf.call(this.type.prototype,a.prototype)}register(a){const e=Object.getPrototypeOf(a);let i;(function Wl(s){return"id"in s&&"defaults"in s})(e)&&(i=this.register(e));const c=this.items,d=a.id,h=this.scope+"."+d;if(!d)throw new Error("class does not have id: "+a);return d in c||(c[d]=a,function kg(s,a,e){const i=Vr(Object.create(null),[e?W.get(e):{},W.get(a),s.defaults]);W.set(a,i),s.defaultRoutes&&function Jh(s,a){Object.keys(a).forEach(e=>{const i=e.split("."),c=i.pop(),d=[s].concat(i).join("."),h=a[e].split("."),p=h.pop(),_=h.join(".");W.route(d,c,_,p)})}(a,s.defaultRoutes),s.descriptors&&W.describe(a,s.descriptors)}(a,h,i),this.override&&W.override(a.id,a.overrides)),h}get(a){return this.items[a]}unregister(a){const e=this.items,i=a.id,c=this.scope;i in e&&delete e[i],c&&i in W[c]&&(delete W[c][i],this.override&&delete v[i])}}class hu{constructor(){this.controllers=new Gl(ga,"datasets",!0),this.elements=new Gl(Us,"elements"),this.plugins=new Gl(Object,"plugins"),this.scales=new Gl(Ga,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...a){this._each("register",a)}remove(...a){this._each("unregister",a)}addControllers(...a){this._each("register",a,this.controllers)}addElements(...a){this._each("register",a,this.elements)}addPlugins(...a){this._each("register",a,this.plugins)}addScales(...a){this._each("register",a,this.scales)}getController(a){return this._get(a,this.controllers,"controller")}getElement(a){return this._get(a,this.elements,"element")}getPlugin(a){return this._get(a,this.plugins,"plugin")}getScale(a){return this._get(a,this.scales,"scale")}removeControllers(...a){this._each("unregister",a,this.controllers)}removeElements(...a){this._each("unregister",a,this.elements)}removePlugins(...a){this._each("unregister",a,this.plugins)}removeScales(...a){this._each("unregister",a,this.scales)}_each(a,e,i){[...e].forEach(c=>{const d=i||this._getRegistryForType(c);i||d.isForType(c)||d===this.plugins&&c.id?this._exec(a,d,c):Kn(c,h=>{const p=i||this._getRegistryForType(h);this._exec(a,p,h)})})}_exec(a,e,i){const c=ut(a);co(i["before"+c],[],i),e[a](i),co(i["after"+c],[],i)}_getRegistryForType(a){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(a))return i}return this.plugins}_get(a,e,i){const c=e.get(a);if(void 0===c)throw new Error('"'+a+'" is not a registered '+i+".");return c}}var fs=new hu;class Eg{constructor(){this._init=[]}notify(a,e,i,c){"beforeInit"===e&&(this._init=this._createDescriptors(a,!0),this._notify(this._init,a,"install"));const d=c?this._descriptors(a).filter(c):this._descriptors(a),h=this._notify(d,a,e,i);return"afterDestroy"===e&&(this._notify(d,a,"stop"),this._notify(this._init,a,"uninstall")),h}_notify(a,e,i,c){c=c||{};for(const d of a){const h=d.plugin;if(!1===co(h[i],[e,c,d.options],h)&&c.cancelable)return!1}return!0}invalidate(){Mn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(a){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(a);return this._notifyStateChanges(a),e}_createDescriptors(a,e){const i=a&&a.config,c=bn(i.options&&i.options.plugins,{}),d=function Dg(s){const a={},e=[],i=Object.keys(fs.plugins.items);for(let d=0;d<i.length;d++)e.push(fs.getPlugin(i[d]));const c=s.plugins||[];for(let d=0;d<c.length;d++){const h=c[d];-1===e.indexOf(h)&&(e.push(h),a[h.id]=!0)}return{plugins:e,localIds:a}}(i);return!1!==c||e?function Qh(s,{plugins:a,localIds:e},i,c){const d=[],h=s.getContext();for(const p of a){const _=p.id,k=fu(i[_],c);null!==k&&d.push({plugin:p,options:Wa(s.config,{plugin:p,local:e[_]},k,h)})}return d}(a,d,c,e):[]}_notifyStateChanges(a){const e=this._oldCache||[],i=this._cache,c=(d,h)=>d.filter(p=>!h.some(_=>p.plugin.id===_.plugin.id));this._notify(c(e,i),a,"stop"),this._notify(c(i,e),a,"start")}}function fu(s,a){return a||!1!==s?!0===s?{}:s:null}function Wa(s,{plugin:a,local:e},i,c){const d=s.pluginScopeKeys(a),h=s.getOptionScopes(i,d);return e&&a.defaults&&h.push(a.defaults),s.createResolver(h,c,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ql(s,a){return((a.datasets||{})[s]||{}).indexAxis||a.indexAxis||(W.datasets[s]||{}).indexAxis||"x"}function Tg(s){if("x"===s||"y"===s||"r"===s)return s}function Yl(s){return"top"===s||"bottom"===s?"x":"left"===s||"right"===s?"y":void 0}function pu(s,...a){if(Tg(s))return s;for(const e of a){const i=e.axis||Yl(e.position)||s.length>1&&Tg(s[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function gu(s,a,e){if(e[a+"AxisID"]===s)return{axis:a}}function Kl(s){const a=s.options||(s.options={});a.plugins=bn(a.plugins,{}),a.scales=function tf(s,a){const e=v[s.type]||{scales:{}},i=a.scales||{},c=ql(s.type,a),d=Object.create(null);return Object.keys(i).forEach(h=>{const p=i[h];if(!In(p))return console.error(`Invalid scale configuration for scale: ${h}`);if(p._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${h}`);const _=pu(h,p,function ef(s,a){if(a.data&&a.data.datasets){const e=a.data.datasets.filter(i=>i.xAxisID===s||i.yAxisID===s);if(e.length)return gu(s,"x",e[0])||gu(s,"y",e[0])}return{}}(h,s),W.scales[p.type]),k=function Og(s,a){return s===a?"_index_":"_value_"}(_,c),I=e.scales||{};d[h]=ys(Object.create(null),[{axis:_},p,I[_],I[k]])}),s.data.datasets.forEach(h=>{const p=h.type||s.type,_=h.indexAxis||ql(p,a),I=(v[p]||{}).scales||{};Object.keys(I).forEach(z=>{const ee=function Xh(s,a){let e=s;return"_index_"===s?e=a:"_value_"===s&&(e="x"===a?"y":"x"),e}(z,_),ie=h[ee+"AxisID"]||ee;d[ie]=d[ie]||Object.create(null),ys(d[ie],[{axis:ee},i[ie],I[z]])})}),Object.keys(d).forEach(h=>{const p=d[h];ys(p,[W.scales[p.type],W.scale])}),d}(s,a)}function mu(s){return(s=s||{}).datasets=s.datasets||[],s.labels=s.labels||[],s}const vc=new Map,_u=new Set;function yc(s,a){let e=vc.get(s);return e||(e=a(),vc.set(s,e),_u.add(e)),e}const ba=(s,a,e)=>{const i=Ge(a,e);void 0!==i&&s.add(i)};class nf{constructor(a){this._config=function Jl(s){return(s=s||{}).data=mu(s.data),Kl(s),s}(a),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(a){this._config.type=a}get data(){return this._config.data}set data(a){this._config.data=mu(a)}get options(){return this._config.options}set options(a){this._config.options=a}get plugins(){return this._config.plugins}update(){const a=this._config;this.clearCache(),Kl(a)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(a){return yc(a,()=>[[`datasets.${a}`,""]])}datasetAnimationScopeKeys(a,e){return yc(`${a}.transition.${e}`,()=>[[`datasets.${a}.transitions.${e}`,`transitions.${e}`],[`datasets.${a}`,""]])}datasetElementScopeKeys(a,e){return yc(`${a}-${e}`,()=>[[`datasets.${a}.elements.${e}`,`datasets.${a}`,`elements.${e}`,""]])}pluginScopeKeys(a){const e=a.id;return yc(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...a.additionalOptionScopes||[]]])}_cachedScopes(a,e){const i=this._scopeCache;let c=i.get(a);return(!c||e)&&(c=new Map,i.set(a,c)),c}getOptionScopes(a,e,i){const{options:c,type:d}=this,h=this._cachedScopes(a,i),p=h.get(e);if(p)return p;const _=new Set;e.forEach(I=>{a&&(_.add(a),I.forEach(z=>ba(_,a,z))),I.forEach(z=>ba(_,c,z)),I.forEach(z=>ba(_,v[d]||{},z)),I.forEach(z=>ba(_,W,z)),I.forEach(z=>ba(_,w,z))});const k=Array.from(_);return 0===k.length&&k.push(Object.create(null)),_u.has(e)&&h.set(e,k),k}chartOptionScopes(){const{options:a,type:e}=this;return[a,v[e]||{},W.datasets[e]||{},{type:e},W,w]}resolveNamedOptions(a,e,i,c=[""]){const d={$shared:!0},{resolver:h,subPrefixes:p}=Ql(this._resolverCache,a,c);let _=h;(function Pg(s,a){const{isScriptable:e,isIndexable:i}=Nc(s);for(const c of a){const d=e(c),h=i(c),p=(h||d)&&s[c];if(d&&(Rn(p)||Yc(p))||h&&io(p))return!0}return!1})(h,e)&&(d.$shared=!1,_=rc(h,i=Rn(i)?i():i,this.createResolver(a,i,p)));for(const k of e)d[k]=_[k];return d}createResolver(a,e,i=[""],c){const{resolver:d}=Ql(this._resolverCache,a,i);return In(e)?rc(d,e,void 0,c):d}}function Ql(s,a,e){let i=s.get(a);i||(i=new Map,s.set(a,i));const c=e.join();let d=i.get(c);return d||(d={resolver:Ls(a,e),subPrefixes:e.filter(p=>!p.toLowerCase().includes("hover"))},i.set(c,d)),d}const Yc=s=>In(s)&&Object.getOwnPropertyNames(s).some(a=>Rn(s[a])),Ag=["top","bottom","left","right","chartArea"];function sf(s,a){return"top"===s||"bottom"===s||-1===Ag.indexOf(s)&&"x"===a}function af(s,a){return function(e,i){return e[s]===i[s]?e[a]-i[a]:e[s]-i[s]}}function bu(s){const a=s.chart,e=a.options.animation;a.notifyPlugins("afterRender"),co(e&&e.onComplete,[s],a)}function cf(s){const a=s.chart,e=a.options.animation;co(e&&e.onProgress,[s],a)}function Kc(s){return Zd()&&"string"==typeof s?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const xc={},qa=s=>{const a=Kc(s);return Object.values(xc).filter(e=>e.canvas===a).pop()};function Sg(s,a,e){const i=Object.keys(s);for(const c of i){const d=+c;if(d>=a){const h=s[c];delete s[c],(e>0||d>a)&&(s[d+e]=h)}}}let lf=(()=>class s{static defaults=W;static instances=xc;static overrides=v;static registry=fs;static version="4.4.9";static getChart=qa;static register(...e){fs.add(...e),df()}static unregister(...e){fs.remove(...e),df()}constructor(e,i){const c=this.config=new nf(i),d=Kc(e),h=qa(d);if(h)throw new Error("Canvas is already in use. Chart with ID '"+h.id+"' must be destroyed before the canvas with ID '"+h.canvas.id+"' can be reused.");const p=c.createResolver(c.chartOptionScopes(),this.getContext());this.platform=new(c.platform||function mg(s){return!Zd()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?dg:Kh}(d)),this.platform.updateConfig(c);const _=this.platform.acquireContext(d,p.aspectRatio),k=_&&_.canvas,I=k&&k.height,z=k&&k.width;this.id=Ss(),this.ctx=_,this.canvas=k,this.width=z,this.height=I,this._options=p,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Eg,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function rn(s,a){let e;return function(...i){return a?(clearTimeout(e),e=setTimeout(s,a,i)):s.apply(this,i),a}}(ee=>this.update(ee),p.resizeDelay||0),this._dataChanges=[],xc[this.id]=this,_&&k?(Zr.listen(this,"complete",bu),Zr.listen(this,"progress",cf),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:c,height:d,_aspectRatio:h}=this;return Mn(e)?i&&h?h:d?c/d:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return fs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fa(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return mn(this.canvas,this.ctx),this}stop(){return Zr.stop(this),this}resize(e,i){Zr.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const c=this.options,p=this.platform.getMaximumSize(this.canvas,e,i,c.maintainAspectRatio&&this.aspectRatio),_=c.devicePixelRatio||this.platform.getDevicePixelRatio(),k=this.width?"resize":"attach";this.width=p.width,this.height=p.height,this._aspectRatio=this.aspectRatio,fa(this,_,!0)&&(this.notifyPlugins("resize",{size:p}),co(c.onResize,[this,p],this),this.attached&&this._doResize(k)&&this.render())}ensureScalesHaveIDs(){Kn(this.options.scales||{},(c,d)=>{c.id=d})}buildOrUpdateScales(){const e=this.options,i=e.scales,c=this.scales,d=Object.keys(c).reduce((p,_)=>(p[_]=!1,p),{});let h=[];i&&(h=h.concat(Object.keys(i).map(p=>{const _=i[p],k=pu(p,_),I="r"===k,z="x"===k;return{options:_,dposition:I?"chartArea":z?"bottom":"left",dtype:I?"radialLinear":z?"category":"linear"}}))),Kn(h,p=>{const _=p.options,k=_.id,I=pu(k,_),z=bn(_.type,p.dtype);(void 0===_.position||sf(_.position,I)!==sf(p.dposition))&&(_.position=p.dposition),d[k]=!0;let ee=null;k in c&&c[k].type===z?ee=c[k]:(ee=new(fs.getScale(z))({id:k,type:z,ctx:this.ctx,chart:this}),c[ee.id]=ee),ee.init(_,e)}),Kn(d,(p,_)=>{p||delete c[_]}),Kn(c,p=>{kr.configure(this,p,p.options),kr.addBox(this,p)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,c=e.length;if(e.sort((d,h)=>d.index-h.index),c>i){for(let d=i;d<c;++d)this._destroyDatasetMeta(d);e.splice(i,c-i)}this._sortedMetasets=e.slice(0).sort(af("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((c,d)=>{0===i.filter(h=>h===c._dataset).length&&this._destroyDatasetMeta(d)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let c,d;for(this._removeUnreferencedMetasets(),c=0,d=i.length;c<d;c++){const h=i[c];let p=this.getDatasetMeta(c);const _=h.type||this.config.type;if(p.type&&p.type!==_&&(this._destroyDatasetMeta(c),p=this.getDatasetMeta(c)),p.type=_,p.indexAxis=h.indexAxis||ql(_,this.options),p.order=h.order||0,p.index=c,p.label=""+h.label,p.visible=this.isDatasetVisible(c),p.controller)p.controller.updateIndex(c),p.controller.linkScales();else{const k=fs.getController(_),{datasetElementType:I,dataElementType:z}=W.datasets[_];Object.assign(k,{dataElementType:fs.getElement(z),datasetElementType:I&&fs.getElement(I)}),p.controller=new k(this,c),e.push(p.controller)}}return this._updateMetasets(),e}_resetElements(){Kn(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const c=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),d=this._animationsDisabled=!c.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const h=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let p=0;for(let I=0,z=this.data.datasets.length;I<z;I++){const{controller:ee}=this.getDatasetMeta(I),ie=!d&&-1===h.indexOf(ee);ee.buildOrUpdateElements(ie),p=Math.max(+ee.getMaxOverflow(),p)}p=this._minPadding=c.layout.autoPadding?p:0,this._updateLayout(p),d||Kn(h,I=>{I.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(af("z","_idx"));const{_active:_,_lastEvent:k}=this;k?this._eventHandler(k,!0):_.length&&this._updateHoverStyles(_,_,!0),this.render()}_updateScales(){Kn(this.scales,e=>{kr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),c=new Set(e.events);(!Xn(i,c)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:c,start:d,count:h}of i)Sg(e,d,"_removeElements"===c?-h:h)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,c=h=>new Set(e.filter(p=>p[0]===h).map((p,_)=>_+","+p.splice(1).join(","))),d=c(0);for(let h=1;h<i;h++)if(!Xn(d,c(h)))return;return Array.from(d).map(h=>h.split(",")).map(h=>({method:h[1],start:+h[2],count:+h[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;kr.update(this,this.width,this.height,e);const i=this.chartArea,c=i.width<=0||i.height<=0;this._layers=[],Kn(this.boxes,d=>{c&&"chartArea"===d.position||(d.configure&&d.configure(),this._layers.push(...d._layers()))},this),this._layers.forEach((d,h)=>{d._idx=h}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let i=0,c=this.data.datasets.length;i<c;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,c=this.data.datasets.length;i<c;++i)this._updateDataset(i,Rn(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const c=this.getDatasetMeta(e),d={meta:c,index:e,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",d)&&(c.controller._update(i),d.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",d))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Zr.has(this)?this.attached&&!Zr.running(this)&&Zr.start(this):(this.draw(),bu({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:c,height:d}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(c,d)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,c=[];let d,h;for(d=0,h=i.length;d<h;++d){const p=i[d];(!e||p.visible)&&c.push(p)}return c}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,c={meta:e,index:e.index,cancelable:!0},d=Yp(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",c)&&(d&&hs(i,d),e.controller.draw(),d&&Fs(i),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(e){return hi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,c,d){const h=rb.modes[i];return"function"==typeof h?h(this,e,c,d):[]}getDatasetMeta(e){const i=this.data.datasets[e],c=this._metasets;let d=c.filter(h=>h&&h._dataset===i).pop();return d||(d={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},c.push(d)),d}getContext(){return this.$context||(this.$context=xs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const c=this.getDatasetMeta(e);return"boolean"==typeof c.hidden?!c.hidden:!i.hidden}setDatasetVisibility(e,i){this.getDatasetMeta(e).hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,c){const d=c?"show":"hide",h=this.getDatasetMeta(e),p=h.controller._resolveAnimations(void 0,d);qt(i)?(h.data[i].hidden=!c,this.update()):(this.setDatasetVisibility(e,c),p.update(h,{visible:c}),this.update(_=>_.datasetIndex===e?d:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Zr.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),mn(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete xc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,c=(h,p)=>{i.addEventListener(this,h,p),e[h]=p},d=(h,p,_)=>{h.offsetX=p,h.offsetY=_,this._eventHandler(h)};Kn(this.options.events,h=>c(h,d))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,c=(k,I)=>{i.addEventListener(this,k,I),e[k]=I},d=(k,I)=>{e[k]&&(i.removeEventListener(this,k,I),delete e[k])},h=(k,I)=>{this.canvas&&this.resize(k,I)};let p;const _=()=>{d("attach",_),this.attached=!0,this.resize(),c("resize",h),c("detach",p)};p=()=>{this.attached=!1,d("resize",h),this._stop(),this._resize(0,0),c("attach",_)},i.isAttached(this.canvas)?_():p()}unbindEvents(){Kn(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Kn(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,c){const d=c?"set":"remove";let h,p,_,k;for("dataset"===i&&(h=this.getDatasetMeta(e[0].datasetIndex),h.controller["_"+d+"DatasetHoverStyle"]()),_=0,k=e.length;_<k;++_){p=e[_];const I=p&&this.getDatasetMeta(p.datasetIndex).controller;I&&I[d+"HoverStyle"](p.element,p.datasetIndex,p.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],c=e.map(({datasetIndex:h,index:p})=>{const _=this.getDatasetMeta(h);if(!_)throw new Error("No dataset found at index "+h);return{datasetIndex:h,element:_.data[p],index:p}});!cr(c,i)&&(this._active=c,this._lastEvent=null,this._updateHoverStyles(c,i))}notifyPlugins(e,i,c){return this._plugins.notify(this,e,i,c)}isPluginEnabled(e){return 1===this._plugins._cache.filter(i=>i.plugin.id===e).length}_updateHoverStyles(e,i,c){const d=this.options.hover,h=(k,I)=>k.filter(z=>!I.some(ee=>z.datasetIndex===ee.datasetIndex&&z.index===ee.index)),p=h(i,e),_=c?e:h(e,i);p.length&&this.updateHoverStyle(p,d.mode,!1),_.length&&d.mode&&this.updateHoverStyle(_,d.mode,!0)}_eventHandler(e,i){const c={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},d=p=>(p.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",c,d))return;const h=this._handleEvent(e,i,c.inChartArea);return c.cancelable=!1,this.notifyPlugins("afterEvent",c,d),(h||c.changed)&&this.render(),this}_handleEvent(e,i,c){const{_active:d=[],options:h}=this,_=this._getActiveElements(e,d,c,i),k=function eo(s){return"mouseup"===s.type||"click"===s.type||"contextmenu"===s.type}(e),I=function Ig(s,a,e,i){return e&&"mouseout"!==s.type?i?a:s:null}(e,this._lastEvent,c,k);c&&(this._lastEvent=null,co(h.onHover,[e,_,this],this),k&&co(h.onClick,[e,_,this],this));const z=!cr(_,d);return(z||i)&&(this._active=_,this._updateHoverStyles(_,d,i)),this._lastEvent=I,z}_getActiveElements(e,i,c,d){if("mouseout"===e.type)return[];if(!c)return i;const h=this.options.hover;return this.getElementsAtEventForMode(e,h.mode,h,d)}})();function df(){return Kn(lf.instances,s=>s._plugins.invalidate())}function ea(s,a,e,i){return{x:e+s*Math.cos(a),y:i+s*Math.sin(a)}}function Mc(s,a,e,i,c,d){const{x:h,y:p,startAngle:_,pixelMargin:k,innerRadius:I}=a,z=Math.max(a.outerRadius+i+e-k,0),ee=I>0?I+i+e+k:0;let ie=0;const Me=c-_;if(i){const ki=((I>0?I-i:0)+(z>0?z-i:0))/2;ie=(Me-(0!==ki?Me*ki/(ki+i):Me))/2}const Ee=(Me-Math.max(.001,Me*z-e/Yt)/z)/2,nt=_+Ee+ie,ot=c-Ee-ie,{outerStart:Tt,outerEnd:St,innerStart:bt,innerEnd:At}=function Cc(s,a,e,i){const c=function Rg(s){return ti(s,["outerStart","outerEnd","innerStart","innerEnd"])}(s.options.borderRadius),d=(e-a)/2,h=Math.min(d,i*a/2),p=_=>{const k=(e-Math.min(d,_))*i/2;return Kt(_,0,Math.min(d,k))};return{outerStart:p(c.outerStart),outerEnd:p(c.outerEnd),innerStart:Kt(c.innerStart,0,h),innerEnd:Kt(c.innerEnd,0,h)}}(a,ee,z,ot-nt),Jt=z-Tt,Bt=z-St,nn=nt+Tt/Jt,Wn=ot-St/Bt,$n=ee+bt,to=ee+At,ur=nt+bt/$n,ns=ot-At/to;if(s.beginPath(),d){const Ro=(nn+Wn)/2;if(s.arc(h,p,z,nn,Ro),s.arc(h,p,z,Ro,Wn),St>0){const nr=ea(Bt,Wn,h,p);s.arc(nr.x,nr.y,St,Wn,ot+Jn)}const ri=ea(to,ot,h,p);if(s.lineTo(ri.x,ri.y),At>0){const nr=ea(to,ns,h,p);s.arc(nr.x,nr.y,At,ot+Jn,ns+Math.PI)}const ki=(ot-At/ee+(nt+bt/ee))/2;if(s.arc(h,p,ee,ot-At/ee,ki,!0),s.arc(h,p,ee,ki,nt+bt/ee,!0),bt>0){const nr=ea($n,ur,h,p);s.arc(nr.x,nr.y,bt,ur+Math.PI,nt-Jn)}const Ti=ea(Jt,nt,h,p);if(s.lineTo(Ti.x,Ti.y),Tt>0){const nr=ea(Jt,nn,h,p);s.arc(nr.x,nr.y,Tt,nt-Jn,nn)}}else{s.moveTo(h,p);const Ro=Math.cos(nn)*z+h,ri=Math.sin(nn)*z+p;s.lineTo(Ro,ri);const ki=Math.cos(Wn)*z+h,Ti=Math.sin(Wn)*z+p;s.lineTo(ki,Ti)}s.closePath()}function va(s,a,e=a){s.lineCap=bn(e.borderCapStyle,a.borderCapStyle),s.setLineDash(bn(e.borderDash,a.borderDash)),s.lineDashOffset=bn(e.borderDashOffset,a.borderDashOffset),s.lineJoin=bn(e.borderJoinStyle,a.borderJoinStyle),s.lineWidth=bn(e.borderWidth,a.borderWidth),s.strokeStyle=bn(e.borderColor,a.borderColor)}function Fg(s,a,e){s.lineTo(e.x,e.y)}function pf(s,a,e={}){const i=s.length,{start:c=0,end:d=i-1}=e,{start:h,end:p}=a,_=Math.max(c,h),k=Math.min(d,p);return{count:i,start:_,loop:a.loop,ilen:k<_&&!(c<h&&d<h||c>p&&d>p)?i+k-_:k-_}}function Lg(s,a,e,i){const{points:c,options:d}=a,{count:h,start:p,loop:_,ilen:k}=pf(c,e,i),I=function Ng(s){return s.stepped?oc:s.tension||"monotone"===s.cubicInterpolationMode?Ns:Fg}(d);let ie,Me,we,{move:z=!0,reverse:ee}=i||{};for(ie=0;ie<=k;++ie)Me=c[(p+(ee?k-ie:ie))%h],!Me.skip&&(z?(s.moveTo(Me.x,Me.y),z=!1):I(s,we,Me,ee,d.stepped),we=Me);return _&&(Me=c[(p+(ee?k:0))%h],I(s,we,Me,ee,d.stepped)),!!_}function Bg(s,a,e,i){const c=a.points,{count:d,start:h,ilen:p}=pf(c,e,i),{move:_=!0,reverse:k}=i||{};let ee,ie,Me,we,Ee,nt,I=0,z=0;const ot=St=>(h+(k?p-St:St))%d,Tt=()=>{we!==Ee&&(s.lineTo(I,Ee),s.lineTo(I,we),s.lineTo(I,nt))};for(_&&(ie=c[ot(0)],s.moveTo(ie.x,ie.y)),ee=0;ee<=p;++ee){if(ie=c[ot(ee)],ie.skip)continue;const St=ie.x,bt=ie.y,At=0|St;At===Me?(bt<we?we=bt:bt>Ee&&(Ee=bt),I=(z*I+St)/++z):(Tt(),s.lineTo(St,bt),Me=At,z=0,we=Ee=bt),nt=bt}Tt()}function Cs(s){const a=s.options;return s._decimated||s._loop||a.tension||"monotone"===a.cubicInterpolationMode||a.stepped||a.borderDash&&a.borderDash.length?Lg:Bg}const Vg="function"==typeof Path2D;let Xl=(()=>class s extends Us{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const c=this.options;!c.tension&&"monotone"!==c.cubicInterpolationMode||c.stepped||this._pointsUpdated||(Bs(this._points,c,e,c.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function hc(s,a){const e=s.points,i=s.options.spanGaps,c=e.length;if(!c)return[];const d=!!s._loop,{start:h,end:p}=function wh(s,a,e,i){let c=0,d=a-1;if(e&&!i)for(;c<a&&!s[c].skip;)c++;for(;c<a&&s[c].skip;)c++;for(c%=a,e&&(d+=c);d>c&&s[d%a].skip;)d--;return d%=a,{start:c,end:d}}(e,c,d,i);return function Gp(s,a,e,i){return i&&i.setContext&&e?function Wp(s,a,e,i){const c=s._chart.getContext(),d=qp(s.options),{_datasetIndex:h,options:{spanGaps:p}}=s,_=e.length,k=[];let I=d,z=a[0].start,ee=z;function ie(Me,we,Ee,nt){const ot=p?-1:1;if(Me!==we){for(Me+=_;e[Me%_].skip;)Me-=ot;for(;e[we%_].skip;)we+=ot;Me%_!=we%_&&(k.push({start:Me%_,end:we%_,loop:Ee,style:nt}),I=nt,z=we%_)}}for(const Me of a){z=p?z:Me.start;let Ee,we=e[z%_];for(ee=z+1;ee<=Me.end;ee++){const nt=e[ee%_];Ee=qp(i.setContext(xs(c,{type:"segment",p0:we,p1:nt,p0DataIndex:(ee-1)%_,p1DataIndex:ee%_,datasetIndex:h}))),Y_(Ee,I)&&ie(z,ee-1,Me.loop,I),we=nt,I=Ee}z<ee-1&&ie(z,ee-1,Me.loop,I)}return k}(s,a,e,i):a}(s,!0===i?[{start:h,end:p,loop:d}]:function qd(s,a,e,i){const c=s.length,d=[];let _,h=a,p=s[a];for(_=a+1;_<=e;++_){const k=s[_%c];k.skip||k.stop?p.skip||(d.push({start:a%c,end:(_-1)%c,loop:i=!1}),a=h=k.stop?_:null):(h=_,p.skip&&(a=_)),p=k}return null!==h&&d.push({start:a%c,end:h%c,loop:i}),d}(e,h,p<h?p+c:p,!!s._fullLoop&&0===h&&p===c-1),e,a)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,c=e.length;return c&&this.points[e[c-1].end]}interpolate(e,i){const c=this.options,d=e[i],h=this.points,p=ja(this,{property:i,start:d,end:d});if(!p.length)return;const _=[],k=function wc(s){return s.stepped?Vc:s.tension||"monotone"===s.cubicInterpolationMode?Zp:pa}(c);let I,z;for(I=0,z=p.length;I<z;++I){const{start:ee,end:ie}=p[I],Me=h[ee],we=h[ie];if(Me===we){_.push(Me);continue}const nt=k(Me,we,Math.abs((d-Me[i])/(we[i]-Me[i])),c.stepped);nt[i]=e[i],_.push(nt)}return 1===_.length?_[0]:_}pathSegment(e,i,c){return Cs(this)(e,this,i,c)}path(e,i,c){const d=this.segments,h=Cs(this);let p=this._loop;i=i||0,c=c||this.points.length-i;for(const _ of d)p&=h(e,this,_,{start:i,end:i+c-1});return!!p}draw(e,i,c,d){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function Hg(s,a,e,i){Vg&&!a.options.segment?function Ug(s,a,e,i){let c=a._path;c||(c=a._path=new Path2D,a.path(c,e,i)&&c.closePath()),va(s,a.options),s.stroke(c)}(s,a,e,i):function jg(s,a,e,i){const{segments:c,options:d}=a,h=Cs(a);for(const p of c)va(s,d,p.style),s.beginPath(),h(s,a,p,{start:e,end:e+i-1})&&s.closePath(),s.stroke()}(s,a,e,i)}(e,this,c,d),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function gf(s,a,e,i){const c=s.options,{[e]:d}=s.getProps([e],i);return Math.abs(a-d)<c.radius+c.hitRadius}let mf=(()=>class s extends Us{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,c){const d=this.options,{x:h,y:p}=this.getProps(["x","y"],c);return Math.pow(e-h,2)+Math.pow(i-p,2)<Math.pow(d.hitRadius+d.radius,2)}inXRange(e,i){return gf(this,e,"x",i)}inYRange(e,i){return gf(this,e,"y",i)}getCenterPoint(e){const{x:i,y:c}=this.getProps(["x","y"],e);return{x:i,y:c}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const c=this.options;this.skip||c.radius<.1||!hi(this,i,this.size(c)/2)||(e.strokeStyle=c.borderColor,e.lineWidth=c.borderWidth,e.fillStyle=c.backgroundColor,lo(e,c,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}})();function _f(s,a){const{x:e,y:i,base:c,width:d,height:h}=s.getProps(["x","y","base","width","height"],a);let p,_,k,I,z;return s.horizontal?(z=h/2,p=Math.min(e,c),_=Math.max(e,c),k=i-z,I=i+z):(z=d/2,p=e-z,_=e+z,k=Math.min(i,c),I=Math.max(i,c)),{left:p,top:k,right:_,bottom:I}}function ya(s,a,e,i){return s?0:Kt(a,e,i)}function Ms(s,a,e,i){const c=null===a,d=null===e,p=s&&!(c&&d)&&_f(s,i);return p&&(c||Qn(a,p.left,p.right))&&(d||Qn(e,p.top,p.bottom))}function bf(s,a){s.rect(a.x,a.y,a.w,a.h)}function td(s,a,e={}){const i=s.x!==e.x?-a:0,c=s.y!==e.y?-a:0;return{x:s.x+i,y:s.y+c,w:s.w+((s.x+s.w!==e.x+e.w?a:0)-i),h:s.h+((s.y+s.h!==e.y+e.h?a:0)-c),radius:s.radius}}var sb=Object.freeze({__proto__:null,ArcElement:class ff extends Us{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:a=>"borderDash"!==a};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(a){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,a&&Object.assign(this,a)}inRange(a,e,i){const c=this.getProps(["x","y"],i),{angle:d,distance:h}=Lt(c,{x:a,y:e}),{startAngle:p,endAngle:_,innerRadius:k,outerRadius:I,circumference:z}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),ee=(this.options.spacing+this.options.borderWidth)/2,ie=bn(z,_-p),Me=Ht(d,p,_)&&p!==_,we=ie>=yn||Me,Ee=Qn(h,k+ee,I+ee);return we&&Ee}getCenterPoint(a){const{x:e,y:i,startAngle:c,endAngle:d,innerRadius:h,outerRadius:p}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],a),{offset:_,spacing:k}=this.options,I=(c+d)/2,z=(h+p+k+_)/2;return{x:e+Math.cos(I)*z,y:i+Math.sin(I)*z}}tooltipPosition(a){return this.getCenterPoint(a)}draw(a){const{options:e,circumference:i}=this,c=(e.offset||0)/4,d=(e.spacing||0)/2,h=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>yn?Math.floor(i/yn):0,0===i||this.innerRadius<0||this.outerRadius<0)return;a.save();const p=(this.startAngle+this.endAngle)/2;a.translate(Math.cos(p)*c,Math.sin(p)*c);const k=c*(1-Math.sin(Math.min(Yt,i||0)));a.fillStyle=e.backgroundColor,a.strokeStyle=e.borderColor,function uf(s,a,e,i,c){const{fullCircles:d,startAngle:h,circumference:p}=a;let _=a.endAngle;if(d){Mc(s,a,e,i,_,c);for(let k=0;k<d;++k)s.fill();isNaN(p)||(_=h+(p%yn||yn))}Mc(s,a,e,i,_,c),s.fill()}(a,this,k,d,h),function hf(s,a,e,i,c){const{fullCircles:d,startAngle:h,circumference:p,options:_}=a,{borderWidth:k,borderJoinStyle:I,borderDash:z,borderDashOffset:ee}=_,ie="inner"===_.borderAlign;if(!k)return;s.setLineDash(z||[]),s.lineDashOffset=ee,ie?(s.lineWidth=2*k,s.lineJoin=I||"round"):(s.lineWidth=k,s.lineJoin=I||"bevel");let Me=a.endAngle;if(d){Mc(s,a,e,i,Me,c);for(let we=0;we<d;++we)s.stroke();isNaN(p)||(Me=h+(p%yn||yn))}ie&&function vu(s,a,e){const{startAngle:i,pixelMargin:c,x:d,y:h,outerRadius:p,innerRadius:_}=a;let k=c/p;s.beginPath(),s.arc(d,h,p,i-k,e+k),_>c?(k=c/_,s.arc(d,h,_,e+k,i-k,!0)):s.arc(d,h,c,e+Jn,i-Jn),s.closePath(),s.clip()}(s,a,Me),d||(Mc(s,a,e,i,Me,c),s.stroke())}(a,this,k,d,h),a.restore()}},BarElement:class vf extends Us{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(a){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,a&&Object.assign(this,a)}draw(a){const{inflateAmount:e,options:{borderColor:i,backgroundColor:c}}=this,{inner:d,outer:h}=function ed(s){const a=_f(s),e=a.right-a.left,i=a.bottom-a.top,c=function zg(s,a,e){const c=s.borderSkipped,d=fh(s.options.borderWidth);return{t:ya(c.top,d.top,0,e),r:ya(c.right,d.right,0,a),b:ya(c.bottom,d.bottom,0,e),l:ya(c.left,d.left,0,a)}}(s,e/2,i/2),d=function Zg(s,a,e){const{enableBorderRadius:i}=s.getProps(["enableBorderRadius"]),c=s.options.borderRadius,d=Fa(c),h=Math.min(a,e),p=s.borderSkipped,_=i||In(c);return{topLeft:ya(!_||p.top||p.left,d.topLeft,0,h),topRight:ya(!_||p.top||p.right,d.topRight,0,h),bottomLeft:ya(!_||p.bottom||p.left,d.bottomLeft,0,h),bottomRight:ya(!_||p.bottom||p.right,d.bottomRight,0,h)}}(s,e/2,i/2);return{outer:{x:a.left,y:a.top,w:e,h:i,radius:d},inner:{x:a.left+c.l,y:a.top+c.t,w:e-c.l-c.r,h:i-c.t-c.b,radius:{topLeft:Math.max(0,d.topLeft-Math.max(c.t,c.l)),topRight:Math.max(0,d.topRight-Math.max(c.t,c.r)),bottomLeft:Math.max(0,d.bottomLeft-Math.max(c.b,c.l)),bottomRight:Math.max(0,d.bottomRight-Math.max(c.b,c.r))}}}}(this),p=function Jc(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}(h.radius)?Ia:bf;a.save(),(h.w!==d.w||h.h!==d.h)&&(a.beginPath(),p(a,td(h,e,d)),a.clip(),p(a,td(d,-e,h)),a.fillStyle=i,a.fill("evenodd")),a.beginPath(),p(a,td(d,e)),a.fillStyle=c,a.fill(),a.restore()}inRange(a,e,i){return Ms(this,a,e,i)}inXRange(a,e){return Ms(this,a,null,e)}inYRange(a,e){return Ms(this,null,a,e)}getCenterPoint(a){const{x:e,y:i,base:c,horizontal:d}=this.getProps(["x","y","base","horizontal"],a);return{x:d?(e+c)/2:e,y:d?i:(i+c)/2}}getRange(a){return"x"===a?this.width/2:this.height/2}},LineElement:Xl,PointElement:mf});const yf=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],$g=yf.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function nd(s){return yf[s%yf.length]}function od(s){return $g[s%$g.length]}function Cf(s){let a;for(a in s)if(s[a].borderColor||s[a].backgroundColor)return!0;return!1}var Mf={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,a,e){if(!e.enabled)return;const{data:{datasets:i},options:c}=s.config,{elements:d}=c,h=Cf(i)||function Wg(s){return s&&(s.borderColor||s.backgroundColor)}(c)||d&&Cf(d)||function qg(){return"rgba(0,0,0,0.1)"!==W.borderColor||"rgba(0,0,0,0.1)"!==W.backgroundColor}();if(!e.forceOverride&&h)return;const p=function Gg(s){let a=0;return(e,i)=>{const c=s.getDatasetMeta(i).controller;c instanceof Xd?a=function cb(s,a){return s.backgroundColor=s.data.map(()=>nd(a++)),a}(e,a):c instanceof Nh?a=function xf(s,a){return s.backgroundColor=s.data.map(()=>od(a++)),a}(e,a):c&&(a=function ab(s,a){return s.borderColor=nd(a),s.backgroundColor=od(a),++a}(e,a))}}(s);i.forEach(p)}};function rd(s){if(s._decimated){const a=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:a})}}function kf(s){s.data.datasets.forEach(a=>{rd(a)})}var Ef={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,a,e)=>{if(!e.enabled)return void kf(s);const i=s.width;s.data.datasets.forEach((c,d)=>{const{_data:h,indexAxis:p}=c,_=s.getDatasetMeta(d),k=h||c.data;if("y"===ic([p,s.options.indexAxis])||!_.controller.supportsDecimation)return;const I=s.scales[_.xAxisID];if("linear"!==I.type&&"time"!==I.type||s.options.parsing)return;let Me,{start:z,count:ee}=function Ya(s,a){const e=a.length;let c,i=0;const{iScale:d}=s,{min:h,max:p,minDefined:_,maxDefined:k}=d.getUserBounds();return _&&(i=Kt(Eo(a,d.axis,h).lo,0,e-1)),c=k?Kt(Eo(a,d.axis,p).hi+1,i,e)-i:e-i,{start:i,count:c}}(_,k);if(ee<=(e.threshold||4*i))rd(c);else{switch(Mn(h)&&(c._data=k,delete c.data,Object.defineProperty(c,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(we){this._data=we}})),e.algorithm){case"lttb":Me=function id(s,a,e,i,c){const d=c.samples||i;if(d>=e)return s.slice(a,a+e);const h=[],p=(e-2)/(d-2);let _=0;const k=a+e-1;let z,ee,ie,Me,we,I=a;for(h[_++]=s[I],z=0;z<d-2;z++){let ot,Ee=0,nt=0;const Tt=Math.floor((z+1)*p)+1+a,St=Math.min(Math.floor((z+2)*p)+1,e)+a,bt=St-Tt;for(ot=Tt;ot<St;ot++)Ee+=s[ot].x,nt+=s[ot].y;Ee/=bt,nt/=bt;const At=Math.floor(z*p)+1+a,Jt=Math.min(Math.floor((z+1)*p)+1,e)+a,{x:Bt,y:nn}=s[I];for(ie=Me=-1,ot=At;ot<Jt;ot++)Me=.5*Math.abs((Bt-Ee)*(s[ot].y-nn)-(Bt-s[ot].x)*(nt-nn)),Me>ie&&(ie=Me,ee=s[ot],we=ot);h[_++]=ee,I=we}return h[_++]=s[k],h}(k,z,ee,i,e);break;case"min-max":Me=function wf(s,a,e,i){let h,p,_,k,I,z,ee,ie,Me,we,c=0,d=0;const Ee=[],ot=s[a].x,St=s[a+e-1].x-ot;for(h=a;h<a+e;++h){p=s[h],_=(p.x-ot)/St*i,k=p.y;const bt=0|_;if(bt===I)k<Me?(Me=k,z=h):k>we&&(we=k,ee=h),c=(d*c+p.x)/++d;else{const At=h-1;if(!Mn(z)&&!Mn(ee)){const Jt=Math.min(z,ee),Bt=Math.max(z,ee);Jt!==ie&&Jt!==At&&Ee.push({...s[Jt],x:c}),Bt!==ie&&Bt!==At&&Ee.push({...s[Bt],x:c})}h>0&&At!==ie&&Ee.push(s[At]),Ee.push(p),I=bt,d=0,Me=we=k,z=ee=ie=h}}return Ee}(k,z,ee,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}c._decimated=Me}})},destroy(s){kf(s)}};function Qc(s,a,e,i){if(i)return;let c=a[s],d=e[s];return"angle"===s&&(c=tn(c),d=tn(d)),{property:s,start:c,end:d}}function yu(s,a,e){for(;a>s;a--){const i=e[a];if(!isNaN(i.x)&&!isNaN(i.y))break}return a}function Of(s,a,e,i){return s&&a?i(s[e],a[e]):s?s[e]:a?a[e]:0}function Tf(s,a){let e=[],i=!1;return io(s)?(i=!0,e=s):e=function Df(s,a){const{x:e=null,y:i=null}=s||{},c=a.points,d=[];return a.segments.forEach(({start:h,end:p})=>{p=yu(h,p,c);const _=c[h],k=c[p];null!==i?(d.push({x:_.x,y:i}),d.push({x:k.x,y:i})):null!==e&&(d.push({x:e,y:_.y}),d.push({x:e,y:k.y}))}),d}(s,a),e.length?new Xl({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Pf(s){return s&&!1!==s.fill}function Af(s,a,e){let c=s[a].fill;const d=[a];let h;if(!e)return c;for(;!1!==c&&-1===d.indexOf(c);){if(!xo(c))return c;if(h=s[c],!h)return!1;if(h.visible)return c;d.push(c),c=h.fill}return!1}function lb(s,a,e){const i=function Sf(s){const a=s.options,e=a.fill;let i=bn(e&&e.target,e);return void 0===i&&(i=!!a.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(s);if(In(i))return!isNaN(i.value)&&i;let c=parseFloat(i);return xo(c)&&Math.floor(c)===c?function db(s,a,e,i){return("-"===s||"+"===s)&&(e=a+e),!(e===a||e<0||e>=i)&&e}(i[0],a,c,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Cu(s,a,e){const i=[];for(let c=0;c<e.length;c++){const d=e[c],{first:h,last:p,point:_}=Kg(d,a,"x");if(!(!_||h&&p))if(h)i.unshift(_);else if(s.push(_),!p)break}s.push(...i)}function Kg(s,a,e){const i=s.interpolate(a,e);if(!i)return{};const c=i[e],d=s.segments,h=s.points;let p=!1,_=!1;for(let k=0;k<d.length;k++){const I=d[k],z=h[I.start][e],ee=h[I.end][e];if(Qn(c,z,ee)){p=c===z,_=c===ee;break}}return{first:p,last:_,point:i}}class Mu{constructor(a){this.x=a.x,this.y=a.y,this.radius=a.radius}pathSegment(a,e,i){const{x:c,y:d,radius:h}=this;return a.arc(c,d,h,(e=e||{start:0,end:yn}).end,e.start,!0),!i.bounds}interpolate(a){const{x:e,y:i,radius:c}=this,d=a.angle;return{x:e+Math.cos(d)*c,y:i+Math.sin(d)*c,angle:d}}}function tl(s,a,e){const i=function Rf(s){const{chart:a,fill:e,line:i}=s;if(xo(e))return function sd(s,a){const e=s.getDatasetMeta(a);return e&&s.isDatasetVisible(a)?e.dataset:null}(a,e);if("stack"===e)return function If(s){const{scale:a,index:e,line:i}=s,c=[],d=i.segments,h=i.points,p=function xu(s,a){const e=[],i=s.getMatchingVisibleMetas("line");for(let c=0;c<i.length;c++){const d=i[c];if(d.index===a)break;d.hidden||e.unshift(d.dataset)}return e}(a,e);p.push(Tf({x:null,y:a.bottom},i));for(let _=0;_<d.length;_++){const k=d[_];for(let I=k.start;I<=k.end;I++)Cu(c,h[I],p)}return new Xl({points:c,options:{}})}(s);if("shape"===e)return!0;const c=function ub(s){return(s.scale||{}).getPointPositionForValue?function Jg(s){const{scale:a,fill:e}=s,i=a.options,c=a.getLabels().length,d=i.reverse?a.max:a.min,h=function el(s,a,e){let i;return i="start"===s?e:"end"===s?a.options.reverse?a.min:a.max:In(s)?s.value:a.getBaseValue(),i}(e,a,d),p=[];if(i.grid.circular){const _=a.getPointPositionForValue(0,d);return new Mu({x:_.x,y:_.y,radius:a.getDistanceFromCenterForValue(h)})}for(let _=0;_<c;++_)p.push(a.getPointPositionForValue(_,h));return p}(s):function wu(s){const{scale:a={},fill:e}=s,i=function Xc(s,a){let e=null;return"start"===s?e=a.bottom:"end"===s?e=a.top:In(s)?e=a.getPixelForValue(s.value):a.getBasePixel&&(e=a.getBasePixel()),e}(e,a);if(xo(i)){const c=a.isHorizontal();return{x:c?i:null,y:c?null:i}}return null}(s)}(s);return c instanceof Mu?c:Tf(c,i)}(a),{chart:c,index:d,line:h,scale:p,axis:_}=a,k=h.options,I=k.fill,z=k.backgroundColor,{above:ee=z,below:ie=z}=I||{},Me=c.getDatasetMeta(d),we=Yp(c,Me);i&&h.points.length&&(hs(s,e),function Ff(s,a){const{line:e,target:i,above:c,below:d,area:h,scale:p,clip:_}=a,k=e._loop?"angle":a.axis;s.save(),"x"===k&&d!==c&&(ku(s,i,h.top),xa(s,{line:e,target:i,color:c,scale:p,property:k,clip:_}),s.restore(),s.save(),ku(s,i,h.bottom)),xa(s,{line:e,target:i,color:d,scale:p,property:k,clip:_}),s.restore()}(s,{line:h,target:i,above:ee,below:ie,area:e,scale:p,axis:_,clip:we}),Fs(s))}function ku(s,a,e){const{segments:i,points:c}=a;let d=!0,h=!1;s.beginPath();for(const p of i){const{start:_,end:k}=p,I=c[_],z=c[yu(_,k,c)];d?(s.moveTo(I.x,I.y),d=!1):(s.lineTo(I.x,e),s.lineTo(I.x,I.y)),h=!!a.pathSegment(s,p,{move:h}),h?s.closePath():s.lineTo(z.x,e)}s.lineTo(a.first().x,e),s.closePath(),s.clip()}function xa(s,a){const{line:e,target:i,property:c,color:d,scale:h,clip:p}=a,_=function Yg(s,a,e){const i=s.segments,c=s.points,d=a.points,h=[];for(const p of i){let{start:_,end:k}=p;k=yu(_,k,c);const I=Qc(e,c[_],c[k],p.loop);if(!a.segments){h.push({source:p,target:I,start:c[_],end:c[k]});continue}const z=ja(a,I);for(const ee of z){const ie=Qc(e,d[ee.start],d[ee.end],ee.loop),Me=Ua(p,c,ie);for(const we of Me)h.push({source:we,target:ee,start:{[e]:Of(I,ie,"start",Math.max)},end:{[e]:Of(I,ie,"end",Math.min)}})}}return h}(e,i,c);for(const{source:k,target:I,start:z,end:ee}of _){const{style:{backgroundColor:ie=d}={}}=k,Me=!0!==i;s.save(),s.fillStyle=ie,Qg(s,h,p,Me&&Qc(c,z,ee)),s.beginPath();const we=!!e.pathSegment(s,k);let Ee;if(Me){we?s.closePath():ad(s,i,ee,c);const nt=!!i.pathSegment(s,I,{move:we,reverse:!0});Ee=we&&nt,Ee||ad(s,i,z,c)}s.closePath(),s.fill(Ee?"evenodd":"nonzero"),s.restore()}}function Qg(s,a,e,i){const c=a.chart.chartArea,{property:d,start:h,end:p}=i||{};if("x"===d||"y"===d){let _,k,I,z;"x"===d?(_=h,k=c.top,I=p,z=c.bottom):(_=c.left,k=h,I=c.right,z=p),s.beginPath(),e&&(_=Math.max(_,e.left),I=Math.min(I,e.right),k=Math.max(k,e.top),z=Math.min(z,e.bottom)),s.rect(_,k,I-_,z-k),s.clip()}}function ad(s,a,e,i){const c=a.interpolate(e,i);c&&s.lineTo(c.x,c.y)}var cd={id:"filler",afterDatasetsUpdate(s,a,e){const i=(s.data.datasets||[]).length,c=[];let d,h,p,_;for(h=0;h<i;++h)d=s.getDatasetMeta(h),p=d.dataset,_=null,p&&p.options&&p instanceof Xl&&(_={visible:s.isDatasetVisible(h),index:h,fill:lb(p,h,i),chart:s,axis:d.controller.options.indexAxis,scale:d.vScale,line:p}),d.$filler=_,c.push(_);for(h=0;h<i;++h)_=c[h],_&&!1!==_.fill&&(_.fill=Af(c,h,e.propagate))},beforeDraw(s,a,e){const i="beforeDraw"===e.drawTime,c=s.getSortedVisibleDatasetMetas(),d=s.chartArea;for(let h=c.length-1;h>=0;--h){const p=c[h].$filler;p&&(p.line.updateControlPoints(d,p.axis),i&&p.fill&&tl(s.ctx,p,d))}},beforeDatasetsDraw(s,a,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=s.getSortedVisibleDatasetMetas();for(let c=i.length-1;c>=0;--c){const d=i[c].$filler;Pf(d)&&tl(s.ctx,d,s.chartArea)}},beforeDatasetDraw(s,a,e){const i=a.meta.$filler;!Pf(i)||"beforeDatasetDraw"!==e.drawTime||tl(s.ctx,i,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Nf=(s,a)=>{let{boxHeight:e=a,boxWidth:i=a}=s;return s.usePointStyle&&(e=Math.min(e,a),i=s.pointStyleWidth||Math.min(i,a)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(a,e)}};class nl extends Us{constructor(a){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,e,i){this.maxWidth=a,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const a=this.options.labels||{};let e=co(a.generateLabels,[this.chart],this)||[];a.filter&&(e=e.filter(i=>a.filter(i,this.chart.data))),a.sort&&(e=e.sort((i,c)=>a.sort(i,c,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:a,ctx:e}=this;if(!a.display)return void(this.width=this.height=0);const i=a.labels,c=Zi(i.font),d=c.size,h=this._computeTitleHeight(),{boxWidth:p,itemHeight:_}=Nf(i,d);let k,I;e.font=c.string,this.isHorizontal()?(k=this.maxWidth,I=this._fitRows(h,d,p,_)+10):(I=this.maxHeight,k=this._fitCols(h,c,p,_)+10),this.width=Math.min(k,a.maxWidth||this.maxWidth),this.height=Math.min(I,a.maxHeight||this.maxHeight)}_fitRows(a,e,i,c){const{ctx:d,maxWidth:h,options:{labels:{padding:p}}}=this,_=this.legendHitBoxes=[],k=this.lineWidths=[0],I=c+p;let z=a;d.textAlign="left",d.textBaseline="middle";let ee=-1,ie=-I;return this.legendItems.forEach((Me,we)=>{const Ee=i+e/2+d.measureText(Me.text).width;(0===we||k[k.length-1]+Ee+2*p>h)&&(z+=I,k[k.length-(we>0?0:1)]=0,ie+=I,ee++),_[we]={left:0,top:ie,row:ee,width:Ee,height:c},k[k.length-1]+=Ee+p}),z}_fitCols(a,e,i,c){const{ctx:d,maxHeight:h,options:{labels:{padding:p}}}=this,_=this.legendHitBoxes=[],k=this.columnSizes=[],I=h-a;let z=p,ee=0,ie=0,Me=0,we=0;return this.legendItems.forEach((Ee,nt)=>{const{itemWidth:ot,itemHeight:Tt}=function js(s,a,e,i,c){const d=function kc(s,a,e,i){let c=s.text;return c&&"string"!=typeof c&&(c=c.reduce((d,h)=>d.length>h.length?d:h)),a+e.size/2+i.measureText(c).width}(i,s,a,e),h=function Du(s,a,e){let i=s;return"string"!=typeof a.text&&(i=Lf(a,e)),i}(c,i,a.lineHeight);return{itemWidth:d,itemHeight:h}}(i,e,d,Ee,c);nt>0&&ie+Tt+2*p>I&&(z+=ee+p,k.push({width:ee,height:ie}),Me+=ee+p,we++,ee=ie=0),_[nt]={left:Me,top:ie,col:we,width:ot,height:Tt},ee=Math.max(ee,ot),ie+=Tt+p}),z+=ee,k.push({width:ee,height:ie}),z}adjustHitBoxes(){if(!this.options.display)return;const a=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:c},rtl:d}}=this,h=Ba(d,this.left,this.width);if(this.isHorizontal()){let p=0,_=Oi(i,this.left+c,this.right-this.lineWidths[p]);for(const k of e)p!==k.row&&(p=k.row,_=Oi(i,this.left+c,this.right-this.lineWidths[p])),k.top+=this.top+a+c,k.left=h.leftForLtr(h.x(_),k.width),_+=k.width+c}else{let p=0,_=Oi(i,this.top+a+c,this.bottom-this.columnSizes[p].height);for(const k of e)k.col!==p&&(p=k.col,_=Oi(i,this.top+a+c,this.bottom-this.columnSizes[p].height)),k.top=_,k.left+=this.left+c,k.left=h.leftForLtr(h.x(k.left),k.width),_+=k.height+c}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const a=this.ctx;hs(a,this),this._draw(),Fs(a)}}_draw(){const{options:a,columnSizes:e,lineWidths:i,ctx:c}=this,{align:d,labels:h}=a,p=W.color,_=Ba(a.rtl,this.left,this.width),k=Zi(h.font),{padding:I}=h,z=k.size,ee=z/2;let ie;this.drawTitle(),c.textAlign=_.textAlign("left"),c.textBaseline="middle",c.lineWidth=.5,c.font=k.string;const{boxWidth:Me,boxHeight:we,itemHeight:Ee}=Nf(h,z),Tt=this.isHorizontal(),St=this._computeTitleHeight();ie=Tt?{x:Oi(d,this.left+I,this.right-i[0]),y:this.top+I+St,line:0}:{x:this.left+I,y:Oi(d,this.top+St+I,this.bottom-e[0].height),line:0},Ol(this.ctx,a.textDirection);const bt=Ee+I;this.legendItems.forEach((At,Jt)=>{c.strokeStyle=At.fontColor,c.fillStyle=At.fontColor;const Bt=c.measureText(At.text).width,nn=_.textAlign(At.textAlign||(At.textAlign=h.textAlign)),Wn=Me+ee+Bt;let $n=ie.x,to=ie.y;_.setWidth(this.width),Tt?Jt>0&&$n+Wn+I>this.right&&(to=ie.y+=bt,ie.line++,$n=ie.x=Oi(d,this.left+I,this.right-i[ie.line])):Jt>0&&to+bt>this.bottom&&($n=ie.x=$n+e[ie.line].width+I,ie.line++,to=ie.y=Oi(d,this.top+St+I,this.bottom-e[ie.line].height)),function(At,Jt,Bt){if(isNaN(Me)||Me<=0||isNaN(we)||we<0)return;c.save();const nn=bn(Bt.lineWidth,1);if(c.fillStyle=bn(Bt.fillStyle,p),c.lineCap=bn(Bt.lineCap,"butt"),c.lineDashOffset=bn(Bt.lineDashOffset,0),c.lineJoin=bn(Bt.lineJoin,"miter"),c.lineWidth=nn,c.strokeStyle=bn(Bt.strokeStyle,p),c.setLineDash(bn(Bt.lineDash,[])),h.usePointStyle){const Wn={radius:we*Math.SQRT2/2,pointStyle:Bt.pointStyle,rotation:Bt.rotation,borderWidth:nn},$n=_.xPlus(At,Me/2);Zn(c,Wn,$n,Jt+ee,h.pointStyleWidth&&Me)}else{const Wn=Jt+Math.max((z-we)/2,0),$n=_.leftForLtr(At,Me),to=Fa(Bt.borderRadius);c.beginPath(),Object.values(to).some(ur=>0!==ur)?Ia(c,{x:$n,y:Wn,w:Me,h:we,radius:to}):c.rect($n,Wn,Me,we),c.fill(),0!==nn&&c.stroke()}c.restore()}(_.x($n),to,At),$n=((s,a,e,i)=>s===(i?"left":"right")?e:"center"===s?(a+e)/2:a)(nn,$n+Me+ee,Tt?$n+Wn:this.right,a.rtl),function(At,Jt,Bt){ua(c,Bt.text,At,Jt+Ee/2,k,{strikethrough:Bt.hidden,textAlign:_.textAlign(Bt.textAlign)})}(_.x($n),to,At),Tt?ie.x+=Wn+I:ie.y+="string"!=typeof At.text?Lf(At,k.lineHeight)+I:bt}),Mh(this.ctx,a.textDirection)}drawTitle(){const a=this.options,e=a.title,i=Zi(e.font),c=wr(e.padding);if(!e.display)return;const d=Ba(a.rtl,this.left,this.width),h=this.ctx,p=e.position,k=c.top+i.size/2;let I,z=this.left,ee=this.width;if(this.isHorizontal())ee=Math.max(...this.lineWidths),I=this.top+k,z=Oi(a.align,z,this.right-ee);else{const Me=this.columnSizes.reduce((we,Ee)=>Math.max(we,Ee.height),0);I=k+Oi(a.align,this.top,this.bottom-Me-a.labels.padding-this._computeTitleHeight())}const ie=Oi(p,z,z+ee);h.textAlign=d.textAlign(Rs(p)),h.textBaseline="middle",h.strokeStyle=e.color,h.fillStyle=e.color,h.font=i.string,ua(h,e.text,ie,I,i)}_computeTitleHeight(){const a=this.options.title,e=Zi(a.font),i=wr(a.padding);return a.display?e.lineHeight+i.height:0}_getLegendItemAt(a,e){let i,c,d;if(Qn(a,this.left,this.right)&&Qn(e,this.top,this.bottom))for(d=this.legendHitBoxes,i=0;i<d.length;++i)if(c=d[i],Qn(a,c.left,c.left+c.width)&&Qn(e,c.top,c.top+c.height))return this.legendItems[i];return null}handleEvent(a){const e=this.options;if(!function Xg(s,a){return!(("mousemove"!==s&&"mouseout"!==s||!a.onHover&&!a.onLeave)&&(!a.onClick||"click"!==s&&"mouseup"!==s))}(a.type,e))return;const i=this._getLegendItemAt(a.x,a.y);if("mousemove"===a.type||"mouseout"===a.type){const c=this._hoveredItem,d=((s,a)=>null!==s&&null!==a&&s.datasetIndex===a.datasetIndex&&s.index===a.index)(c,i);c&&!d&&co(e.onLeave,[a,c,this],this),this._hoveredItem=i,i&&!d&&co(e.onHover,[a,i,this],this)}else i&&co(e.onClick,[a,i,this],this)}}function Lf(s,a){return a*(s.text?s.text.length:0)}var Bf={id:"legend",_element:nl,start(s,a,e){const i=s.legend=new nl({ctx:s.ctx,options:e,chart:s});kr.configure(s,i,e),kr.addBox(s,i)},stop(s){kr.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,a,e){const i=s.legend;kr.configure(s,i,e),i.options=e},afterUpdate(s){const a=s.legend;a.buildLabels(),a.adjustHitBoxes()},afterEvent(s,a){a.replay||s.legend.handleEvent(a.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,a,e){const i=a.datasetIndex,c=e.chart;c.isDatasetVisible(i)?(c.hide(i),a.hidden=!0):(c.show(i),a.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const a=s.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:c,color:d,useBorderRadius:h,borderRadius:p}}=s.legend.options;return s._getSortedDatasetMetas().map(_=>{const k=_.controller.getStyle(e?0:void 0),I=wr(k.borderWidth);return{text:a[_.index].label,fillStyle:k.backgroundColor,fontColor:d,hidden:!_.visible,lineCap:k.borderCapStyle,lineDash:k.borderDash,lineDashOffset:k.borderDashOffset,lineJoin:k.borderJoinStyle,lineWidth:(I.width+I.height)/4,strokeStyle:k.borderColor,pointStyle:i||k.pointStyle,rotation:k.rotation,textAlign:c||k.textAlign,borderRadius:h&&(p||k.borderRadius),datasetIndex:_.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class Ca extends Us{constructor(a){super(),this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=a,this.height=this.bottom=e;const c=io(i.text)?i.text.length:1;this._padding=wr(i.padding);const d=c*Zi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=d:this.width=d}isHorizontal(){const a=this.options.position;return"top"===a||"bottom"===a}_drawArgs(a){const{top:e,left:i,bottom:c,right:d,options:h}=this,p=h.align;let k,I,z,_=0;return this.isHorizontal()?(I=Oi(p,i,d),z=e+a,k=d-i):("left"===h.position?(I=i+a,z=Oi(p,c,e),_=-.5*Yt):(I=d-a,z=Oi(p,e,c),_=.5*Yt),k=c-e),{titleX:I,titleY:z,maxWidth:k,rotation:_}}draw(){const a=this.ctx,e=this.options;if(!e.display)return;const i=Zi(e.font),d=i.lineHeight/2+this._padding.top,{titleX:h,titleY:p,maxWidth:_,rotation:k}=this._drawArgs(d);ua(a,e.text,0,0,i,{color:e.color,maxWidth:_,rotation:k,textAlign:Rs(e.align),textBaseline:"middle",translation:[h,p]})}}var tm={id:"title",_element:Ca,start(s,a,e){!function em(s,a){const e=new Ca({ctx:s.ctx,options:a,chart:s});kr.configure(s,e,a),kr.addBox(s,e),s.titleBlock=e}(s,e)},stop(s){kr.removeBox(s,s.titleBlock),delete s.titleBlock},beforeUpdate(s,a,e){const i=s.titleBlock;kr.configure(s,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ld=new WeakMap;var Ou={id:"subtitle",start(s,a,e){const i=new Ca({ctx:s.ctx,options:e,chart:s});kr.configure(s,i,e),kr.addBox(s,i),ld.set(s,i)},stop(s){kr.removeBox(s,ld.get(s)),ld.delete(s)},beforeUpdate(s,a,e){const i=ld.get(s);kr.configure(s,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ec={average(s){if(!s.length)return!1;let a,e,i=new Set,c=0,d=0;for(a=0,e=s.length;a<e;++a){const p=s[a].element;if(p&&p.hasValue()){const _=p.tooltipPosition();i.add(_.x),c+=_.y,++d}}return 0!==d&&0!==i.size&&{x:[...i].reduce((p,_)=>p+_)/i.size,y:c/d}},nearest(s,a){if(!s.length)return!1;let d,h,p,e=a.x,i=a.y,c=Number.POSITIVE_INFINITY;for(d=0,h=s.length;d<h;++d){const _=s[d].element;if(_&&_.hasValue()){const I=Et(a,_.getCenterPoint());I<c&&(c=I,p=_)}}if(p){const _=p.tooltipPosition();e=_.x,i=_.y}return{x:e,y:i}}};function Vs(s,a){return a&&(io(a)?Array.prototype.push.apply(s,a):s.push(a)),s}function Hs(s){return("string"==typeof s||s instanceof String)&&s.indexOf("\n")>-1?s.split("\n"):s}function Tu(s,a){const{element:e,datasetIndex:i,index:c}=a,d=s.getDatasetMeta(i).controller,{label:h,value:p}=d.getLabelAndValue(c);return{chart:s,label:h,parsed:d.getParsed(c),raw:s.data.datasets[i].data[c],formattedValue:p,dataset:d.getDataset(),dataIndex:c,datasetIndex:i,element:e}}function nm(s,a){const e=s.chart.ctx,{body:i,footer:c,title:d}=s,{boxWidth:h,boxHeight:p}=a,_=Zi(a.bodyFont),k=Zi(a.titleFont),I=Zi(a.footerFont),z=d.length,ee=c.length,ie=i.length,Me=wr(a.padding);let we=Me.height,Ee=0,nt=i.reduce((St,bt)=>St+bt.before.length+bt.lines.length+bt.after.length,0);nt+=s.beforeBody.length+s.afterBody.length,z&&(we+=z*k.lineHeight+(z-1)*a.titleSpacing+a.titleMarginBottom),nt&&(we+=ie*(a.displayColors?Math.max(p,_.lineHeight):_.lineHeight)+(nt-ie)*_.lineHeight+(nt-1)*a.bodySpacing),ee&&(we+=a.footerMarginTop+ee*I.lineHeight+(ee-1)*a.footerSpacing);let ot=0;const Tt=function(St){Ee=Math.max(Ee,e.measureText(St).width+ot)};return e.save(),e.font=k.string,Kn(s.title,Tt),e.font=_.string,Kn(s.beforeBody.concat(s.afterBody),Tt),ot=a.displayColors?h+2+a.boxPadding:0,Kn(i,St=>{Kn(St.before,Tt),Kn(St.lines,Tt),Kn(St.after,Tt)}),ot=0,e.font=I.string,Kn(s.footer,Tt),e.restore(),Ee+=Me.width,{width:Ee,height:we}}function rm(s,a,e,i){const{x:c,width:d}=e,{width:h,chartArea:{left:p,right:_}}=s;let k="center";return"center"===i?k=c<=(p+_)/2?"left":"right":c<=d/2?k="left":c>=h-d/2&&(k="right"),function im(s,a,e,i){const{x:c,width:d}=i,h=e.caretSize+e.caretPadding;if("left"===s&&c+d+h>a.width||"right"===s&&c-d-h<0)return!0}(k,s,a,e)&&(k="center"),k}function sm(s,a,e){const i=e.yAlign||a.yAlign||function om(s,a){const{y:e,height:i}=a;return e<i/2?"top":e>s.height-i/2?"bottom":"center"}(s,e);return{xAlign:e.xAlign||a.xAlign||rm(s,a,e,i),yAlign:i}}function Uf(s,a,e,i){const{caretSize:c,caretPadding:d,cornerRadius:h}=s,{xAlign:p,yAlign:_}=e,k=c+d,{topLeft:I,topRight:z,bottomLeft:ee,bottomRight:ie}=Fa(h);let Me=function hb(s,a){let{x:e,width:i}=s;return"right"===a?e-=i:"center"===a&&(e-=i/2),e}(a,p);const we=function dd(s,a,e){let{y:i,height:c}=s;return"top"===a?i+=e:i-="bottom"===a?c+e:c/2,i}(a,_,k);return"center"===_?"left"===p?Me+=k:"right"===p&&(Me-=k):"left"===p?Me-=Math.max(I,ee)+c:"right"===p&&(Me+=Math.max(z,ie)+c),{x:Kt(Me,0,i.width-a.width),y:Kt(we,0,i.height-a.height)}}function Dc(s,a,e){const i=wr(e.padding);return"center"===a?s.x+s.width/2:"right"===a?s.x+s.width-i.right:s.x+i.left}function ud(s){return Vs([],Hs(s))}function hd(s,a){const e=a&&a.dataset&&a.dataset.tooltip&&a.dataset.tooltip.callbacks;return e?s.override(e):s}const fd={beforeTitle:Xi,title(s){if(s.length>0){const a=s[0],e=a.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return a.dataset.label||"";if(a.label)return a.label;if(i>0&&a.dataIndex<i)return e[a.dataIndex]}return""},afterTitle:Xi,beforeBody:Xi,beforeLabel:Xi,label(s){if(this&&this.options&&"dataset"===this.options.mode)return s.label+": "+s.formattedValue||s.formattedValue;let a=s.dataset.label||"";a&&(a+=": ");const e=s.formattedValue;return Mn(e)||(a+=e),a},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Xi,afterBody:Xi,beforeFooter:Xi,footer:Xi,afterFooter:Xi};function tr(s,a,e,i){const c=s[a].call(e,i);return typeof c>"u"?fd[a].call(e,i):c}let ol=(()=>class s extends Us{static positioners=Ec;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,c=this.options.setContext(this.getContext()),d=c.enabled&&i.options.animation&&c.animations,h=new Eh(this.chart,d);return d._cacheable&&(this._cachedAnimations=Object.freeze(h)),h}getContext(){return this.$context||(this.$context=function Oc(s,a,e){return xs(s,{tooltip:a,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:c}=i,d=tr(c,"beforeTitle",this,e),h=tr(c,"title",this,e),p=tr(c,"afterTitle",this,e);let _=[];return _=Vs(_,Hs(d)),_=Vs(_,Hs(h)),_=Vs(_,Hs(p)),_}getBeforeBody(e,i){return ud(tr(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:c}=i,d=[];return Kn(e,h=>{const p={before:[],lines:[],after:[]},_=hd(c,h);Vs(p.before,Hs(tr(_,"beforeLabel",this,h))),Vs(p.lines,tr(_,"label",this,h)),Vs(p.after,Hs(tr(_,"afterLabel",this,h))),d.push(p)}),d}getAfterBody(e,i){return ud(tr(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:c}=i,d=tr(c,"beforeFooter",this,e),h=tr(c,"footer",this,e),p=tr(c,"afterFooter",this,e);let _=[];return _=Vs(_,Hs(d)),_=Vs(_,Hs(h)),_=Vs(_,Hs(p)),_}_createItems(e){const i=this._active,c=this.chart.data,d=[],h=[],p=[];let k,I,_=[];for(k=0,I=i.length;k<I;++k)_.push(Tu(this.chart,i[k]));return e.filter&&(_=_.filter((z,ee,ie)=>e.filter(z,ee,ie,c))),e.itemSort&&(_=_.sort((z,ee)=>e.itemSort(z,ee,c))),Kn(_,z=>{const ee=hd(e.callbacks,z);d.push(tr(ee,"labelColor",this,z)),h.push(tr(ee,"labelPointStyle",this,z)),p.push(tr(ee,"labelTextColor",this,z))}),this.labelColors=d,this.labelPointStyles=h,this.labelTextColors=p,this.dataPoints=_,_}update(e,i){const c=this.options.setContext(this.getContext()),d=this._active;let h,p=[];if(d.length){const _=Ec[c.position].call(this,d,this._eventPosition);p=this._createItems(c),this.title=this.getTitle(p,c),this.beforeBody=this.getBeforeBody(p,c),this.body=this.getBody(p,c),this.afterBody=this.getAfterBody(p,c),this.footer=this.getFooter(p,c);const k=this._size=nm(this,c),I=Object.assign({},_,k),z=sm(this.chart,c,I),ee=Uf(c,I,z,this.chart);this.xAlign=z.xAlign,this.yAlign=z.yAlign,h={opacity:1,x:ee.x,y:ee.y,width:k.width,height:k.height,caretX:_.x,caretY:_.y}}else 0!==this.opacity&&(h={opacity:0});this._tooltipItems=p,this.$context=void 0,h&&this._resolveAnimations().update(this,h),e&&c.external&&c.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,c,d){const h=this.getCaretPosition(e,c,d);i.lineTo(h.x1,h.y1),i.lineTo(h.x2,h.y2),i.lineTo(h.x3,h.y3)}getCaretPosition(e,i,c){const{xAlign:d,yAlign:h}=this,{caretSize:p,cornerRadius:_}=c,{topLeft:k,topRight:I,bottomLeft:z,bottomRight:ee}=Fa(_),{x:ie,y:Me}=e,{width:we,height:Ee}=i;let nt,ot,Tt,St,bt,At;return"center"===h?(bt=Me+Ee/2,"left"===d?(nt=ie,ot=nt-p,St=bt+p,At=bt-p):(nt=ie+we,ot=nt+p,St=bt-p,At=bt+p),Tt=nt):(ot="left"===d?ie+Math.max(k,z)+p:"right"===d?ie+we-Math.max(I,ee)-p:this.caretX,"top"===h?(St=Me,bt=St-p,nt=ot-p,Tt=ot+p):(St=Me+Ee,bt=St+p,nt=ot+p,Tt=ot-p),At=St),{x1:nt,x2:ot,x3:Tt,y1:St,y2:bt,y3:At}}drawTitle(e,i,c){const d=this.title,h=d.length;let p,_,k;if(h){const I=Ba(c.rtl,this.x,this.width);for(e.x=Dc(this,c.titleAlign,c),i.textAlign=I.textAlign(c.titleAlign),i.textBaseline="middle",p=Zi(c.titleFont),_=c.titleSpacing,i.fillStyle=c.titleColor,i.font=p.string,k=0;k<h;++k)i.fillText(d[k],I.x(e.x),e.y+p.lineHeight/2),e.y+=p.lineHeight+_,k+1===h&&(e.y+=c.titleMarginBottom-_)}}_drawColorBox(e,i,c,d,h){const p=this.labelColors[c],_=this.labelPointStyles[c],{boxHeight:k,boxWidth:I}=h,z=Zi(h.bodyFont),ee=Dc(this,"left",h),ie=d.x(ee),we=i.y+(k<z.lineHeight?(z.lineHeight-k)/2:0);if(h.usePointStyle){const Ee={radius:Math.min(I,k)/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:1},nt=d.leftForLtr(ie,I)+I/2,ot=we+k/2;e.strokeStyle=h.multiKeyBackground,e.fillStyle=h.multiKeyBackground,lo(e,Ee,nt,ot),e.strokeStyle=p.borderColor,e.fillStyle=p.backgroundColor,lo(e,Ee,nt,ot)}else{e.lineWidth=In(p.borderWidth)?Math.max(...Object.values(p.borderWidth)):p.borderWidth||1,e.strokeStyle=p.borderColor,e.setLineDash(p.borderDash||[]),e.lineDashOffset=p.borderDashOffset||0;const Ee=d.leftForLtr(ie,I),nt=d.leftForLtr(d.xPlus(ie,1),I-2),ot=Fa(p.borderRadius);Object.values(ot).some(Tt=>0!==Tt)?(e.beginPath(),e.fillStyle=h.multiKeyBackground,Ia(e,{x:Ee,y:we,w:I,h:k,radius:ot}),e.fill(),e.stroke(),e.fillStyle=p.backgroundColor,e.beginPath(),Ia(e,{x:nt,y:we+1,w:I-2,h:k-2,radius:ot}),e.fill()):(e.fillStyle=h.multiKeyBackground,e.fillRect(Ee,we,I,k),e.strokeRect(Ee,we,I,k),e.fillStyle=p.backgroundColor,e.fillRect(nt,we+1,I-2,k-2))}e.fillStyle=this.labelTextColors[c]}drawBody(e,i,c){const{body:d}=this,{bodySpacing:h,bodyAlign:p,displayColors:_,boxHeight:k,boxWidth:I,boxPadding:z}=c,ee=Zi(c.bodyFont);let ie=ee.lineHeight,Me=0;const we=Ba(c.rtl,this.x,this.width),Ee=function(nn){i.fillText(nn,we.x(e.x+Me),e.y+ie/2),e.y+=ie+h},nt=we.textAlign(p);let ot,Tt,St,bt,At,Jt,Bt;for(i.textAlign=p,i.textBaseline="middle",i.font=ee.string,e.x=Dc(this,nt,c),i.fillStyle=c.bodyColor,Kn(this.beforeBody,Ee),Me=_&&"right"!==nt?"center"===p?I/2+z:I+2+z:0,bt=0,Jt=d.length;bt<Jt;++bt){for(ot=d[bt],Tt=this.labelTextColors[bt],i.fillStyle=Tt,Kn(ot.before,Ee),St=ot.lines,_&&St.length&&(this._drawColorBox(i,e,bt,we,c),ie=Math.max(ee.lineHeight,k)),At=0,Bt=St.length;At<Bt;++At)Ee(St[At]),ie=ee.lineHeight;Kn(ot.after,Ee)}Me=0,ie=ee.lineHeight,Kn(this.afterBody,Ee),e.y-=h}drawFooter(e,i,c){const d=this.footer,h=d.length;let p,_;if(h){const k=Ba(c.rtl,this.x,this.width);for(e.x=Dc(this,c.footerAlign,c),e.y+=c.footerMarginTop,i.textAlign=k.textAlign(c.footerAlign),i.textBaseline="middle",p=Zi(c.footerFont),i.fillStyle=c.footerColor,i.font=p.string,_=0;_<h;++_)i.fillText(d[_],k.x(e.x),e.y+p.lineHeight/2),e.y+=p.lineHeight+c.footerSpacing}}drawBackground(e,i,c,d){const{xAlign:h,yAlign:p}=this,{x:_,y:k}=e,{width:I,height:z}=c,{topLeft:ee,topRight:ie,bottomLeft:Me,bottomRight:we}=Fa(d.cornerRadius);i.fillStyle=d.backgroundColor,i.strokeStyle=d.borderColor,i.lineWidth=d.borderWidth,i.beginPath(),i.moveTo(_+ee,k),"top"===p&&this.drawCaret(e,i,c,d),i.lineTo(_+I-ie,k),i.quadraticCurveTo(_+I,k,_+I,k+ie),"center"===p&&"right"===h&&this.drawCaret(e,i,c,d),i.lineTo(_+I,k+z-we),i.quadraticCurveTo(_+I,k+z,_+I-we,k+z),"bottom"===p&&this.drawCaret(e,i,c,d),i.lineTo(_+Me,k+z),i.quadraticCurveTo(_,k+z,_,k+z-Me),"center"===p&&"left"===h&&this.drawCaret(e,i,c,d),i.lineTo(_,k+ee),i.quadraticCurveTo(_,k,_+ee,k),i.closePath(),i.fill(),d.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,c=this.$animations,d=c&&c.x,h=c&&c.y;if(d||h){const p=Ec[e.position].call(this,this._active,this._eventPosition);if(!p)return;const _=this._size=nm(this,e),k=Object.assign({},p,this._size),I=sm(i,e,k),z=Uf(e,k,I,i);(d._to!==z.x||h._to!==z.y)&&(this.xAlign=I.xAlign,this.yAlign=I.yAlign,this.width=_.width,this.height=_.height,this.caretX=p.x,this.caretY=p.y,this._resolveAnimations().update(this,z))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let c=this.opacity;if(!c)return;this._updateAnimationTarget(i);const d={width:this.width,height:this.height},h={x:this.x,y:this.y};c=Math.abs(c)<.001?0:c;const p=wr(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=c,this.drawBackground(h,e,d,i),Ol(e,i.textDirection),h.y+=p.top,this.drawTitle(h,e,i),this.drawBody(h,e,i),this.drawFooter(h,e,i),Mh(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const c=this._active,d=e.map(({datasetIndex:_,index:k})=>{const I=this.chart.getDatasetMeta(_);if(!I)throw new Error("Cannot find a dataset at index "+_);return{datasetIndex:_,element:I.data[k],index:k}}),h=!cr(c,d),p=this._positionChanged(d,i);(h||p)&&(this._active=d,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,c=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const d=this.options,h=this._active||[],p=this._getActiveElements(e,h,i,c),_=this._positionChanged(p,e),k=i||!cr(p,h)||_;return k&&(this._active=p,(d.enabled||d.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),k}_getActiveElements(e,i,c,d){const h=this.options;if("mouseout"===e.type)return[];if(!d)return i.filter(_=>this.chart.data.datasets[_.datasetIndex]&&void 0!==this.chart.getDatasetMeta(_.datasetIndex).controller.getParsed(_.index));const p=this.chart.getElementsAtEventForMode(e,h.mode,h,c);return h.reverse&&p.reverse(),p}_positionChanged(e,i){const{caretX:c,caretY:d,options:h}=this,p=Ec[h.position].call(this,e,i);return!1!==p&&(c!==p.x||d!==p.y)}})();var Pu=Object.freeze({__proto__:null,Colors:Mf,Decimation:Ef,Filler:cd,Legend:Bf,SubTitle:Ou,Title:tm,Tooltip:{id:"tooltip",_element:ol,positioners:Ec,afterInit(s,a,e){e&&(s.tooltip=new ol({chart:s,options:e}))},beforeUpdate(s,a,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,a,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const a=s.tooltip;if(a&&a._willRender()){const e={tooltip:a};if(!1===s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;a.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,a){s.tooltip&&s.tooltip.handleEvent(a.event,a.replay,a.inChartArea)&&(a.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,a)=>a.bodyFont.size,boxWidth:(s,a)=>a.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:fd},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>"filter"!==s&&"itemSort"!==s&&"external"!==s,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function gd(s){const a=this.getLabels();return s>=0&&s<a.length?a[s]:s}let il=(()=>class s extends Ga{static id="category";static defaults={ticks:{callback:gd}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const c=this.getLabels();for(const{index:d,label:h}of i)c[d]===h&&c.splice(d,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(Mn(e))return null;const c=this.getLabels();return((s,a)=>null===s?null:Kt(Math.round(s),0,a))(i=isFinite(i)&&c[i]===e?i:function pd(s,a,e,i){const c=s.indexOf(a);return-1===c?((s,a,e,i)=>("string"==typeof a?(e=s.push(a)-1,i.unshift({index:e,label:a})):isNaN(a)&&(e=null),e))(s,a,e,i):c!==s.lastIndexOf(a)?e:c}(c,e,bn(i,e),this._addedLabels),c.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:c,max:d}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(c=0),i||(d=this.getLabels().length-1)),this.min=c,this.max=d}buildTicks(){const e=this.min,i=this.max,c=this.options.offset,d=[];let h=this.getLabels();h=0===e&&i===h.length-1?h:h.slice(e,i+1),this._valueRange=Math.max(h.length-(c?0:1),1),this._startValue=this.min-(c?.5:0);for(let p=e;p<=i;p++)d.push({value:p});return d}getLabelForValue(e){return gd.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}})();function Su(s,a,{horizontal:e,minRotation:i}){const c=xe(i),d=(e?Math.sin(c):Math.cos(c))||.001;return Math.min(a/d,.75*a*(""+s).length)}class md extends Ga{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(a,e){return Mn(a)||("number"==typeof a||a instanceof Number)&&!isFinite(+a)?null:+a}handleTickRangeOptions(){const{beginAtZero:a}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:c,max:d}=this;const h=_=>c=e?c:_,p=_=>d=i?d:_;if(a){const _=Yo(c),k=Yo(d);_<0&&k<0?p(0):_>0&&k>0&&h(0)}if(c===d){let _=0===d?1:Math.abs(.05*d);p(d+_),a||h(c-_)}this.min=c,this.max=d}getTickLimit(){const a=this.options.ticks;let c,{maxTicksLimit:e,stepSize:i}=a;return i?(c=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,c>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${c} ticks. Limiting to 1000.`),c=1e3)):(c=this.computeTickLimit(),e=e||11),e&&(c=Math.min(e,c)),c}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const a=this.options,e=a.ticks;let i=this.getTickLimit();i=Math.max(2,i);const h=function am(s,a){const e=[],{bounds:c,step:d,min:h,max:p,precision:_,count:k,maxTicks:I,maxDigits:z,includeBounds:ee}=s,ie=d||1,Me=I-1,{min:we,max:Ee}=a,nt=!Mn(h),ot=!Mn(p),Tt=!Mn(k),St=(Ee-we)/(z+1);let At,Jt,Bt,nn,bt=b((Ee-we)/Me/ie)*ie;if(bt<1e-14&&!nt&&!ot)return[{value:we},{value:Ee}];nn=Math.ceil(Ee/bt)-Math.floor(we/bt),nn>Me&&(bt=b(nn*bt/Me/ie)*ie),Mn(_)||(At=Math.pow(10,_),bt=Math.ceil(bt*At)/At),"ticks"===c?(Jt=Math.floor(we/bt)*bt,Bt=Math.ceil(Ee/bt)*bt):(Jt=we,Bt=Ee),nt&&ot&&d&&function te(s,a){const e=Math.round(s);return e-a<=s&&e+a>=s}((p-h)/d,bt/1e3)?(nn=Math.round(Math.min((p-h)/bt,I)),bt=(p-h)/nn,Jt=h,Bt=p):Tt?(Jt=nt?h:Jt,Bt=ot?p:Bt,nn=k-1,bt=(Bt-Jt)/nn):(nn=(Bt-Jt)/bt,nn=R(nn,Math.round(nn),bt/1e3)?Math.round(nn):Math.ceil(nn));const Wn=Math.max(st(bt),st(Jt));At=Math.pow(10,Mn(_)?Wn:_),Jt=Math.round(Jt*At)/At,Bt=Math.round(Bt*At)/At;let $n=0;for(nt&&(ee&&Jt!==h?(e.push({value:h}),Jt<h&&$n++,R(Math.round((Jt+$n*bt)*At)/At,h,Su(h,St,s))&&$n++):Jt<h&&$n++);$n<nn;++$n){const to=Math.round((Jt+$n*bt)*At)/At;if(ot&&to>p)break;e.push({value:to})}return ot&&ee&&Bt!==p?e.length&&R(e[e.length-1].value,p,Su(p,St,s))?e[e.length-1].value=p:e.push({value:p}):(!ot||Bt===p)&&e.push({value:Bt}),e}({maxTicks:i,bounds:a.bounds,min:a.min,max:a.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===a.bounds&&ye(h,this,"value"),a.reverse?(h.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),h}configure(){const a=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&a.length){const c=(i-e)/Math.max(a.length-1,1)/2;e-=c,i+=c}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(a){return le(a,this.chart.options.locale,this.options.ticks.format)}}const Ka=s=>Math.floor(qo(s)),Ma=(s,a)=>Math.pow(10,Ka(s)+a);function jf(s){return s/Math.pow(10,Ka(s))==1}function Vf(s,a,e){const i=Math.pow(10,e),c=Math.floor(s/i);return Math.ceil(a/i)-c}function rl(s){const a=s.ticks;if(a.display&&s.display){const e=wr(a.backdropPadding);return bn(a.font&&a.font.size,W.font.size)+e.height}return 0}function dm(s,a,e){return e=io(e)?e:[e],{w:qe(s,a.string,e),h:e.length*a.lineHeight}}function Iu(s,a,e,i,c){return s===i||s===c?{start:a-e/2,end:a+e/2}:s<i||s>c?{start:a-e,end:a}:{start:a,end:a+e}}function bd(s,a,e,i,c){const d=Math.abs(Math.sin(e)),h=Math.abs(Math.cos(e));let p=0,_=0;i.start<a.l?(p=(a.l-i.start)/d,s.l=Math.min(s.l,a.l-p)):i.end>a.r&&(p=(i.end-a.r)/d,s.r=Math.max(s.r,a.r+p)),c.start<a.t?(_=(a.t-c.start)/h,s.t=Math.min(s.t,a.t-_)):c.end>a.b&&(_=(c.end-a.b)/h,s.b=Math.max(s.b,a.b+_))}function um(s,a,e){const i=s.drawingArea,{extra:c,additionalAngle:d,padding:h,size:p}=e,_=s.getPointPosition(a,i+c+h,d),k=Math.round(He(tn(_.angle+Jn))),I=function fm(s,a,e){return 90===e||270===e?s-=a/2:(e>270||e<90)&&(s-=a),s}(_.y,p.h,k),z=function zf(s){return 0===s||180===s?"center":s<180?"left":"right"}(k),ee=function gb(s,a,e){return"right"===e?s-=a:"center"===e&&(s-=a/2),s}(_.x,p.w,z);return{visible:!0,x:_.x,y:I,textAlign:z,left:ee,top:I,right:ee+p.w,bottom:I+p.h}}function Hf(s,a){if(!a)return!0;const{left:e,top:i,right:c,bottom:d}=s;return!(hi({x:e,y:i},a)||hi({x:e,y:d},a)||hi({x:c,y:i},a)||hi({x:c,y:d},a))}function vd(s,a,e){const{left:i,top:c,right:d,bottom:h}=e,{backdropColor:p}=a;if(!Mn(p)){const _=Fa(a.borderRadius),k=wr(a.backdropPadding);s.fillStyle=p;const I=i-k.left,z=c-k.top,ee=d-i+k.width,ie=h-c+k.height;Object.values(_).some(Me=>0!==Me)?(s.beginPath(),Ia(s,{x:I,y:z,w:ee,h:ie,radius:_}),s.fill()):s.fillRect(I,z,ee,ie)}}function Ja(s,a,e,i){const{ctx:c}=s;if(e)c.arc(s.xCenter,s.yCenter,a,0,yn);else{let d=s.getPointPosition(0,a);c.moveTo(d.x,d.y);for(let h=1;h<i;h++)d=s.getPointPosition(h,a),c.lineTo(d.x,d.y)}}const yd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$r=Object.keys(yd);function $f(s,a){return s-a}function Fu(s,a){if(Mn(a))return null;const e=s._adapter,{parser:i,round:c,isoWeekday:d}=s._parseOpts;let h=a;return"function"==typeof i&&(h=i(h)),xo(h)||(h="string"==typeof i?e.parse(h,i):e.parse(h)),null===h?null:(c&&(h="week"!==c||!V(d)&&!0!==d?e.startOf(h,c):e.startOf(h,"isoWeek",d)),+h)}function Gf(s,a,e,i){const c=$r.length;for(let d=$r.indexOf(s);d<c-1;++d){const h=yd[$r[d]];if(h.common&&Math.ceil((e-a)/((h.steps?h.steps:Number.MAX_SAFE_INTEGER)*h.size))<=i)return $r[d]}return $r[c-1]}function xd(s,a,e){if(e){if(e.length){const{lo:i,hi:c}=Dn(e,a);s[e[i]>=a?e[i]:e[c]]=!0}}else s[a]=!0}function qf(s,a,e){const i=[],c={},d=a.length;let h,p;for(h=0;h<d;++h)p=a[h],c[p]=h,i.push({value:p,major:!1});return 0!==d&&e?function Wf(s,a,e,i){const c=s._adapter,d=+c.startOf(a[0].value,i),h=a[a.length-1].value;let p,_;for(p=d;p<=h;p=+c.add(p,1,i))_=e[p],_>=0&&(a[_].major=!0);return a}(s,i,c,e):i}let Lu=(()=>class s extends Ga{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const c=e.time||(e.time={}),d=this._adapter=new ob__date(e.adapters.date);d.init(i),ys(c.displayFormats,d.formats()),this._parseOpts={parser:c.parser,round:c.round,isoWeekday:c.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:Fu(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,c=e.time.unit||"day";let{min:d,max:h,minDefined:p,maxDefined:_}=this.getUserBounds();function k(I){!p&&!isNaN(I.min)&&(d=Math.min(d,I.min)),!_&&!isNaN(I.max)&&(h=Math.max(h,I.max))}(!p||!_)&&(k(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&k(this.getMinMax(!1))),d=xo(d)&&!isNaN(d)?d:+i.startOf(Date.now(),c),h=xo(h)&&!isNaN(h)?h:+i.endOf(Date.now(),c)+1,this.min=Math.min(d,h-1),this.max=Math.max(d+1,h)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],c=e[e.length-1]),{min:i,max:c}}buildTicks(){const e=this.options,i=e.time,c=e.ticks,d="labels"===c.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&d.length&&(this.min=this._userMin||d[0],this.max=this._userMax||d[d.length-1]);const h=this.min,_=function Qr(s,a,e){let i=0,c=s.length;for(;i<c&&s[i]<a;)i++;for(;c>i&&s[c-1]>e;)c--;return i>0||c<s.length?s.slice(i,c):s}(d,h,this.max);return this._unit=i.unit||(c.autoSkip?Gf(i.minUnit,this.min,this.max,this._getLabelCapacity(h)):function Nu(s,a,e,i,c){for(let d=$r.length-1;d>=$r.indexOf(e);d--){const h=$r[d];if(yd[h].common&&s._adapter.diff(c,i,h)>=a-1)return h}return $r[e?$r.indexOf(e):0]}(this,_.length,i.minUnit,this.min,this.max)),this._majorUnit=c.major.enabled&&"year"!==this._unit?function mb(s){for(let a=$r.indexOf(s)+1,e=$r.length;a<e;++a)if(yd[$r[a]].common)return $r[a]}(this._unit):void 0,this.initOffsets(d),e.reverse&&_.reverse(),qf(this,_,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let d,h,i=0,c=0;this.options.offset&&e.length&&(d=this.getDecimalForValue(e[0]),i=1===e.length?1-d:(this.getDecimalForValue(e[1])-d)/2,h=this.getDecimalForValue(e[e.length-1]),c=1===e.length?h:(h-this.getDecimalForValue(e[e.length-2]))/2);const p=e.length<3?.5:.25;i=Kt(i,0,p),c=Kt(c,0,p),this._offsets={start:i,end:c,factor:1/(i+1+c)}}_generate(){const e=this._adapter,i=this.min,c=this.max,d=this.options,h=d.time,p=h.unit||Gf(h.minUnit,i,c,this._getLabelCapacity(i)),_=bn(d.ticks.stepSize,1),k="week"===p&&h.isoWeekday,I=V(k)||!0===k,z={};let ie,Me,ee=i;if(I&&(ee=+e.startOf(ee,"isoWeek",k)),ee=+e.startOf(ee,I?"day":p),e.diff(c,i,p)>1e5*_)throw new Error(i+" and "+c+" are too far apart with stepSize of "+_+" "+p);const we="data"===d.ticks.source&&this.getDataTimestamps();for(ie=ee,Me=0;ie<c;ie=+e.add(ie,_,p),Me++)xd(z,ie,we);return(ie===c||"ticks"===d.bounds||1===Me)&&xd(z,ie,we),Object.keys(z).sort($f).map(Ee=>+Ee)}getLabelForValue(e){const c=this.options.time;return this._adapter.format(e,c.tooltipFormat?c.tooltipFormat:c.displayFormats.datetime)}format(e,i){return this._adapter.format(e,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,i,c,d){const h=this.options,p=h.ticks.callback;if(p)return co(p,[e,i,c],this);const _=h.time.displayFormats,k=this._unit,I=this._majorUnit,ee=I&&_[I],ie=c[i];return this._adapter.format(e,d||(I&&ee&&ie&&ie.major?ee:k&&_[k]))}generateTickLabels(e){let i,c,d;for(i=0,c=e.length;i<c;++i)d=e[i],d.label=this._tickFormatFunction(d.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,c=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+c)*i.factor)}getValueForPixel(e){const i=this._offsets,c=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+c*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,c=this.ctx.measureText(e).width,d=xe(this.isHorizontal()?i.maxRotation:i.minRotation),h=Math.cos(d),p=Math.sin(d),_=this._resolveTickFontOptions(0).size;return{w:c*h+_*p,h:c*p+_*h}}_getLabelCapacity(e){const i=this.options.time,c=i.displayFormats,d=c[i.unit]||c.millisecond,h=this._tickFormatFunction(e,0,qf(this,[e],this._majorUnit),d),p=this._getLabelSize(h),_=Math.floor(this.isHorizontal()?this.width/p.w:this.height/p.h)-1;return _>0?_:1}getDataTimestamps(){let i,c,e=this._cache.data||[];if(e.length)return e;const d=this.getMatchingVisibleMetas();if(this._normalized&&d.length)return this._cache.data=d[0].controller.getAllParsedValues(this);for(i=0,c=d.length;i<c;++i)e=e.concat(d[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,c;if(e.length)return e;const d=this.getLabels();for(i=0,c=d.length;i<c;++i)e.push(Fu(this,d[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Hi(e.sort($f))}})();function al(s,a,e){let d,h,p,_,i=0,c=s.length-1;e?(a>=s[i].pos&&a<=s[c].pos&&({lo:i,hi:c}=Eo(s,"pos",a)),({pos:d,time:p}=s[i]),({pos:h,time:_}=s[c])):(a>=s[i].time&&a<=s[c].time&&({lo:i,hi:c}=Eo(s,"time",a)),({time:d,pos:p}=s[i]),({time:h,pos:_}=s[c]));const k=h-d;return k?p+(_-p)*(a-d)/k:p}const _m=[Lh,sb,Pu,Object.freeze({__proto__:null,CategoryScale:il,LinearScale:class cm extends md{static id="linear";static defaults={ticks:{callback:re.formatters.numeric}};determineDataLimits(){const{min:a,max:e}=this.getMinMax(!0);this.min=xo(a)?a:0,this.max=xo(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const a=this.isHorizontal(),e=a?this.width:this.height,i=xe(this.options.ticks.minRotation),c=(a?Math.sin(i):Math.cos(i))||.001,d=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,d.lineHeight/c))}getPixelForValue(a){return null===a?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getValueForPixel(a){return this._startValue+this.getDecimalForPixel(a)*this._valueRange}},LogarithmicScale:class _d extends Ga{static id="logarithmic";static defaults={ticks:{callback:re.formatters.logarithmic,major:{enabled:!0}}};constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(a,e){const i=md.prototype.parse.apply(this,[a,e]);if(0!==i)return xo(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:a,max:e}=this.getMinMax(!0);this.min=xo(a)?Math.max(0,a):null,this.max=xo(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xo(this._userMin)&&(this.min=a===Ma(this.min,0)?Ma(this.min,-1):Ma(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:a,maxDefined:e}=this.getUserBounds();let i=this.min,c=this.max;const d=p=>i=a?i:p,h=p=>c=e?c:p;i===c&&(i<=0?(d(1),h(10)):(d(Ma(i,-1)),h(Ma(c,1)))),i<=0&&d(Ma(c,-1)),c<=0&&h(Ma(i,1)),this.min=i,this.max=c}buildTicks(){const a=this.options,i=function lm(s,{min:a,max:e}){a=li(s.min,a);const i=[],c=Ka(a);let d=function pb(s,a){let i=Ka(a-s);for(;Vf(s,a,i)>10;)i++;for(;Vf(s,a,i)<10;)i--;return Math.min(i,Ka(s))}(a,e),h=d<0?Math.pow(10,Math.abs(d)):1;const p=Math.pow(10,d),_=c>d?Math.pow(10,c):0,k=Math.round((a-_)*h)/h,I=Math.floor((a-_)/p/10)*p*10;let z=Math.floor((k-I)/Math.pow(10,d)),ee=li(s.min,Math.round((_+I+z*Math.pow(10,d))*h)/h);for(;ee<e;)i.push({value:ee,major:jf(ee),significand:z}),z>=10?z=z<15?15:20:z++,z>=20&&(d++,z=2,h=d>=0?1:h),ee=Math.round((_+I+z*Math.pow(10,d))*h)/h;const ie=li(s.max,ee);return i.push({value:ie,major:jf(ie),significand:z}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===a.bounds&&ye(i,this,"value"),a.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(a){return void 0===a?"0":le(a,this.chart.options.locale,this.options.ticks.format)}configure(){const a=this.min;super.configure(),this._startValue=qo(a),this._valueRange=qo(this.max)-qo(a)}getPixelForValue(a){return(void 0===a||0===a)&&(a=this.min),null===a||isNaN(a)?NaN:this.getPixelForDecimal(a===this.min?0:(qo(a)-this._startValue)/this._valueRange)}getValueForPixel(a){const e=this.getDecimalForPixel(a);return Math.pow(10,this._startValue+e*this._valueRange)}},RadialLinearScale:class Zf extends md{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:re.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:a=>a,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(a){super(a),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const a=this._padding=wr(rl(this.options)/2),e=this.width=this.maxWidth-a.width,i=this.height=this.maxHeight-a.height;this.xCenter=Math.floor(this.left+e/2+a.left),this.yCenter=Math.floor(this.top+i/2+a.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:a,max:e}=this.getMinMax(!1);this.min=xo(a)&&!isNaN(a)?a:0,this.max=xo(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/rl(this.options))}generateTickLabels(a){md.prototype.generateTickLabels.call(this,a),this._pointLabels=this.getLabels().map((e,i)=>{const c=co(this.options.pointLabels.callback,[e,i],this);return c||0===c?c:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const a=this.options;a.display&&a.pointLabels.display?function Ru(s){const a={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},a),i=[],c=[],d=s._pointLabels.length,h=s.options.pointLabels,p=h.centerPointLabels?Yt/d:0;for(let _=0;_<d;_++){const k=h.setContext(s.getPointLabelContext(_));c[_]=k.padding;const I=s.getPointPosition(_,s.drawingArea+c[_],p),z=Zi(k.font),ee=dm(s.ctx,z,s._pointLabels[_]);i[_]=ee;const ie=tn(s.getIndexAngle(_)+p),Me=Math.round(He(ie));bd(e,a,ie,Iu(Me,I.x,ee.w,0,180),Iu(Me,I.y,ee.h,90,270))}s.setCenterPoint(a.l-e.l,e.r-a.r,a.t-e.t,e.b-a.b),s._pointLabelItems=function hm(s,a,e){const i=[],c=s._pointLabels.length,d=s.options,{centerPointLabels:h,display:p}=d.pointLabels,_={extra:rl(d)/2,additionalAngle:h?Yt/c:0};let k;for(let I=0;I<c;I++){_.padding=e[I],_.size=a[I];const z=um(s,I,_);i.push(z),"auto"===p&&(z.visible=Hf(z,k),z.visible&&(k=z))}return i}(s,i,c)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(a,e,i,c){this.xCenter+=Math.floor((a-e)/2),this.yCenter+=Math.floor((i-c)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(a,e,i,c))}getIndexAngle(a){return tn(a*(yn/(this._pointLabels.length||1))+xe(this.options.startAngle||0))}getDistanceFromCenterForValue(a){if(Mn(a))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-a)*e:(a-this.min)*e}getValueForDistanceFromCenter(a){if(Mn(a))return NaN;const e=a/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(a){const e=this._pointLabels||[];if(a>=0&&a<e.length){const i=e[a];return function gm(s,a,e){return xs(s,{label:e,index:a,type:"pointLabel"})}(this.getContext(),a,i)}}getPointPosition(a,e,i=0){const c=this.getIndexAngle(a)-Jn+i;return{x:Math.cos(c)*e+this.xCenter,y:Math.sin(c)*e+this.yCenter,angle:c}}getPointPositionForValue(a,e){return this.getPointPosition(a,this.getDistanceFromCenterForValue(e))}getBasePosition(a){return this.getPointPositionForValue(a||0,this.getBaseValue())}getPointLabelPosition(a){const{left:e,top:i,right:c,bottom:d}=this._pointLabelItems[a];return{left:e,top:i,right:c,bottom:d}}drawBackground(){const{backgroundColor:a,grid:{circular:e}}=this.options;if(a){const i=this.ctx;i.save(),i.beginPath(),Ja(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=a,i.fill(),i.restore()}}drawGrid(){const a=this.ctx,e=this.options,{angleLines:i,grid:c,border:d}=e,h=this._pointLabels.length;let p,_,k;if(e.pointLabels.display&&function pm(s,a){const{ctx:e,options:{pointLabels:i}}=s;for(let c=a-1;c>=0;c--){const d=s._pointLabelItems[c];if(!d.visible)continue;const h=i.setContext(s.getPointLabelContext(c));vd(e,h,d);const p=Zi(h.font),{x:_,y:k,textAlign:I}=d;ua(e,s._pointLabels[c],_,k+p.lineHeight/2,p,{color:h.color,textAlign:I,textBaseline:"middle"})}}(this,h),c.display&&this.ticks.forEach((I,z)=>{if(0!==z||0===z&&this.min<0){_=this.getDistanceFromCenterForValue(I.value);const ee=this.getContext(z),ie=c.setContext(ee),Me=d.setContext(ee);!function sl(s,a,e,i,c){const d=s.ctx,h=a.circular,{color:p,lineWidth:_}=a;!h&&!i||!p||!_||e<0||(d.save(),d.strokeStyle=p,d.lineWidth=_,d.setLineDash(c.dash||[]),d.lineDashOffset=c.dashOffset,d.beginPath(),Ja(s,e,h,i),d.closePath(),d.stroke(),d.restore())}(this,ie,_,h,Me)}}),i.display){for(a.save(),p=h-1;p>=0;p--){const I=i.setContext(this.getPointLabelContext(p)),{color:z,lineWidth:ee}=I;!ee||!z||(a.lineWidth=ee,a.strokeStyle=z,a.setLineDash(I.borderDash),a.lineDashOffset=I.borderDashOffset,_=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),k=this.getPointPosition(p,_),a.beginPath(),a.moveTo(this.xCenter,this.yCenter),a.lineTo(k.x,k.y),a.stroke())}a.restore()}}drawBorder(){}drawLabels(){const a=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const c=this.getIndexAngle(0);let d,h;a.save(),a.translate(this.xCenter,this.yCenter),a.rotate(c),a.textAlign="center",a.textBaseline="middle",this.ticks.forEach((p,_)=>{if(0===_&&this.min>=0&&!e.reverse)return;const k=i.setContext(this.getContext(_)),I=Zi(k.font);if(d=this.getDistanceFromCenterForValue(this.ticks[_].value),k.showLabelBackdrop){a.font=I.string,h=a.measureText(p.label).width,a.fillStyle=k.backdropColor;const z=wr(k.backdropPadding);a.fillRect(-h/2-z.left,-d-I.size/2-z.top,h+z.width,I.size+z.height)}ua(a,p.label,0,-d,I,{color:k.color,strokeColor:k.textStrokeColor,strokeWidth:k.textStrokeWidth})}),a.restore()}drawTitle(){}},TimeScale:Lu,TimeSeriesScale:class mm extends Lu{static id="timeseries";static defaults=Lu.defaults;constructor(a){super(a),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const a=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(a);this._minPos=al(e,this.min),this._tableRange=al(e,this.max)-this._minPos,super.initOffsets(a)}buildLookupTable(a){const{min:e,max:i}=this,c=[],d=[];let h,p,_,k,I;for(h=0,p=a.length;h<p;++h)k=a[h],k>=e&&k<=i&&c.push(k);if(c.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(h=0,p=c.length;h<p;++h)I=c[h+1],_=c[h-1],k=c[h],Math.round((I+_)/2)!==k&&d.push({time:k,pos:h/(p-1)});return d}_generate(){const a=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(a)||!i.length)&&i.splice(0,0,a),(!i.includes(e)||1===i.length)&&i.push(e),i.sort((c,d)=>c-d)}_getTimestampsForTable(){let a=this._cache.all||[];if(a.length)return a;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return a=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,a=this._cache.all=a,a}getDecimalForValue(a){return(al(this._table,a)-this._minPos)/this._tableRange}getValueForPixel(a){const e=this._offsets,i=this.getDecimalForPixel(a)/e.factor-e.end;return al(this._table,i*this._tableRange+this._minPos,!0)}}})];let bm=(()=>{class s{constructor(e){this.http=e,this.apiUrl=`${Un_apiUrl}/dashboard`}getDashboardData(){return this.http.get(this.apiUrl).pipe((0,on.K)(e=>(console.error("Error fetching dashboard data:",e),(0,Qt._)(()=>new Error("Failed to load dashboard data")))))}refreshDashboard(){return this.http.post(`${this.apiUrl}/refresh`,{}).pipe((0,on.K)(e=>(console.error("Error refreshing dashboard:",e),(0,Qt._)(()=>new Error("Failed to refresh dashboard")))))}static#e=this.\u0275fac=function(i){return new(i||s)(o.LFG(J.eN))};static#t=this.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function _b(s,a){1&s&&(o.TgZ(0,"div",8),o._UZ(1,"div",9),o.TgZ(2,"p"),o._uU(3,"Loading dashboard data..."),o.qZA()())}function Kf(s,a){if(1&s&&(o.TgZ(0,"div",41)(1,"div",42)(2,"div",43),o._UZ(3,"i",44),o.TgZ(4,"span",45),o._uU(5),o.qZA()(),o.TgZ(6,"span",46),o._uU(7),o.qZA()(),o.TgZ(8,"div",47),o._UZ(9,"div",48),o.qZA(),o.TgZ(10,"p",49),o._uU(11),o.qZA()()),2&s){const e=a.$implicit,i=o.oxw(2);o.xp6(3),o.Tol(i.getIconClass(e.icon)),o.Q6J("ngClass",e.color+"-icon"),o.xp6(2),o.Oqu(e.title),o.xp6(2),o.hij("",e.percentage.toFixed(1),"%"),o.xp6(2),o.Udp("width",e.percentage,"%"),o.Q6J("ngClass",e.color+"-bar"),o.xp6(2),o.Oqu(e.description)}}function Jf(s,a){if(1&s&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&s){const e=o.oxw().$implicit;o.xp6(1),o.hij('"',e.entityName,'"')}}function ws(s,a){if(1&s&&(o.TgZ(0,"p",61),o._uU(1),o.qZA()),2&s){const e=o.oxw().$implicit;o.xp6(1),o.hij(" ",e.details," ")}}function Qf(s,a){if(1&s&&(o.TgZ(0,"div",50)(1,"div",51),o._UZ(2,"i",52),o.qZA(),o.TgZ(3,"div",53)(4,"div",54)(5,"span",55),o._uU(6),o.qZA(),o.TgZ(7,"span",56),o._uU(8),o.qZA()(),o.TgZ(9,"p",57)(10,"span",58),o._uU(11),o.qZA(),o.YNc(12,Jf,2,1,"span",59),o.qZA(),o.YNc(13,ws,2,1,"p",60),o.qZA()()),2&s){const e=a.$implicit;o.xp6(6),o.Oqu(e.username),o.xp6(2),o.Oqu(e.timeAgo),o.xp6(3),o.Oqu(e.action),o.xp6(1),o.Q6J("ngIf",e.entityName),o.xp6(1),o.Q6J("ngIf",e.details)}}function bb(s,a){1&s&&(o.TgZ(0,"div",62),o._UZ(1,"i",63),o.TgZ(2,"p"),o._uU(3,"No recent activities found"),o.qZA()())}function Bu(s,a){if(1&s&&(o.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"p",15),o._uU(6,"Total Books"),o.qZA(),o.TgZ(7,"p",16),o._uU(8),o.qZA()(),o.TgZ(9,"div",17),o._UZ(10,"i",18),o.qZA()()(),o.TgZ(11,"div",12)(12,"div",13)(13,"div",14)(14,"p",15),o._uU(15,"Created Books"),o.qZA(),o.TgZ(16,"p",16),o._uU(17),o.qZA()(),o.TgZ(18,"div",19),o._UZ(19,"i",20),o.qZA()()(),o.TgZ(20,"div",12)(21,"div",13)(22,"div",14)(23,"p",15),o._uU(24,"Favorited"),o.qZA(),o.TgZ(25,"p",16),o._uU(26),o.qZA()(),o.TgZ(27,"div",21),o._UZ(28,"i",22),o.qZA()()(),o.TgZ(29,"div",12)(30,"div",13)(31,"div",14)(32,"p",15),o._uU(33,"Today's Activities"),o.qZA(),o.TgZ(34,"p",16),o._uU(35),o.qZA()(),o.TgZ(36,"div",23),o._UZ(37,"i",24),o.qZA()()()(),o.TgZ(38,"div",25)(39,"div",26)(40,"div",27)(41,"h3"),o._uU(42,"Monthly Book Activity"),o.qZA(),o._UZ(43,"i",28),o.qZA(),o.TgZ(44,"div",29),o._UZ(45,"canvas",30),o.qZA()()(),o.TgZ(46,"div",31)(47,"div",32)(48,"div",27)(49,"h3"),o._uU(50,"Your Progress"),o.qZA(),o._UZ(51,"i",33),o.qZA(),o.TgZ(52,"div",34),o.YNc(53,Kf,12,9,"div",35),o.qZA()(),o.TgZ(54,"div",36)(55,"div",27)(56,"h3"),o._uU(57,"Recent Activities"),o.qZA(),o._UZ(58,"i",37),o.qZA(),o.TgZ(59,"div",38),o.YNc(60,Qf,14,5,"div",39),o.YNc(61,bb,4,0,"div",40),o.qZA()()()()),2&s){const e=o.oxw();o.xp6(8),o.Oqu(e.stats.totalBooks),o.xp6(9),o.Oqu(e.stats.createdBooks),o.xp6(9),o.Oqu(e.stats.favoritedBooks),o.xp6(9),o.Oqu(e.stats.todayActivities),o.xp6(18),o.Q6J("ngForOf",e.progressBars),o.xp6(7),o.Q6J("ngForOf",e.recentActivities),o.xp6(1),o.Q6J("ngIf",0===e.recentActivities.length)}}function wa(s,a){if(1&s){const e=o.EpF();o.TgZ(0,"div",64),o._UZ(1,"i",65),o.TgZ(2,"h3"),o._uU(3,"Unable to load dashboard"),o.qZA(),o.TgZ(4,"p"),o._uU(5,"There was an error loading your dashboard data."),o.qZA(),o.TgZ(6,"button",66),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.loadDashboardData())}),o._uU(7," Try Again "),o.qZA()()}}lf.register(..._m);const vm=[{path:"",component:yt,canActivate:[So.p],children:[{path:"",component:No,canActivate:[So.p]},{path:"featured",component:Ji},{path:"dashboard",component:(()=>{class s{constructor(e){this.dashboardService=e,this.dashboardData=null,this.stats=null,this.progressBars=[],this.recentActivities=[],this.isLoading=!0,this.isRefreshing=!1,this.monthlyChart=null}ngOnInit(){this.loadDashboardData()}ngOnDestroy(){this.monthlyChart&&this.monthlyChart.destroy()}loadDashboardData(){this.isLoading=!0,this.dashboardService.getDashboardData().subscribe({next:e=>{this.dashboardData=e,this.stats=e.stats,this.progressBars=e.progressBars,this.recentActivities=e.recentActivities,setTimeout(()=>{this.createMonthlyChart(e.monthlyBookActivity)},100),this.isLoading=!1},error:e=>{console.error("Error loading dashboard data:",e),this.isLoading=!1}})}refreshDashboard(){this.isRefreshing=!0,this.dashboardService.refreshDashboard().subscribe({next:e=>{this.dashboardData=e,this.stats=e.stats,this.progressBars=e.progressBars,this.recentActivities=e.recentActivities,this.updateMonthlyChart(e.monthlyBookActivity),this.isRefreshing=!1},error:e=>{console.error("Error refreshing dashboard:",e),this.isRefreshing=!1}})}createMonthlyChart(e){const i=document.getElementById("monthlyChart");if(!i)return;this.monthlyChart&&this.monthlyChart.destroy();const c={type:"bar",data:{labels:e.map(d=>d.label),datasets:[{label:"Created",data:e.map(d=>d.created),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1},{label:"Favorites",data:e.map(d=>d.favorites),backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgb(239, 68, 68)",borderWidth:1},{label:"Archived",data:e.map(d=>d.archived),backgroundColor:"rgba(245, 158, 11, 0.8)",borderColor:"rgb(245, 158, 11)",borderWidth:1},{label:"Borrowed",data:e.map(d=>d.borrowed),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgb(34, 197, 94)",borderWidth:1},{label:"Returned",data:e.map(d=>d.returned),backgroundColor:"rgba(168, 85, 247, 0.8)",borderColor:"rgb(168, 85, 247)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Monthly Book Activity"},legend:{position:"top"}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}};this.monthlyChart=new lf(i,c)}updateMonthlyChart(e){this.monthlyChart&&(this.monthlyChart.data.labels=e.map(i=>i.label),this.monthlyChart.data.datasets[0].data=e.map(i=>i.created),this.monthlyChart.data.datasets[1].data=e.map(i=>i.favorites),this.monthlyChart.data.datasets[2].data=e.map(i=>i.archived),this.monthlyChart.data.datasets[3].data=e.map(i=>i.borrowed),this.monthlyChart.data.datasets[4].data=e.map(i=>i.returned),this.monthlyChart.update())}getProgressBarColor(e){return{blue:"bg-blue-500",red:"bg-red-500",green:"bg-green-500",orange:"bg-orange-500",purple:"bg-purple-500"}[e]||"bg-gray-500"}getIconClass(e){return{book:"fas fa-book",heart:"fas fa-heart",check:"fas fa-check",activity:"fas fa-chart-line"}[e]||"fas fa-info"}static#e=this.\u0275fac=function(i){return new(i||s)(o.Y36(bm))};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-dashboard"]],decls:13,vars:9,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"header-content"],[1,"refresh-btn",3,"disabled","click"],[1,"fas","fa-sync-alt"],["class","loading-state",4,"ngIf"],["class","dashboard-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],[1,"spinner"],[1,"dashboard-content"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-content"],[1,"stat-text"],[1,"stat-label"],[1,"stat-value"],[1,"stat-icon","blue"],[1,"fas","fa-book"],[1,"stat-icon","green"],[1,"fas","fa-plus"],[1,"stat-icon","red"],[1,"fas","fa-heart"],[1,"stat-icon","orange"],[1,"fas","fa-chart-line"],[1,"chart-section"],[1,"chart-card","full-width"],[1,"card-header"],[1,"fas","fa-chart-bar"],[1,"chart-container"],["id","monthlyChart"],[1,"bottom-grid"],[1,"progress-card"],[1,"fas","fa-trophy"],[1,"progress-list"],["class","progress-item",4,"ngFor","ngForOf"],[1,"activities-card"],[1,"fas","fa-clock"],[1,"activities-list"],["class","activity-item",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"progress-item"],[1,"progress-header"],[1,"progress-info"],[3,"ngClass"],[1,"progress-title"],[1,"progress-percentage"],[1,"progress-bar-container"],[1,"progress-bar",3,"ngClass"],[1,"progress-description"],[1,"activity-item"],[1,"activity-icon"],[1,"fas","fa-user"],[1,"activity-content"],[1,"activity-header"],[1,"activity-username"],[1,"activity-time"],[1,"activity-description"],[1,"activity-action"],[4,"ngIf"],["class","activity-details",4,"ngIf"],[1,"activity-details"],[1,"empty-state"],[1,"fas","fa-history"],[1,"error-state"],[1,"fas","fa-exclamation-triangle"],[1,"retry-btn",3,"click"]],template:function(i,c){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),o._uU(4,"Dashboard"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"Welcome back! Here's what's happening with your books."),o.qZA()(),o.TgZ(7,"button",3),o.NdJ("click",function(){return c.refreshDashboard()}),o._UZ(8,"i",4),o._uU(9),o.qZA()(),o.YNc(10,_b,4,0,"div",5),o.YNc(11,Bu,62,7,"div",6),o.YNc(12,wa,8,0,"div",7),o.qZA()),2&i&&(o.xp6(7),o.ekj("loading",c.isRefreshing),o.Q6J("disabled",c.isRefreshing),o.xp6(1),o.ekj("fa-spin",c.isRefreshing),o.xp6(1),o.hij(" ",c.isRefreshing?"Refreshing...":"Refresh"," "),o.xp6(1),o.Q6J("ngIf",c.isLoading),o.xp6(1),o.Q6J("ngIf",!c.isLoading&&c.stats),o.xp6(1),o.Q6J("ngIf",!c.isLoading&&!c.stats))},dependencies:[g.mk,g.sg,g.O5],styles:['.dashboard-container[_ngcontent-%COMP%]{padding:24px;background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);min-height:100vh;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin:0 0 4px}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}.refresh-btn[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:8px 16px;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s}.refresh-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-1px)}.refresh-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px;text-align:center}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:2px solid #e5e7eb;border-top:2px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.dashboard-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;margin-bottom:24px}.stat-card[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:20px;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.stat-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.stat-label[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin:0 0 4px;font-weight:500}.stat-value[_ngcontent-%COMP%]{color:#1f2937;font-size:2rem;font-weight:700;margin:0}.stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.25rem}.stat-icon.blue[_ngcontent-%COMP%]{background:#dbeafe;color:#3b82f6}.stat-icon.green[_ngcontent-%COMP%]{background:#dcfce7;color:#22c55e}.stat-icon.red[_ngcontent-%COMP%]{background:#fee2e2;color:#ef4444}.stat-icon.orange[_ngcontent-%COMP%]{background:#fed7aa;color:#f97316}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:24px;margin-bottom:24px}.chart-card[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:24px;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}.card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9ca3af}.chart-container[_ngcontent-%COMP%]{position:relative;height:320px}.bottom-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:24px}.progress-card[_ngcontent-%COMP%], .activities-card[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:24px;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.progress-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.progress-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.progress-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.progress-title[_ngcontent-%COMP%]{font-weight:500;color:#374151}.progress-percentage[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.progress-bar-container[_ngcontent-%COMP%]{width:100%;height:12px;background:#e5e7eb;border-radius:6px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;border-radius:6px;transition:width .8s ease-in-out}.blue-bar[_ngcontent-%COMP%]{background:#3b82f6}.red-bar[_ngcontent-%COMP%]{background:#ef4444}.green-bar[_ngcontent-%COMP%]{background:#22c55e}.orange-bar[_ngcontent-%COMP%]{background:#f97316}.blue-icon[_ngcontent-%COMP%]{color:#3b82f6}.red-icon[_ngcontent-%COMP%]{color:#ef4444}.green-icon[_ngcontent-%COMP%]{color:#22c55e}.orange-icon[_ngcontent-%COMP%]{color:#f97316}.progress-description[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin:0}.activities-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;max-height:320px;overflow-y:auto}.activity-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;background:#f9fafb;border-radius:8px;transition:background .2s}.activity-item[_ngcontent-%COMP%]:hover{background:#f3f4f6}.activity-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:#dbeafe;color:#3b82f6;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:.875rem}.activity-content[_ngcontent-%COMP%]{flex:1;min-width:0}.activity-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.activity-username[_ngcontent-%COMP%]{font-weight:500;color:#1f2937}.activity-time[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.activity-description[_ngcontent-%COMP%]{font-size:.875rem;color:#4b5563;margin:0 0 4px}.activity-action[_ngcontent-%COMP%]{font-weight:500}.activity-details[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:32px;color:#6b7280}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:8px;color:#d1d5db}.error-state[_ngcontent-%COMP%]{text-align:center;padding:48px}.error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#ef4444;margin-bottom:16px}.error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0 0 8px}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0 0 16px}.retry-btn[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:8px 16px;border-radius:8px;cursor:pointer;transition:background .2s}.retry-btn[_ngcontent-%COMP%]:hover{background:#2563eb}.activities-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.activities-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.activities-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.activities-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:16px}.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:flex-start}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}.charts-grid[_ngcontent-%COMP%], .bottom-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.fas[_ngcontent-%COMP%]{font-family:"Font Awesome 5 Free";font-weight:900}']})}return s})(),canActivate:[So.p]},{path:"my-books",component:ct,canActivate:[So.p]},{path:"favorites",component:Ci},{path:"my-borrowed-books",component:si,canActivate:[So.p]},{path:"my-returned-books",component:_n,canActivate:[So.p]},{path:"archived-books",component:_o,canActivate:[So.p]},{path:"details/:bookId",component:xi,canActivate:[So.p]},{path:"manage",component:Sn,canActivate:[So.p]},{path:"chat",component:Vn,canActivate:[So.p]},{path:"manage/:bookId",component:Sn,canActivate:[So.p]}]}];let vb=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=o.oAB({type:s});static#n=this.\u0275inj=o.cJS({imports:[X.Bz.forChild(vm),X.Bz]})}return s})();var cl=O(1809);O(9315),O(9397),O(3020),O(6593);let zu=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=o.oAB({type:s});static#n=this.\u0275inj=o.cJS({imports:[cl.BQ,cl.BQ]})}return s})(),hl=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=o.oAB({type:s});static#n=this.\u0275inj=o.cJS({imports:[cl.BQ,cl.si,cl.BQ]})}return s})();var sp=O(5940);let Gu=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=o.oAB({type:s});static#n=this.\u0275inj=o.cJS({imports:[g.ez,B.u5,X.Bz,J.JF,vb,zu,hl,sp.Cq]})}return s})()},5775:(Fe,De,O)=>{"use strict";O.d(De,{p:()=>J});var g=O(2058),B=O(9291),X=O(8440);const J=()=>{const o=(0,B.f3M)(X.M),K=(0,B.f3M)(g.F0);return!o.keycloakInstance.isTokenExpired()||(K.navigate(["login"]),!1)}},8440:(Fe,De,O)=>{"use strict";O.d(De,{M:()=>oe});var g=O(5861),B=O(2413);class X extends Error{}function K(se,U){if("string"!=typeof se)throw new X("Invalid token specified: must be a string");U||(U={});const Ce=!0===U.header?0:1,Oe=se.split(".")[Ce];if("string"!=typeof Oe)throw new X(`Invalid token specified: missing part #${Ce+1}`);let We;try{We=function o(se){let U=se.replace(/-/g,"+").replace(/_/g,"/");switch(U.length%4){case 0:break;case 2:U+="==";break;case 3:U+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function J(se){return decodeURIComponent(atob(se).replace(/(.)/g,(U,Ce)=>{let Oe=Ce.charCodeAt(0).toString(16).toUpperCase();return Oe.length<2&&(Oe="0"+Oe),"%"+Oe}))}(U)}catch{return atob(U)}}(Oe)}catch(Ke){throw new X(`Invalid token specified: invalid base64 for part #${Ce+1} (${Ke.message})`)}try{return JSON.parse(We)}catch(Ke){throw new X(`Invalid token specified: invalid json for part #${Ce+1} (${Ke.message})`)}}if(X.prototype.name="InvalidTokenError",typeof Promise>"u")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");function ne(se){if(!(this instanceof ne))throw new Error("The 'Keycloak' constructor must be invoked with 'new'.");for(var Ce,We,U=this,Oe=[],Ke={enable:!0,callbackList:[],interval:5},rt=document.getElementsByTagName("script"),Mt=0;Mt<rt.length;Mt++)(-1!==rt[Mt].src.indexOf("keycloak.js")||-1!==rt[Mt].src.indexOf("keycloak.min.js"))&&-1!==rt[Mt].src.indexOf("version=")&&(U.iframeVersion=rt[Mt].src.substring(rt[Mt].src.indexOf("version=")+8).split("&")[0]);var Pe=!0,it=Vt(console.info),de=Vt(console.warn);function pe(fe,Ue){for(var pt=function ue(fe){var Ue=null,pt=window.crypto||window.msCrypto;if(pt&&pt.getRandomValues&&window.Uint8Array)return Ue=new Uint8Array(fe),pt.getRandomValues(Ue),Ue;Ue=new Array(fe);for(var dt=0;dt<Ue.length;dt++)Ue[dt]=Math.floor(256*Math.random());return Ue}(fe),dt=new Array(fe),$e=0;$e<fe;$e++)dt[$e]=Ue.charCodeAt(pt[$e]%Ue.length);return String.fromCharCode.apply(null,dt)}function ze(){if(typeof U.authServerUrl<"u")return"/"==U.authServerUrl.charAt(U.authServerUrl.length-1)?U.authServerUrl+"realms/"+encodeURIComponent(U.realm):U.authServerUrl+"/realms/"+encodeURIComponent(U.realm)}function Je(fe,Ue){var pt=fe.code,dt=fe.error,$e=fe.prompt,Dt=(new Date).getTime();if(fe.kc_action_status&&U.onActionUpdate&&U.onActionUpdate(fe.kc_action_status),dt)if("none"!=$e){var Ot={error:dt,error_description:fe.error_description};U.onAuthError&&U.onAuthError(Ot),Ue&&Ue.setError(Ot)}else Ue&&Ue.setSuccess();else if("standard"!=U.flow&&(fe.access_token||fe.id_token)&&Gt(fe.access_token,null,fe.id_token,!0),"implicit"!=U.flow&&pt){var wt="code="+pt+"&grant_type=authorization_code",kt=U.endpoints.token(),jt=new XMLHttpRequest;jt.open("POST",kt,!0),jt.setRequestHeader("Content-type","application/x-www-form-urlencoded"),wt+="&client_id="+encodeURIComponent(U.clientId),wt+="&redirect_uri="+fe.redirectUri,fe.pkceCodeVerifier&&(wt+="&code_verifier="+fe.pkceCodeVerifier),jt.withCredentials=!0,jt.onreadystatechange=function(){if(4==jt.readyState)if(200==jt.status){var an=JSON.parse(jt.responseText);Gt(an.access_token,an.refresh_token,an.id_token,"standard"===U.flow),mt()}else U.onAuthError&&U.onAuthError(),Ue&&Ue.setError()},jt.send(wt)}function Gt(an,un,dn,Zo){vt(an,un,dn,Dt=(Dt+(new Date).getTime())/2),Pe&&U.idTokenParsed&&U.idTokenParsed.nonce!=fe.storedNonce?(it("[KEYCLOAK] Invalid nonce, clearing token"),U.clearToken(),Ue&&Ue.setError()):Zo&&(U.onAuthSuccess&&U.onAuthSuccess(),Ue&&Ue.setSuccess())}}function ft(fe){return 0==fe.status&&fe.responseText&&fe.responseURL.startsWith("file:")}function vt(fe,Ue,pt,dt){if(U.tokenTimeoutHandle&&(clearTimeout(U.tokenTimeoutHandle),U.tokenTimeoutHandle=null),Ue?(U.refreshToken=Ue,U.refreshTokenParsed=K(Ue)):(delete U.refreshToken,delete U.refreshTokenParsed),pt?(U.idToken=pt,U.idTokenParsed=K(pt)):(delete U.idToken,delete U.idTokenParsed),fe){if(U.token=fe,U.tokenParsed=K(fe),U.sessionId=U.tokenParsed.sid,U.authenticated=!0,U.subject=U.tokenParsed.sub,U.realmAccess=U.tokenParsed.realm_access,U.resourceAccess=U.tokenParsed.resource_access,dt&&(U.timeSkew=Math.floor(dt/1e3)-U.tokenParsed.iat),null!=U.timeSkew&&(it("[KEYCLOAK] Estimated time difference between browser and server is "+U.timeSkew+" seconds"),U.onTokenExpired)){var $e=1e3*(U.tokenParsed.exp-(new Date).getTime()/1e3+U.timeSkew);it("[KEYCLOAK] Token expires in "+Math.round($e/1e3)+" s"),$e<=0?U.onTokenExpired():U.tokenTimeoutHandle=setTimeout(U.onTokenExpired,$e)}}else delete U.token,delete U.tokenParsed,delete U.subject,delete U.realmAccess,delete U.resourceAccess,U.authenticated=!1}function Ut(){var fe="0123456789abcdef",Ue=pe(36,fe).split("");return Ue[14]="4",Ue[19]=fe.substr(3&Ue[19]|8,1),Ue[8]=Ue[13]=Ue[18]=Ue[23]="-",Ue.join("")}function vn(fe){var Ue=function qn(fe){var Ue;switch(U.flow){case"standard":Ue=["code","state","session_state","kc_action_status","iss"];break;case"implicit":Ue=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status","iss"];break;case"hybrid":Ue=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status","iss"]}Ue.push("error"),Ue.push("error_description"),Ue.push("error_uri");var $e,Dt,pt=fe.indexOf("?"),dt=fe.indexOf("#");if("query"===U.responseMode&&-1!==pt?($e=fe.substring(0,pt),""!==(Dt=je(fe.substring(pt+1,-1!==dt?dt:fe.length),Ue)).paramsString&&($e+="?"+Dt.paramsString),-1!==dt&&($e+=fe.substring(dt))):"fragment"===U.responseMode&&-1!==dt&&($e=fe.substring(0,dt),""!==(Dt=je(fe.substring(dt+1),Ue)).paramsString&&($e+="#"+Dt.paramsString)),Dt&&Dt.oauthParams)if("standard"===U.flow||"hybrid"===U.flow){if((Dt.oauthParams.code||Dt.oauthParams.error)&&Dt.oauthParams.state)return Dt.oauthParams.newUrl=$e,Dt.oauthParams}else if("implicit"===U.flow&&(Dt.oauthParams.access_token||Dt.oauthParams.error)&&Dt.oauthParams.state)return Dt.oauthParams.newUrl=$e,Dt.oauthParams}(fe);if(Ue){var pt=We.get(Ue.state);return pt&&(Ue.valid=!0,Ue.redirectUri=pt.redirectUri,Ue.storedNonce=pt.nonce,Ue.prompt=pt.prompt,Ue.pkceCodeVerifier=pt.pkceCodeVerifier),Ue}}function je(fe,Ue){for(var pt=fe.split("&"),dt={paramsString:"",oauthParams:{}},$e=0;$e<pt.length;$e++){var Dt=pt[$e].indexOf("="),Ot=pt[$e].slice(0,Dt);-1!==Ue.indexOf(Ot)?dt.oauthParams[Ot]=pt[$e].slice(Dt+1):(""!==dt.paramsString&&(dt.paramsString+="&"),dt.paramsString+=pt[$e])}return dt}function Se(){var fe={setSuccess:function(Ue){fe.resolve(Ue)},setError:function(Ue){fe.reject(Ue)}};return fe.promise=new Promise(function(Ue,pt){fe.resolve=Ue,fe.reject=pt}),fe}function et(){var fe=Se();if(!Ke.enable||Ke.iframe)return fe.setSuccess(),fe.promise;var Ue=document.createElement("iframe");Ke.iframe=Ue,Ue.onload=function(){var $e=U.endpoints.authorize();Ke.iframeOrigin="/"===$e.charAt(0)?function at(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}():$e.substring(0,$e.indexOf("/",8)),fe.setSuccess()};var pt=U.endpoints.checkSessionIframe();return Ue.setAttribute("src",pt),Ue.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),Ue.setAttribute("title","keycloak-session-iframe"),Ue.style.display="none",document.body.appendChild(Ue),window.addEventListener("message",function($e){if($e.origin===Ke.iframeOrigin&&Ke.iframe.contentWindow===$e.source&&("unchanged"==$e.data||"changed"==$e.data||"error"==$e.data)){"unchanged"!=$e.data&&U.clearToken();for(var Dt=Ke.callbackList.splice(0,Ke.callbackList.length),Ot=Dt.length-1;Ot>=0;--Ot){var wt=Dt[Ot];"error"==$e.data?wt.setError():wt.setSuccess("unchanged"==$e.data)}}},!1),fe.promise}function mt(){Ke.enable&&U.token&&setTimeout(function(){yt().then(function(fe){fe&&mt()})},1e3*Ke.interval)}function yt(){var fe=Se();if(Ke.iframe&&Ke.iframeOrigin){var Ue=U.clientId+" "+(U.sessionId?U.sessionId:"");Ke.callbackList.push(fe),1==Ke.callbackList.length&&Ke.iframe.contentWindow.postMessage(Ue,Ke.iframeOrigin)}else fe.setSuccess();return fe.promise}function Zt(){var fe=Se();if(Ke.enable||U.silentCheckSsoRedirectUri){var Ue=document.createElement("iframe");Ue.setAttribute("src",U.endpoints.thirdPartyCookiesIframe()),Ue.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),Ue.setAttribute("title","keycloak-3p-check-iframe"),Ue.style.display="none",document.body.appendChild(Ue);var pt=function(dt){Ue.contentWindow===dt.source&&("supported"!==dt.data&&"unsupported"!==dt.data||("unsupported"===dt.data&&(de("[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:\n\n - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).\n - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).\n\nFor more information see: https://www.keycloak.org/docs/latest/securing_apps/#_modern_browsers"),Ke.enable=!1,U.silentCheckSsoFallback&&(U.silentCheckSsoRedirectUri=!1)),document.body.removeChild(Ue),window.removeEventListener("message",pt),fe.setSuccess()))};window.addEventListener("message",pt,!1)}else fe.setSuccess();return function Xe(fe,Ue,pt){var dt=null,$e=new Promise(function(Dt,Ot){dt=setTimeout(function(){Ot({error:pt||"Promise is not settled within timeout of "+Ue+"ms"})},Ue)});return Promise.race([fe,$e]).finally(function(){clearTimeout(dt)})}(fe.promise,U.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function on(fe){if(!fe||"default"==fe)return{login:function(Ot){return window.location.assign(U.createLoginUrl(Ot)),Se().promise},logout:(Ot=(0,g.Z)(function*(wt){if("GET"===(wt?.logoutMethod??U.logoutMethod))return void window.location.replace(U.createLogoutUrl(wt));const jt=U.createLogoutUrl(wt),Gt=yield fetch(jt,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id_token_hint:U.idToken,client_id:U.clientId,post_logout_redirect_uri:Ce.redirectUri(wt,!1)})});if(Gt.redirected)window.location.href=Gt.url;else{if(!Gt.ok)throw new Error("Logout failed, request returned an error code.");window.location.reload()}}),function(kt){return Ot.apply(this,arguments)}),register:function(Ot){return window.location.assign(U.createRegisterUrl(Ot)),Se().promise},accountManagement:function(){var Ot=U.createAccountUrl();if(!(typeof Ot<"u"))throw"Not supported by the OIDC server";return window.location.href=Ot,Se().promise},redirectUri:function(Ot,wt){return Ot&&Ot.redirectUri?Ot.redirectUri:U.redirectUri?U.redirectUri:location.href}};var Ot;if("cordova"==fe){Ke.enable=!1;var Ue=function(Ot,wt,kt){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(Ot,wt,kt):window.open(Ot,wt,kt)},$e=function(Ot){var wt=function(Ot){return Ot&&Ot.cordovaOptions?Object.keys(Ot.cordovaOptions).reduce(function(wt,kt){return wt[kt]=Ot.cordovaOptions[kt],wt},{}):{}}(Ot);return wt.location="no",Ot&&"none"==Ot.prompt&&(wt.hidden="yes"),function(Ot){return Object.keys(Ot).reduce(function(wt,kt){return wt.push(kt+"="+Ot[kt]),wt},[]).join(",")}(wt)},Dt=function(){return U.redirectUri||"http://localhost"};return{login:function(Ot){var wt=Se(),kt=$e(Ot),jt=U.createLoginUrl(Ot),Gt=Ue(jt,"_blank",kt),an=!1,un=!1,dn=function(){un=!0,Gt.close()};return Gt.addEventListener("loadstart",function(Zo){0==Zo.url.indexOf(Dt())&&(Je(vn(Zo.url),wt),dn(),an=!0)}),Gt.addEventListener("loaderror",function(Zo){an||(0==Zo.url.indexOf(Dt())?(Je(vn(Zo.url),wt),dn(),an=!0):(wt.setError(),dn()))}),Gt.addEventListener("exit",function(Zo){un||wt.setError({reason:"closed_by_user"})}),wt.promise},logout:function(Ot){var Gt,wt=Se(),kt=U.createLogoutUrl(Ot),jt=Ue(kt,"_blank","location=no,hidden=yes,clearcache=yes");return jt.addEventListener("loadstart",function(an){0==an.url.indexOf(Dt())&&jt.close()}),jt.addEventListener("loaderror",function(an){0==an.url.indexOf(Dt())||(Gt=!0),jt.close()}),jt.addEventListener("exit",function(an){Gt?wt.setError():(U.clearToken(),wt.setSuccess())}),wt.promise},register:function(Ot){var wt=Se(),kt=U.createRegisterUrl(),jt=$e(Ot),Gt=Ue(kt,"_blank",jt);return Gt.addEventListener("loadstart",function(an){0==an.url.indexOf(Dt())&&(Gt.close(),Je(vn(an.url),wt))}),wt.promise},accountManagement:function(){var Ot=U.createAccountUrl();if(!(typeof Ot<"u"))throw"Not supported by the OIDC server";var wt=Ue(Ot,"_blank","location=no");wt.addEventListener("loadstart",function(kt){0==kt.url.indexOf(Dt())&&wt.close()})},redirectUri:function(Ot){return Dt()}}}if("cordova-native"==fe)return Ke.enable=!1,{login:function(Ot){var wt=Se(),kt=U.createLoginUrl(Ot);return universalLinks.subscribe("keycloak",function(jt){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),Je(vn(jt.url),wt)}),window.cordova.plugins.browsertab.openUrl(kt),wt.promise},logout:function(Ot){var wt=Se(),kt=U.createLogoutUrl(Ot);return universalLinks.subscribe("keycloak",function(jt){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),U.clearToken(),wt.setSuccess()}),window.cordova.plugins.browsertab.openUrl(kt),wt.promise},register:function(Ot){var wt=Se(),kt=U.createRegisterUrl(Ot);return universalLinks.subscribe("keycloak",function(jt){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),Je(vn(jt.url),wt)}),window.cordova.plugins.browsertab.openUrl(kt),wt.promise},accountManagement:function(){var Ot=U.createAccountUrl();if(!(typeof Ot<"u"))throw"Not supported by the OIDC server";window.cordova.plugins.browsertab.openUrl(Ot)},redirectUri:function(Ot){return Ot&&Ot.redirectUri?Ot.redirectUri:U.redirectUri?U.redirectUri:"http://localhost"}};throw"invalid adapter type: "+fe}U.init=function(fe){if(U.didInitialize)throw new Error("A 'Keycloak' instance can only be initialized once.");if(U.didInitialize=!0,U.authenticated=!1,We=function Un(){try{return new Bn}catch{}return new Qt}(),Ce=fe&&["default","cordova","cordova-native"].indexOf(fe.adapter)>-1?on(fe.adapter):fe&&"object"==typeof fe.adapter?fe.adapter:window.Cordova||window.cordova?on("cordova"):on(),fe){if(typeof fe.useNonce<"u"&&(Pe=fe.useNonce),typeof fe.checkLoginIframe<"u"&&(Ke.enable=fe.checkLoginIframe),fe.checkLoginIframeInterval&&(Ke.interval=fe.checkLoginIframeInterval),"login-required"===fe.onLoad&&(U.loginRequired=!0),fe.responseMode){if("query"!==fe.responseMode&&"fragment"!==fe.responseMode)throw"Invalid value for responseMode";U.responseMode=fe.responseMode}if(fe.flow){switch(fe.flow){case"standard":U.responseType="code";break;case"implicit":U.responseType="id_token token";break;case"hybrid":U.responseType="code id_token token";break;default:throw"Invalid value for flow"}U.flow=fe.flow}if(null!=fe.timeSkew&&(U.timeSkew=fe.timeSkew),fe.redirectUri&&(U.redirectUri=fe.redirectUri),fe.silentCheckSsoRedirectUri&&(U.silentCheckSsoRedirectUri=fe.silentCheckSsoRedirectUri),U.silentCheckSsoFallback="boolean"!=typeof fe.silentCheckSsoFallback||fe.silentCheckSsoFallback,typeof fe.pkceMethod<"u"){if("S256"!==fe.pkceMethod&&!1!==fe.pkceMethod)throw new TypeError(`Invalid value for pkceMethod', expected 'S256' or false but got ${fe.pkceMethod}.`);U.pkceMethod=fe.pkceMethod}else U.pkceMethod="S256";U.enableLogging="boolean"==typeof fe.enableLogging&&fe.enableLogging,U.logoutMethod="POST"===fe.logoutMethod?"POST":"GET","string"==typeof fe.scope&&(U.scope=fe.scope),"string"==typeof fe.acrValues&&(U.acrValues=fe.acrValues),U.messageReceiveTimeout="number"==typeof fe.messageReceiveTimeout&&fe.messageReceiveTimeout>0?fe.messageReceiveTimeout:1e4}U.responseMode||(U.responseMode="fragment"),U.responseType||(U.responseType="code",U.flow="standard");var pt=Se(),dt=Se();dt.promise.then(function(){U.onReady&&U.onReady(U.authenticated),pt.setSuccess(U.authenticated)}).catch(function(kt){pt.setError(kt)});var $e=function Ne(fe){var pt,Ue=Se();function dt(jt){U.endpoints=jt?{authorize:function(){return jt.authorization_endpoint},token:function(){return jt.token_endpoint},logout:function(){if(!jt.end_session_endpoint)throw"Not supported by the OIDC server";return jt.end_session_endpoint},checkSessionIframe:function(){if(!jt.check_session_iframe)throw"Not supported by the OIDC server";return jt.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!jt.userinfo_endpoint)throw"Not supported by the OIDC server";return jt.userinfo_endpoint}}:{authorize:function(){return ze()+"/protocol/openid-connect/auth"},token:function(){return ze()+"/protocol/openid-connect/token"},logout:function(){return ze()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var Gt=ze()+"/protocol/openid-connect/login-status-iframe.html";return U.iframeVersion&&(Gt=Gt+"?version="+U.iframeVersion),Gt},thirdPartyCookiesIframe:function(){var Gt=ze()+"/protocol/openid-connect/3p-cookies/step1.html";return U.iframeVersion&&(Gt=Gt+"?version="+U.iframeVersion),Gt},register:function(){return ze()+"/protocol/openid-connect/registrations"},userinfo:function(){return ze()+"/protocol/openid-connect/userinfo"}}}if(se?"string"==typeof se&&(pt=se):pt="keycloak.json",pt)($e=new XMLHttpRequest).open("GET",pt,!0),$e.setRequestHeader("Accept","application/json"),$e.onreadystatechange=function(){if(4==$e.readyState)if(200==$e.status||ft($e)){var jt=JSON.parse($e.responseText);U.authServerUrl=jt["auth-server-url"],U.realm=jt.realm,U.clientId=jt.resource,dt(null),Ue.setSuccess()}else Ue.setError()},$e.send();else{if(!se.clientId)throw"clientId missing";U.clientId=se.clientId;var Dt=se.oidcProvider;if(Dt)if("string"==typeof Dt){var kt,$e;kt="/"==Dt.charAt(Dt.length-1)?Dt+".well-known/openid-configuration":Dt+"/.well-known/openid-configuration",($e=new XMLHttpRequest).open("GET",kt,!0),$e.setRequestHeader("Accept","application/json"),$e.onreadystatechange=function(){4==$e.readyState&&(200==$e.status||ft($e)?(dt(JSON.parse($e.responseText)),Ue.setSuccess()):Ue.setError())},$e.send()}else dt(Dt),Ue.setSuccess();else{if(!se.url)for(var Ot=document.getElementsByTagName("script"),wt=0;wt<Ot.length;wt++)if(Ot[wt].src.match(/.*keycloak\.js/)){se.url=Ot[wt].src.substr(0,Ot[wt].src.indexOf("/js/keycloak.js"));break}if(!se.realm)throw"realm missing";U.authServerUrl=se.url,U.realm=se.realm,dt(null),Ue.setSuccess()}}return Ue.promise}();function Dt(){var kt=function(an){an||(Gt.prompt="none"),fe&&fe.locale&&(Gt.locale=fe.locale),U.login(Gt).then(function(){dt.setSuccess()}).catch(function(un){dt.setError(un)})},jt=function(){var an=document.createElement("iframe"),un=U.createLoginUrl({prompt:"none",redirectUri:U.silentCheckSsoRedirectUri});an.setAttribute("src",un),an.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),an.setAttribute("title","keycloak-silent-check-sso"),an.style.display="none",document.body.appendChild(an);var dn=function(Zo){Zo.origin===window.location.origin&&an.contentWindow===Zo.source&&(Je(vn(Zo.data),dt),document.body.removeChild(an),window.removeEventListener("message",dn))};window.addEventListener("message",dn)},Gt={};switch(fe.onLoad){case"check-sso":Ke.enable?et().then(function(){yt().then(function(an){an?dt.setSuccess():U.silentCheckSsoRedirectUri?jt():kt(!1)}).catch(function(an){dt.setError(an)})}):U.silentCheckSsoRedirectUri?jt():kt(!1);break;case"login-required":kt(!0);break;default:throw"Invalid value for onLoad"}}function Ot(){var kt=vn(window.location.href);if(kt&&window.history.replaceState(window.history.state,null,kt.newUrl),kt&&kt.valid)return et().then(function(){Je(kt,dt)}).catch(function(jt){dt.setError(jt)});fe?fe.token&&fe.refreshToken?(vt(fe.token,fe.refreshToken,fe.idToken),Ke.enable?et().then(function(){yt().then(function(jt){jt?(U.onAuthSuccess&&U.onAuthSuccess(),dt.setSuccess(),mt()):dt.setSuccess()}).catch(function(jt){dt.setError(jt)})}):U.updateToken(-1).then(function(){U.onAuthSuccess&&U.onAuthSuccess(),dt.setSuccess()}).catch(function(jt){U.onAuthError&&U.onAuthError(),fe.onLoad?Dt():dt.setError(jt)})):fe.onLoad?Dt():dt.setSuccess():dt.setSuccess()}return $e.then(function(){(function wt(){var kt=Se(),jt=function(){("interactive"===document.readyState||"complete"===document.readyState)&&(document.removeEventListener("readystatechange",jt),kt.setSuccess())};return document.addEventListener("readystatechange",jt),jt(),kt.promise})().then(Zt).then(Ot).catch(function(kt){pt.setError(kt)})}),$e.catch(function(kt){pt.setError(kt)}),pt.promise},U.login=function(fe){return Ce.login(fe)},U.createLoginUrl=function(fe){var Dt,Ue=Ut(),pt=Ut(),dt=Ce.redirectUri(fe),$e={state:Ue,nonce:pt,redirectUri:encodeURIComponent(dt)};fe&&fe.prompt&&($e.prompt=fe.prompt),Dt=fe&&"register"==fe.action?U.endpoints.register():U.endpoints.authorize();var Ot=fe&&fe.scope||U.scope;Ot?-1===Ot.indexOf("openid")&&(Ot="openid "+Ot):Ot="openid";var wt=Dt+"?client_id="+encodeURIComponent(U.clientId)+"&redirect_uri="+encodeURIComponent(dt)+"&state="+encodeURIComponent(Ue)+"&response_mode="+encodeURIComponent(U.responseMode)+"&response_type="+encodeURIComponent(U.responseType)+"&scope="+encodeURIComponent(Ot);if(Pe&&(wt=wt+"&nonce="+encodeURIComponent(pt)),fe&&fe.prompt&&(wt+="&prompt="+encodeURIComponent(fe.prompt)),fe&&fe.maxAge&&(wt+="&max_age="+encodeURIComponent(fe.maxAge)),fe&&fe.loginHint&&(wt+="&login_hint="+encodeURIComponent(fe.loginHint)),fe&&fe.idpHint&&(wt+="&kc_idp_hint="+encodeURIComponent(fe.idpHint)),fe&&fe.action&&"register"!=fe.action&&(wt+="&kc_action="+encodeURIComponent(fe.action)),fe&&fe.locale&&(wt+="&ui_locales="+encodeURIComponent(fe.locale)),fe&&fe.acr){var kt=function Re(fe){return JSON.stringify({id_token:{acr:fe}})}(fe.acr);wt+="&claims="+encodeURIComponent(kt)}if((fe&&fe.acrValues||U.acrValues)&&(wt+="&acr_values="+encodeURIComponent(fe.acrValues||U.acrValues)),U.pkceMethod){var jt=function Le(fe){return pe(fe,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}(96);$e.pkceCodeVerifier=jt,wt+="&code_challenge="+function ce(fe,Ue){if("S256"!==fe)throw new TypeError(`Invalid value for 'pkceMethod', expected 'S256' but got '${fe}'.`);return function be(se){const U=String.fromCodePoint(...se);return btoa(U)}(new Uint8Array(B.arrayBuffer(Ue))).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}(U.pkceMethod,jt),wt+="&code_challenge_method="+U.pkceMethod}return We.add($e),wt},U.logout=function(fe){return Ce.logout(fe)},U.createLogoutUrl=function(fe){if("POST"===(fe?.logoutMethod??U.logoutMethod))return U.endpoints.logout();var pt=U.endpoints.logout()+"?client_id="+encodeURIComponent(U.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(Ce.redirectUri(fe,!1));return U.idToken&&(pt+="&id_token_hint="+encodeURIComponent(U.idToken)),pt},U.register=function(fe){return Ce.register(fe)},U.createRegisterUrl=function(fe){return fe||(fe={}),fe.action="register",U.createLoginUrl(fe)},U.createAccountUrl=function(fe){var Ue=ze(),pt=void 0;return typeof Ue<"u"&&(pt=Ue+"/account?referrer="+encodeURIComponent(U.clientId)+"&referrer_uri="+encodeURIComponent(Ce.redirectUri(fe))),pt},U.accountManagement=function(){return Ce.accountManagement()},U.hasRealmRole=function(fe){var Ue=U.realmAccess;return!!Ue&&Ue.roles.indexOf(fe)>=0},U.hasResourceRole=function(fe,Ue){if(!U.resourceAccess)return!1;var pt=U.resourceAccess[Ue||U.clientId];return!!pt&&pt.roles.indexOf(fe)>=0},U.loadUserProfile=function(){var fe=ze()+"/account",Ue=new XMLHttpRequest;Ue.open("GET",fe,!0),Ue.setRequestHeader("Accept","application/json"),Ue.setRequestHeader("Authorization","bearer "+U.token);var pt=Se();return Ue.onreadystatechange=function(){4==Ue.readyState&&(200==Ue.status?(U.profile=JSON.parse(Ue.responseText),pt.setSuccess(U.profile)):pt.setError())},Ue.send(),pt.promise},U.loadUserInfo=function(){var fe=U.endpoints.userinfo(),Ue=new XMLHttpRequest;Ue.open("GET",fe,!0),Ue.setRequestHeader("Accept","application/json"),Ue.setRequestHeader("Authorization","bearer "+U.token);var pt=Se();return Ue.onreadystatechange=function(){4==Ue.readyState&&(200==Ue.status?(U.userInfo=JSON.parse(Ue.responseText),pt.setSuccess(U.userInfo)):pt.setError())},Ue.send(),pt.promise},U.isTokenExpired=function(fe){if(!U.tokenParsed||!U.refreshToken&&"implicit"!=U.flow)throw"Not authenticated";if(null==U.timeSkew)return it("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var Ue=U.tokenParsed.exp-Math.ceil((new Date).getTime()/1e3)+U.timeSkew;if(fe){if(isNaN(fe))throw"Invalid minValidity";Ue-=fe}return Ue<0},U.updateToken=function(fe){var Ue=Se();if(!U.refreshToken)return Ue.setError(),Ue.promise;fe=fe||5;var pt=function(){var $e=!1;if(-1==fe?($e=!0,it("[KEYCLOAK] Refreshing token: forced refresh")):(!U.tokenParsed||U.isTokenExpired(fe))&&($e=!0,it("[KEYCLOAK] Refreshing token: token expired")),$e){var Dt="grant_type=refresh_token&refresh_token="+U.refreshToken,Ot=U.endpoints.token();if(Oe.push(Ue),1==Oe.length){var wt=new XMLHttpRequest;wt.open("POST",Ot,!0),wt.setRequestHeader("Content-type","application/x-www-form-urlencoded"),wt.withCredentials=!0,Dt+="&client_id="+encodeURIComponent(U.clientId);var kt=(new Date).getTime();wt.onreadystatechange=function(){if(4==wt.readyState)if(200==wt.status){it("[KEYCLOAK] Token refreshed"),kt=(kt+(new Date).getTime())/2;var jt=JSON.parse(wt.responseText);vt(jt.access_token,jt.refresh_token,jt.id_token,kt),U.onAuthRefreshSuccess&&U.onAuthRefreshSuccess();for(var Gt=Oe.pop();null!=Gt;Gt=Oe.pop())Gt.setSuccess(!0)}else for(de("[KEYCLOAK] Failed to refresh token"),400==wt.status&&U.clearToken(),U.onAuthRefreshError&&U.onAuthRefreshError(),Gt=Oe.pop();null!=Gt;Gt=Oe.pop())Gt.setError(!0)},wt.send(Dt)}}else Ue.setSuccess(!1)};return Ke.enable?yt().then(function(){pt()}).catch(function($e){Ue.setError($e)}):pt(),Ue.promise},U.clearToken=function(){U.token&&(vt(null,null,null),U.onAuthLogout&&U.onAuthLogout(),U.loginRequired&&U.login())};var Bn=function(){if(!(this instanceof Bn))return new Bn;function Ue(){for(var pt=(new Date).getTime(),dt=0;dt<localStorage.length;dt++){var $e=localStorage.key(dt);if($e&&0==$e.indexOf("kc-callback-")){var Dt=localStorage.getItem($e);if(Dt)try{var Ot=JSON.parse(Dt).expires;(!Ot||Ot<pt)&&localStorage.removeItem($e)}catch{localStorage.removeItem($e)}}}}localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test"),this.get=function(pt){if(pt){var dt="kc-callback-"+pt,$e=localStorage.getItem(dt);return $e&&(localStorage.removeItem(dt),$e=JSON.parse($e)),Ue(),$e}},this.add=function(pt){Ue();var dt="kc-callback-"+pt.state;pt.expires=(new Date).getTime()+36e5,localStorage.setItem(dt,JSON.stringify(pt))}},Qt=function(){if(!(this instanceof Qt))return new Qt;this.get=function($e){if($e){var Dt=pt("kc-callback-"+$e);if(dt("kc-callback-"+$e,"",Ue(-100)),Dt)return JSON.parse(Dt)}},this.add=function($e){dt("kc-callback-"+$e.state,JSON.stringify($e),Ue(60))},this.removeItem=function($e){dt($e,"",Ue(-100))};var Ue=function($e){var Dt=new Date;return Dt.setTime(Dt.getTime()+60*$e*1e3),Dt},pt=function($e){for(var Dt=$e+"=",Ot=document.cookie.split(";"),wt=0;wt<Ot.length;wt++){for(var kt=Ot[wt];" "==kt.charAt(0);)kt=kt.substring(1);if(0==kt.indexOf(Dt))return kt.substring(Dt.length,kt.length)}return""},dt=function($e,Dt,Ot){var wt=$e+"="+Dt+"; expires="+Ot.toUTCString()+"; ";document.cookie=wt}};function Vt(fe){return function(){U.enableLogging&&fe.apply(console,Array.prototype.slice.call(arguments))}}}var ae=O(9291);let oe=(()=>{class se{constructor(){this._initialized=!1,this._keycloak=new ne({url:"http://localhost:9090",realm:"book-social-network",clientId:"bsn"})}get keycloakInstance(){return this._keycloak}get profile(){return this._profile}get token(){return this._keycloak.token}get username(){const Ce=this._keycloak.tokenParsed?.preferred_username;return Ce||(this._profile&&this._profile.username?this._profile.username:this._keycloak.tokenParsed?.email||this._profile?.email)}get isInitialized(){return this._initialized}get isAuthenticated(){return!!this._keycloak.authenticated}get userRoles(){return this._keycloak.realmAccess?.roles||[]}get fullName(){if(this._profile){const Ce=this._profile.firstName||"",Oe=this._profile.lastName||"";if(Ce||Oe)return`${Ce} ${Oe}`.trim()}return this._keycloak.tokenParsed?.name}init(){var Ce=this;return(0,g.Z)(function*(){try{if(!(yield Ce._keycloak.init({onLoad:"login-required",checkLoginIframe:!1})))return console.warn("Not authenticated!"),Ce.login(),!1;try{Ce._profile=yield Ce._keycloak.loadUserProfile(),Ce._profile&&!Ce._profile.username&&(Ce._profile.username=Ce._keycloak.tokenParsed?.preferred_username),console.log("User profile loaded:",Ce._profile)}catch(We){console.error("Failed to load user profile:",We)}return Ce._setupAutoRefresh(),Ce._initialized=!0,!0}catch(Oe){return console.error("Failed to initialize Keycloak:",Oe),!1}})()}login(){this._keycloak.login()}logout(){this._keycloak.logout({redirectUri:window.location.origin})}hasRole(Ce){return this.userRoles.includes(Ce)}getAuthHeader(){return this._keycloak&&this._keycloak.token?{Authorization:`Bearer ${this._keycloak.token}`}:{}}refreshToken(Ce=10){var Oe=this;return(0,g.Z)(function*(){try{return yield Oe._keycloak.updateToken(Ce)}catch(We){return console.error("Error refreshing token:",We),Oe.logout(),!1}})()}_setupAutoRefresh(){setInterval(()=>{this._keycloak.updateToken(60).catch(()=>{console.warn("Failed to refresh token, logging out..."),this.logout()})},6e4)}static#e=this.\u0275fac=function(Oe){return new(Oe||se)};static#t=this.\u0275prov=ae.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})()},2242:(Fe,De,O)=>{"use strict";var g=O(6593),B=O(9291),X=O(6223),J=O(9862),o=O(8933),K=O(2058),ne=O(5775);const be=[{path:"",redirectTo:"books",pathMatch:"full"},{path:"home",redirectTo:"books",pathMatch:"full"},{path:"books",loadChildren:()=>Promise.resolve().then(O.bind(O,8933)).then(R=>R.BookModule),canActivate:[ne.p]},{path:"profile",loadChildren:()=>O.e(488).then(O.bind(O,5488)).then(R=>R.ProfileModule),canActivate:[ne.p]}];let ae=(()=>{class R{static#e=this.\u0275fac=function(T){return new(T||R)};static#t=this.\u0275mod=B.oAB({type:R});static#n=this.\u0275inj=B.cJS({imports:[K.Bz.forRoot(be),K.Bz]})}return R})();var oe=O(8440);let se=(()=>{class R{constructor(x){this.keycloakService=x,this.title="book-network-ui"}ngOnInit(){console.log("Access Token:",this.keycloakService.token)}static#e=this.\u0275fac=function(T){return new(T||R)(B.Y36(oe.M))};static#t=this.\u0275cmp=B.Xpm({type:R,selectors:[["app-root"]],decls:1,vars:0,template:function(T,V){1&T&&B._UZ(0,"router-outlet")},dependencies:[K.lC],styles:[".app-container[_ngcontent-%COMP%]{position:relative;min-height:100vh;overflow:hidden;background-color:#f5f7fa}.background-shapes[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1;overflow:hidden}.shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(60px);opacity:.2}.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;background-color:#4158d0;top:-100px;left:-100px;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite}.shape-2[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#c850c0;bottom:-150px;right:-150px;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite}.shape-3[_ngcontent-%COMP%]{width:200px;height:200px;background-color:#ffcc70;top:30%;right:10%;animation:_ngcontent-%COMP%_float 9s ease-in-out infinite}.shape-4[_ngcontent-%COMP%]{width:250px;height:250px;background-color:#0093e9;bottom:20%;left:5%;animation:_ngcontent-%COMP%_float 12s ease-in-out infinite}.shape-5[_ngcontent-%COMP%]{width:180px;height:180px;background-color:#00dbde;top:40%;left:30%;animation:_ngcontent-%COMP%_float 15s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%{transform:translate(0) scale(1)}25%{transform:translate(15px,15px) scale(1.05)}50%{transform:translateY(30px) scale(1)}75%{transform:translate(-15px,15px) scale(.95)}to{transform:translate(0) scale(1)}}.content-container[_ngcontent-%COMP%]{position:relative;z-index:2;padding:20px;max-width:1400px;margin:20px auto 0;background-color:#ffffffb3;border-radius:16px;box-shadow:0 10px 30px #0000001a}"]})}return R})();var U=O(6814);const We=new B.OlP("CodeInputComponentConfig");let Pe=(()=>{class R{static forRoot(x){return{ngModule:R,providers:[{provide:We,useValue:x}]}}static#e=this.\u0275fac=function(T){return new(T||R)};static#t=this.\u0275mod=B.oAB({type:R});static#n=this.\u0275inj=B.cJS({imports:[U.ez]})}return R})(),it=(()=>{class R{constructor(x){this.keycloakService=x}intercept(x,T){const V=this.keycloakService.keycloakInstance.token;if(V){const te=x.clone({headers:new J.WM({Authorization:`Bearer ${V}`})});return T.handle(te)}return T.handle(x)}static#e=this.\u0275fac=function(T){return new(T||R)(B.LFG(oe.M))};static#t=this.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac})}return R})();class de{}class ue{}const Le="*";function ze(R,b=null){return{type:2,steps:R,options:b}}function at(R){return{type:6,styles:R,offset:null}}class Se{constructor(b=0,x=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=b+x}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}onStart(b){this._originalOnStartFns.push(b),this._onStartFns.push(b)}onDone(b){this._originalOnDoneFns.push(b),this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(b=>b()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(b){this._position=this.totalTime?b*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(b){const x="start"==b?this._onStartFns:this._onDoneFns;x.forEach(T=>T()),x.length=0}}class Xe{constructor(b){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=b;let x=0,T=0,V=0;const te=this.players.length;0==te?queueMicrotask(()=>this._onFinish()):this.players.forEach(ye=>{ye.onDone(()=>{++x==te&&this._onFinish()}),ye.onDestroy(()=>{++T==te&&this._onDestroy()}),ye.onStart(()=>{++V==te&&this._onStart()})}),this.totalTime=this.players.reduce((ye,xe)=>Math.max(ye,xe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this.players.forEach(b=>b.init())}onStart(b){this._onStartFns.push(b)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(b=>b()),this._onStartFns=[])}onDone(b){this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(b=>b.play())}pause(){this.players.forEach(b=>b.pause())}restart(){this.players.forEach(b=>b.restart())}finish(){this._onFinish(),this.players.forEach(b=>b.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(b=>b.destroy()),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}reset(){this.players.forEach(b=>b.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(b){const x=b*this.totalTime;this.players.forEach(T=>{const V=T.totalTime?Math.min(1,x/T.totalTime):1;T.setPosition(V)})}getPosition(){const b=this.players.reduce((x,T)=>null===x||T.totalTime>x.totalTime?T:x,null);return null!=b?b.getPosition():0}beforeDestroy(){this.players.forEach(b=>{b.beforeDestroy&&b.beforeDestroy()})}triggerCallback(b){const x="start"==b?this._onStartFns:this._onDoneFns;x.forEach(T=>T()),x.length=0}}function yt(R){return new B.vHH(3e3,!1)}function Oo(R){switch(R.length){case 0:return new Se;case 1:return R[0];default:return new Xe(R)}}function Ai(R,b,x=new Map,T=new Map){const V=[],te=[];let ye=-1,xe=null;if(b.forEach(He=>{const st=He.get("offset"),Lt=st==ye,Et=Lt&&xe||new Map;He.forEach((Ln,tn)=>{let Ht=tn,Kt=Ln;if("offset"!==tn)switch(Ht=R.normalizePropertyName(Ht,V),Kt){case"!":Kt=x.get(tn);break;case Le:Kt=T.get(tn);break;default:Kt=R.normalizeStyleValue(tn,Ht,Kt,V)}Et.set(Ht,Kt)}),Lt||te.push(Et),xe=Et,ye=st}),V.length)throw function mi(R){return new B.vHH(3502,!1)}();return te}function _i(R,b,x,T){switch(b){case"start":R.onStart(()=>T(x&&bi(x,"start",R)));break;case"done":R.onDone(()=>T(x&&bi(x,"done",R)));break;case"destroy":R.onDestroy(()=>T(x&&bi(x,"destroy",R)))}}function bi(R,b,x){const te=fr(R.element,R.triggerName,R.fromState,R.toState,b||R.phaseName,x.totalTime??R.totalTime,!!x.disabled),ye=R._data;return null!=ye&&(te._data=ye),te}function fr(R,b,x,T,V="",te=0,ye){return{element:R,triggerName:b,fromState:x,toState:T,phaseName:V,totalTime:te,disabled:!!ye}}function Mo(R,b,x){let T=R.get(b);return T||R.set(b,T=x),T}function tt(R){const b=R.indexOf(":");return[R.substring(1,b),R.slice(b+1)]}const Ye=(()=>typeof document>"u"?null:document.documentElement)();function _e(R){const b=R.parentNode||R.host||null;return b===Ye?null:b}let ct=null,It=!1;function ao(R,b){for(;b;){if(b===R)return!0;b=_e(b)}return!1}function Go(R,b,x){if(x)return Array.from(R.querySelectorAll(b));const T=R.querySelector(b);return T?[T]:[]}let Be=(()=>{class R{validateStyleProperty(x){return function Xt(R){ct||(ct=function Pn(){return typeof document<"u"?document.body:null}()||{},It=!!ct.style&&"WebkitAppearance"in ct.style);let b=!0;return ct.style&&!function Ae(R){return"ebkit"==R.substring(1,6)}(R)&&(b=R in ct.style,!b&&It&&(b="Webkit"+R.charAt(0).toUpperCase()+R.slice(1)in ct.style)),b}(x)}matchesElement(x,T){return!1}containsElement(x,T){return ao(x,T)}getParentElement(x){return _e(x)}query(x,T,V){return Go(x,T,V)}computeStyle(x,T,V){return V||""}animate(x,T,V,te,ye,xe=[],He){return new Se(V,te)}static#e=this.\u0275fac=function(T){return new(T||R)};static#t=this.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac})}return R})(),ke=(()=>{class R{static#e=this.NOOP=new Be}return R})();const Te=1e3,Nt="ng-enter",gt="ng-leave",Nn="ng-trigger",sn=".ng-trigger",po="ng-animating",si=".ng-animating";function wo(R){if("number"==typeof R)return R;const b=R.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:Wo(parseFloat(b[1]),b[2])}function Wo(R,b){return"s"===b?R*Te:R}function Lo(R,b,x){return R.hasOwnProperty("duration")?R:function vi(R,b,x){let V,te=0,ye="";if("string"==typeof R){const xe=R.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===xe)return b.push(yt()),{duration:0,delay:0,easing:""};V=Wo(parseFloat(xe[1]),xe[2]);const He=xe[3];null!=He&&(te=Wo(parseFloat(He),xe[4]));const st=xe[5];st&&(ye=st)}else V=R;if(!x){let xe=!1,He=b.length;V<0&&(b.push(function Zt(){return new B.vHH(3100,!1)}()),xe=!0),te<0&&(b.push(function on(){return new B.vHH(3101,!1)}()),xe=!0),xe&&b.splice(He,0,yt())}return{duration:V,delay:te,easing:ye}}(R,b,x)}function wn(R,b={}){return Object.keys(R).forEach(x=>{b[x]=R[x]}),b}function On(R){const b=new Map;return Object.keys(R).forEach(x=>{b.set(x,R[x])}),b}function oo(R,b=new Map,x){if(x)for(let[T,V]of x)b.set(T,V);for(let[T,V]of R)b.set(T,V);return b}function mo(R,b,x){b.forEach((T,V)=>{const te=Gi(V);x&&!x.has(V)&&x.set(V,R.style[te]),R.style[te]=T})}function Xo(R,b){b.forEach((x,T)=>{const V=Gi(T);R.style[V]=""})}function Bo(R){return Array.isArray(R)?1==R.length?R[0]:ze(R):R}const Uo=new RegExp("{{\\s*(.+?)\\s*}}","g");function Er(R){let b=[];if("string"==typeof R){let x;for(;x=Uo.exec(R);)b.push(x[1]);Uo.lastIndex=0}return b}function ei(R,b,x){const T=R.toString(),V=T.replace(Uo,(te,ye)=>{let xe=b[ye];return null==xe&&(x.push(function Qt(R){return new B.vHH(3003,!1)}()),xe=""),xe.toString()});return V==T?R:V}function xi(R){const b=[];let x=R.next();for(;!x.done;)b.push(x.value),x=R.next();return b}const Dr=/-+([a-z0-9])/g;function Gi(R){return R.replace(Dr,(...b)=>b[1].toUpperCase())}function ai(R,b,x){switch(b.type){case 7:return R.visitTrigger(b,x);case 0:return R.visitState(b,x);case 1:return R.visitTransition(b,x);case 2:return R.visitSequence(b,x);case 3:return R.visitGroup(b,x);case 4:return R.visitAnimate(b,x);case 5:return R.visitKeyframes(b,x);case 6:return R.visitStyle(b,x);case 8:return R.visitReference(b,x);case 9:return R.visitAnimateChild(b,x);case 10:return R.visitAnimateRef(b,x);case 11:return R.visitQuery(b,x);case 12:return R.visitStagger(b,x);default:throw function Un(R){return new B.vHH(3004,!1)}()}}function ks(R,b){return window.getComputedStyle(R)[b]}const pr="*";function gr(R,b){const x=[];return"string"==typeof R?R.split(/\s*,\s*/).forEach(T=>function Wr(R,b,x){if(":"==R[0]){const He=function is(R,b){switch(R){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(x,T)=>parseFloat(T)>parseFloat(x);case":decrement":return(x,T)=>parseFloat(T)<parseFloat(x);default:return b.push(function dn(R){return new B.vHH(3016,!1)}()),"* => *"}}(R,x);if("function"==typeof He)return void b.push(He);R=He}const T=R.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==T||T.length<4)return x.push(function un(R){return new B.vHH(3015,!1)}()),b;const V=T[1],te=T[2],ye=T[3];b.push(ir(V,ye));"<"==te[0]&&!(V==pr&&ye==pr)&&b.push(ir(ye,V))}(T,x,b)):x.push(R),x}const Si=new Set(["true","1"]),Io=new Set(["false","0"]);function ir(R,b){const x=Si.has(R)||Io.has(R),T=Si.has(b)||Io.has(b);return(V,te)=>{let ye=R==pr||R==V,xe=b==pr||b==te;return!ye&&x&&"boolean"==typeof V&&(ye=V?Si.has(R):Io.has(R)),!xe&&T&&"boolean"==typeof te&&(xe=te?Si.has(b):Io.has(b)),ye&&xe}}const mr=new RegExp("s*:selfs*,?","g");function uo(R,b,x,T){return new vs(R).build(b,x,T)}class vs{constructor(b){this._driver=b}build(b,x,T){const V=new Di(x);return this._resetContextStyleTimingState(V),ai(this,Bo(b),V)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles=new Map,b.collectedStyles.set("",new Map),b.currentTime=0}visitTrigger(b,x){let T=x.queryCount=0,V=x.depCount=0;const te=[],ye=[];return"@"==b.name.charAt(0)&&x.errors.push(function fe(){return new B.vHH(3006,!1)}()),b.definitions.forEach(xe=>{if(this._resetContextStyleTimingState(x),0==xe.type){const He=xe,st=He.name;st.toString().split(/\s*,\s*/).forEach(Lt=>{He.name=Lt,te.push(this.visitState(He,x))}),He.name=st}else if(1==xe.type){const He=this.visitTransition(xe,x);T+=He.queryCount,V+=He.depCount,ye.push(He)}else x.errors.push(function Ue(){return new B.vHH(3007,!1)}())}),{type:7,name:b.name,states:te,transitions:ye,queryCount:T,depCount:V,options:null}}visitState(b,x){const T=this.visitStyle(b.styles,x),V=b.options&&b.options.params||null;if(T.containsDynamicStyles){const te=new Set,ye=V||{};T.styles.forEach(xe=>{xe instanceof Map&&xe.forEach(He=>{Er(He).forEach(st=>{ye.hasOwnProperty(st)||te.add(st)})})}),te.size&&(xi(te.values()),x.errors.push(function pt(R,b){return new B.vHH(3008,!1)}()))}return{type:0,name:b.name,style:T,options:V?{params:V}:null}}visitTransition(b,x){x.queryCount=0,x.depCount=0;const T=ai(this,Bo(b.animation),x);return{type:1,matchers:gr(b.expr,x.errors),animation:T,queryCount:x.queryCount,depCount:x.depCount,options:ro(b.options)}}visitSequence(b,x){return{type:2,steps:b.steps.map(T=>ai(this,T,x)),options:ro(b.options)}}visitGroup(b,x){const T=x.currentTime;let V=0;const te=b.steps.map(ye=>{x.currentTime=T;const xe=ai(this,ye,x);return V=Math.max(V,x.currentTime),xe});return x.currentTime=V,{type:3,steps:te,options:ro(b.options)}}visitAnimate(b,x){const T=function jo(R,b){if(R.hasOwnProperty("duration"))return R;if("number"==typeof R)return Ii(Lo(R,b).duration,0,"");const x=R;if(x.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=Ii(0,0,"");return te.dynamic=!0,te.strValue=x,te}const V=Lo(x,b);return Ii(V.duration,V.delay,V.easing)}(b.timings,x.errors);x.currentAnimateTimings=T;let V,te=b.styles?b.styles:at({});if(5==te.type)V=this.visitKeyframes(te,x);else{let ye=b.styles,xe=!1;if(!ye){xe=!0;const st={};T.easing&&(st.easing=T.easing),ye=at(st)}x.currentTime+=T.duration+T.delay;const He=this.visitStyle(ye,x);He.isEmptyStep=xe,V=He}return x.currentAnimateTimings=null,{type:4,timings:T,style:V,options:null}}visitStyle(b,x){const T=this._makeStyleAst(b,x);return this._validateStyleAst(T,x),T}_makeStyleAst(b,x){const T=[],V=Array.isArray(b.styles)?b.styles:[b.styles];for(let xe of V)"string"==typeof xe?xe===Le?T.push(xe):x.errors.push(new B.vHH(3002,!1)):T.push(On(xe));let te=!1,ye=null;return T.forEach(xe=>{if(xe instanceof Map&&(xe.has("easing")&&(ye=xe.get("easing"),xe.delete("easing")),!te))for(let He of xe.values())if(He.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:T,easing:ye,offset:b.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(b,x){const T=x.currentAnimateTimings;let V=x.currentTime,te=x.currentTime;T&&te>0&&(te-=T.duration+T.delay),b.styles.forEach(ye=>{"string"!=typeof ye&&ye.forEach((xe,He)=>{const st=x.collectedStyles.get(x.currentQuerySelector),Lt=st.get(He);let Et=!0;Lt&&(te!=V&&te>=Lt.startTime&&V<=Lt.endTime&&(x.errors.push(function Dt(R,b,x,T,V){return new B.vHH(3010,!1)}()),Et=!1),te=Lt.startTime),Et&&st.set(He,{startTime:te,endTime:V}),x.options&&function yi(R,b,x){const T=b.params||{},V=Er(R);V.length&&V.forEach(te=>{T.hasOwnProperty(te)||x.push(function Bn(R){return new B.vHH(3001,!1)}())})}(xe,x.options,x.errors)})})}visitKeyframes(b,x){const T={type:5,styles:[],options:null};if(!x.currentAnimateTimings)return x.errors.push(function Ot(){return new B.vHH(3011,!1)}()),T;let te=0;const ye=[];let xe=!1,He=!1,st=0;const Lt=b.steps.map(Qn=>{const Dn=this._makeStyleAst(Qn,x);let Eo=null!=Dn.offset?Dn.offset:function kn(R){if("string"==typeof R)return null;let b=null;if(Array.isArray(R))R.forEach(x=>{if(x instanceof Map&&x.has("offset")){const T=x;b=parseFloat(T.get("offset")),T.delete("offset")}});else if(R instanceof Map&&R.has("offset")){const x=R;b=parseFloat(x.get("offset")),x.delete("offset")}return b}(Dn.styles),di=0;return null!=Eo&&(te++,di=Dn.offset=Eo),He=He||di<0||di>1,xe=xe||di<st,st=di,ye.push(di),Dn});He&&x.errors.push(function wt(){return new B.vHH(3012,!1)}()),xe&&x.errors.push(function kt(){return new B.vHH(3200,!1)}());const Et=b.steps.length;let Ln=0;te>0&&te<Et?x.errors.push(function jt(){return new B.vHH(3202,!1)}()):0==te&&(Ln=1/(Et-1));const tn=Et-1,Ht=x.currentTime,Kt=x.currentAnimateTimings,Co=Kt.duration;return Lt.forEach((Qn,Dn)=>{const Eo=Ln>0?Dn==tn?1:Ln*Dn:ye[Dn],di=Eo*Co;x.currentTime=Ht+Kt.delay+di,Kt.duration=di,this._validateStyleAst(Qn,x),Qn.offset=Eo,T.styles.push(Qn)}),T}visitReference(b,x){return{type:8,animation:ai(this,Bo(b.animation),x),options:ro(b.options)}}visitAnimateChild(b,x){return x.depCount++,{type:9,options:ro(b.options)}}visitAnimateRef(b,x){return{type:10,animation:this.visitReference(b.animation,x),options:ro(b.options)}}visitQuery(b,x){const T=x.currentQuerySelector,V=b.options||{};x.queryCount++,x.currentQuery=b;const[te,ye]=function Or(R){const b=!!R.split(/\s*,\s*/).find(x=>":self"==x);return b&&(R=R.replace(mr,"")),R=R.replace(/@\*/g,sn).replace(/@\w+/g,x=>sn+"-"+x.slice(1)).replace(/:animating/g,si),[R,b]}(b.selector);x.currentQuerySelector=T.length?T+" "+te:te,Mo(x.collectedStyles,x.currentQuerySelector,new Map);const xe=ai(this,Bo(b.animation),x);return x.currentQuery=null,x.currentQuerySelector=T,{type:11,selector:te,limit:V.limit||0,optional:!!V.optional,includeSelf:ye,animation:xe,originalSelector:b.selector,options:ro(b.options)}}visitStagger(b,x){x.currentQuery||x.errors.push(function Gt(){return new B.vHH(3013,!1)}());const T="full"===b.timings?{duration:0,delay:0,easing:"full"}:Lo(b.timings,x.errors,!0);return{type:12,animation:ai(this,Bo(b.animation),x),timings:T,options:null}}}class Di{constructor(b){this.errors=b,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ro(R){return R?(R=wn(R)).params&&(R.params=function rs(R){return R?wn(R):null}(R.params)):R={},R}function Ii(R,b,x){return{duration:R,delay:b,easing:x}}function ko(R,b,x,T,V,te,ye=null,xe=!1){return{type:1,element:R,keyframes:b,preStyleProps:x,postStyleProps:T,duration:V,delay:te,totalTime:V+te,easing:ye,subTimeline:xe}}class Wi{constructor(){this._map=new Map}get(b){return this._map.get(b)||[]}append(b,x){let T=this._map.get(b);T||this._map.set(b,T=[]),T.push(...x)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const qr=new RegExp(":enter","g"),Yn=new RegExp(":leave","g");function Ft(R,b,x,T,V,te=new Map,ye=new Map,xe,He,st=[]){return(new hn).buildKeyframes(R,b,x,T,V,te,ye,xe,He,st)}class hn{buildKeyframes(b,x,T,V,te,ye,xe,He,st,Lt=[]){st=st||new Wi;const Et=new oi(b,x,st,V,te,Lt,[]);Et.options=He;const Ln=He.delay?wo(He.delay):0;Et.currentTimeline.delayNextStep(Ln),Et.currentTimeline.setStyles([ye],null,Et.errors,He),ai(this,T,Et);const tn=Et.timelines.filter(Ht=>Ht.containsAnimation());if(tn.length&&xe.size){let Ht;for(let Kt=tn.length-1;Kt>=0;Kt--){const Co=tn[Kt];if(Co.element===x){Ht=Co;break}}Ht&&!Ht.allowOnlyTimelineStyles()&&Ht.setStyles([xe],null,Et.errors,He)}return tn.length?tn.map(Ht=>Ht.buildKeyframes()):[ko(x,[],[],[],0,Ln,"",!1)]}visitTrigger(b,x){}visitState(b,x){}visitTransition(b,x){}visitAnimateChild(b,x){const T=x.subInstructions.get(x.element);if(T){const V=x.createSubContext(b.options),te=x.currentTimeline.currentTime,ye=this._visitSubInstructions(T,V,V.options);te!=ye&&x.transformIntoNewTimeline(ye)}x.previousNode=b}visitAnimateRef(b,x){const T=x.createSubContext(b.options);T.transformIntoNewTimeline(),this._applyAnimationRefDelays([b.options,b.animation.options],x,T),this.visitReference(b.animation,T),x.transformIntoNewTimeline(T.currentTimeline.currentTime),x.previousNode=b}_applyAnimationRefDelays(b,x,T){for(const V of b){const te=V?.delay;if(te){const ye="number"==typeof te?te:wo(ei(te,V?.params??{},x.errors));T.delayNextStep(ye)}}}_visitSubInstructions(b,x,T){let te=x.currentTimeline.currentTime;const ye=null!=T.duration?wo(T.duration):null,xe=null!=T.delay?wo(T.delay):null;return 0!==ye&&b.forEach(He=>{const st=x.appendInstructionToTimeline(He,ye,xe);te=Math.max(te,st.duration+st.delay)}),te}visitReference(b,x){x.updateOptions(b.options,!0),ai(this,b.animation,x),x.previousNode=b}visitSequence(b,x){const T=x.subContextCount;let V=x;const te=b.options;if(te&&(te.params||te.delay)&&(V=x.createSubContext(te),V.transformIntoNewTimeline(),null!=te.delay)){6==V.previousNode.type&&(V.currentTimeline.snapshotCurrentStyles(),V.previousNode=Vn);const ye=wo(te.delay);V.delayNextStep(ye)}b.steps.length&&(b.steps.forEach(ye=>ai(this,ye,V)),V.currentTimeline.applyStylesToKeyframe(),V.subContextCount>T&&V.transformIntoNewTimeline()),x.previousNode=b}visitGroup(b,x){const T=[];let V=x.currentTimeline.currentTime;const te=b.options&&b.options.delay?wo(b.options.delay):0;b.steps.forEach(ye=>{const xe=x.createSubContext(b.options);te&&xe.delayNextStep(te),ai(this,ye,xe),V=Math.max(V,xe.currentTimeline.currentTime),T.push(xe.currentTimeline)}),T.forEach(ye=>x.currentTimeline.mergeTimelineCollectedStyles(ye)),x.transformIntoNewTimeline(V),x.previousNode=b}_visitTiming(b,x){if(b.dynamic){const T=b.strValue;return Lo(x.params?ei(T,x.params,x.errors):T,x.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,x){const T=x.currentAnimateTimings=this._visitTiming(b.timings,x),V=x.currentTimeline;T.delay&&(x.incrementTime(T.delay),V.snapshotCurrentStyles());const te=b.style;5==te.type?this.visitKeyframes(te,x):(x.incrementTime(T.duration),this.visitStyle(te,x),V.applyStylesToKeyframe()),x.currentAnimateTimings=null,x.previousNode=b}visitStyle(b,x){const T=x.currentTimeline,V=x.currentAnimateTimings;!V&&T.hasCurrentStyleProperties()&&T.forwardFrame();const te=V&&V.easing||b.easing;b.isEmptyStep?T.applyEmptyStep(te):T.setStyles(b.styles,te,x.errors,x.options),x.previousNode=b}visitKeyframes(b,x){const T=x.currentAnimateTimings,V=x.currentTimeline.duration,te=T.duration,xe=x.createSubContext().currentTimeline;xe.easing=T.easing,b.styles.forEach(He=>{xe.forwardTime((He.offset||0)*te),xe.setStyles(He.styles,He.easing,x.errors,x.options),xe.applyStylesToKeyframe()}),x.currentTimeline.mergeTimelineCollectedStyles(xe),x.transformIntoNewTimeline(V+te),x.previousNode=b}visitQuery(b,x){const T=x.currentTimeline.currentTime,V=b.options||{},te=V.delay?wo(V.delay):0;te&&(6===x.previousNode.type||0==T&&x.currentTimeline.hasCurrentStyleProperties())&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=Vn);let ye=T;const xe=x.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!V.optional,x.errors);x.currentQueryTotal=xe.length;let He=null;xe.forEach((st,Lt)=>{x.currentQueryIndex=Lt;const Et=x.createSubContext(b.options,st);te&&Et.delayNextStep(te),st===x.element&&(He=Et.currentTimeline),ai(this,b.animation,Et),Et.currentTimeline.applyStylesToKeyframe(),ye=Math.max(ye,Et.currentTimeline.currentTime)}),x.currentQueryIndex=0,x.currentQueryTotal=0,x.transformIntoNewTimeline(ye),He&&(x.currentTimeline.mergeTimelineCollectedStyles(He),x.currentTimeline.snapshotCurrentStyles()),x.previousNode=b}visitStagger(b,x){const T=x.parentContext,V=x.currentTimeline,te=b.timings,ye=Math.abs(te.duration),xe=ye*(x.currentQueryTotal-1);let He=ye*x.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":He=xe-He;break;case"full":He=T.currentStaggerTime}const Lt=x.currentTimeline;He&&Lt.delayNextStep(He);const Et=Lt.currentTime;ai(this,b.animation,x),x.previousNode=b,T.currentStaggerTime=V.currentTime-Et+(V.startTime-T.currentTimeline.startTime)}}const Vn={};class oi{constructor(b,x,T,V,te,ye,xe,He){this._driver=b,this.element=x,this.subInstructions=T,this._enterClassName=V,this._leaveClassName=te,this.errors=ye,this.timelines=xe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=He||new qi(this._driver,x,0),xe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,x){if(!b)return;const T=b;let V=this.options;null!=T.duration&&(V.duration=wo(T.duration)),null!=T.delay&&(V.delay=wo(T.delay));const te=T.params;if(te){let ye=V.params;ye||(ye=this.options.params={}),Object.keys(te).forEach(xe=>{(!x||!ye.hasOwnProperty(xe))&&(ye[xe]=ei(te[xe],ye,this.errors))})}}_copyOptions(){const b={};if(this.options){const x=this.options.params;if(x){const T=b.params={};Object.keys(x).forEach(V=>{T[V]=x[V]})}}return b}createSubContext(b=null,x,T){const V=x||this.element,te=new oi(this._driver,V,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(V,T||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(b),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(b){return this.previousNode=Vn,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,x,T){const V={duration:x??b.duration,delay:this.currentTimeline.currentTime+(T??0)+b.delay,easing:""},te=new ho(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,V,b.stretchStartingKeyframe);return this.timelines.push(te),V}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,x,T,V,te,ye){let xe=[];if(V&&xe.push(this.element),b.length>0){b=(b=b.replace(qr,"."+this._enterClassName)).replace(Yn,"."+this._leaveClassName);let st=this._driver.query(this.element,b,1!=T);0!==T&&(st=T<0?st.slice(st.length+T,st.length):st.slice(0,T)),xe.push(...st)}return!te&&0==xe.length&&ye.push(function an(R){return new B.vHH(3014,!1)}()),xe}}class qi{constructor(b,x,T,V){this._driver=b,this.element=x,this.startTime=T,this._elementTimelineStylesLookup=V,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(x),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(x,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const x=1===this._keyframes.size&&this._pendingStyles.size;this.duration||x?(this.forwardTime(this.currentTime+b),x&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,x){return this.applyStylesToKeyframe(),new qi(this._driver,b,x||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,x){this._localTimelineStyles.set(b,x),this._globalTimelineStyles.set(b,x),this._styleSummary.set(b,{time:this.currentTime,value:x})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&this._previousKeyframe.set("easing",b);for(let[x,T]of this._globalTimelineStyles)this._backFill.set(x,T||Le),this._currentKeyframe.set(x,Le);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,x,T,V){x&&this._previousKeyframe.set("easing",x);const te=V&&V.params||{},ye=function fo(R,b){const x=new Map;let T;return R.forEach(V=>{if("*"===V){T=T||b.keys();for(let te of T)x.set(te,Le)}else oo(V,x)}),x}(b,this._globalTimelineStyles);for(let[xe,He]of ye){const st=ei(He,te,T);this._pendingStyles.set(xe,st),this._localTimelineStyles.has(xe)||this._backFill.set(xe,this._globalTimelineStyles.get(xe)??Le),this._updateStyle(xe,st)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((b,x)=>{this._currentKeyframe.set(x,b)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((b,x)=>{this._currentKeyframe.has(x)||this._currentKeyframe.set(x,b)}))}snapshotCurrentStyles(){for(let[b,x]of this._localTimelineStyles)this._pendingStyles.set(b,x),this._updateStyle(b,x)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let x in this._currentKeyframe)b.push(x);return b}mergeTimelineCollectedStyles(b){b._styleSummary.forEach((x,T)=>{const V=this._styleSummary.get(T);(!V||x.time>V.time)&&this._updateStyle(T,x.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,x=new Set,T=1===this._keyframes.size&&0===this.duration;let V=[];this._keyframes.forEach((xe,He)=>{const st=oo(xe,new Map,this._backFill);st.forEach((Lt,Et)=>{"!"===Lt?b.add(Et):Lt===Le&&x.add(Et)}),T||st.set("offset",He/this.duration),V.push(st)});const te=b.size?xi(b.values()):[],ye=x.size?xi(x.values()):[];if(T){const xe=V[0],He=new Map(xe);xe.set("offset",0),He.set("offset",1),V=[xe,He]}return ko(this.element,V,te,ye,this.duration,this.startTime,this.easing,!1)}}class ho extends qi{constructor(b,x,T,V,te,ye,xe=!1){super(b,x,ye.delay),this.keyframes=T,this.preStyleProps=V,this.postStyleProps=te,this._stretchStartingKeyframe=xe,this.timings={duration:ye.duration,delay:ye.delay,easing:ye.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:x,duration:T,easing:V}=this.timings;if(this._stretchStartingKeyframe&&x){const te=[],ye=T+x,xe=x/ye,He=oo(b[0]);He.set("offset",0),te.push(He);const st=oo(b[0]);st.set("offset",Yi(xe)),te.push(st);const Lt=b.length-1;for(let Et=1;Et<=Lt;Et++){let Ln=oo(b[Et]);const tn=Ln.get("offset");Ln.set("offset",Yi((x+tn*T)/ye)),te.push(Ln)}T=ye,x=0,V="",b=te}return ko(this.element,b,this.preStyleProps,this.postStyleProps,T,x,V,!0)}}function Yi(R,b=3){const x=Math.pow(10,b-1);return Math.round(R*x)/x}class Fi{}const Ci=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ss extends Fi{normalizePropertyName(b,x){return Gi(b)}normalizeStyleValue(b,x,T,V){let te="";const ye=T.toString().trim();if(Ci.has(x)&&0!==T&&"0"!==T)if("number"==typeof T)te="px";else{const xe=T.match(/^[+-]?[\d\.]+([a-z]*)$/);xe&&0==xe[1].length&&V.push(function Vt(R,b){return new B.vHH(3005,!1)}())}return ye+te}}function Ni(R,b,x,T,V,te,ye,xe,He,st,Lt,Et,Ln){return{type:0,element:R,triggerName:b,isRemovalTransition:V,fromState:x,fromStyles:te,toState:T,toStyles:ye,timelines:xe,queriedElements:He,preStyleProps:st,postStyleProps:Lt,totalTime:Et,errors:Ln}}const bo={};class br{constructor(b,x,T){this._triggerName=b,this.ast=x,this._stateStyles=T}match(b,x,T,V){return function Li(R,b,x,T,V){return R.some(te=>te(b,x,T,V))}(this.ast.matchers,b,x,T,V)}buildStyles(b,x,T){let V=this._stateStyles.get("*");return void 0!==b&&(V=this._stateStyles.get(b?.toString())||V),V?V.buildStyles(x,T):new Map}build(b,x,T,V,te,ye,xe,He,st,Lt){const Et=[],Ln=this.ast.options&&this.ast.options.params||bo,Ht=this.buildStyles(T,xe&&xe.params||bo,Et),Kt=He&&He.params||bo,Co=this.buildStyles(V,Kt,Et),Qn=new Set,Dn=new Map,Eo=new Map,di="void"===V,Qr={params:Bi(Kt,Ln),delay:this.ast.options?.delay},ui=Lt?[]:Ft(b,x,this.ast.animation,te,ye,Ht,Co,Qr,st,Et);let pi=0;if(ui.forEach(Hi=>{pi=Math.max(Hi.duration+Hi.delay,pi)}),Et.length)return Ni(x,this._triggerName,T,V,di,Ht,Co,[],[],Dn,Eo,pi,Et);ui.forEach(Hi=>{const zr=Hi.element,Qs=Mo(Dn,zr,new Set);Hi.preStyleProps.forEach(rn=>Qs.add(rn));const Is=Mo(Eo,zr,new Set);Hi.postStyleProps.forEach(rn=>Is.add(rn)),zr!==x&&Qn.add(zr)});const Cr=xi(Qn.values());return Ni(x,this._triggerName,T,V,di,Ht,Co,ui,Cr,Dn,Eo,pi)}}function Bi(R,b){const x=wn(b);for(const T in R)R.hasOwnProperty(T)&&null!=R[T]&&(x[T]=R[T]);return x}class as{constructor(b,x,T){this.styles=b,this.defaultParams=x,this.normalizer=T}buildStyles(b,x){const T=new Map,V=wn(this.defaultParams);return Object.keys(b).forEach(te=>{const ye=b[te];null!==ye&&(V[te]=ye)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((ye,xe)=>{ye&&(ye=ei(ye,V,x));const He=this.normalizer.normalizePropertyName(xe,x);ye=this.normalizer.normalizeStyleValue(xe,He,ye,x),T.set(xe,ye)})}),T}}class vo{constructor(b,x,T){this.name=b,this.ast=x,this._normalizer=T,this.transitionFactories=[],this.states=new Map,x.states.forEach(V=>{this.states.set(V.name,new as(V.style,V.options&&V.options.params||{},T))}),Ji(this.states,"true","1"),Ji(this.states,"false","0"),x.transitions.forEach(V=>{this.transitionFactories.push(new br(b,V,this.states))}),this.fallbackTransition=function Yr(R,b,x){return new br(R,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ye,xe)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,x,T,V){return this.transitionFactories.find(ye=>ye.match(b,x,T,V))||null}matchStyles(b,x,T){return this.fallbackTransition.buildStyles(b,x,T)}}function Ji(R,b,x){R.has(b)?R.has(x)||R.set(x,R.get(b)):R.has(x)&&R.set(b,R.get(x))}const Cn=new Wi;class Ui{constructor(b,x,T){this.bodyNode=b,this._driver=x,this._normalizer=T,this._animations=new Map,this._playersById=new Map,this.players=[]}register(b,x){const T=[],te=uo(this._driver,x,T,[]);if(T.length)throw function so(R){return new B.vHH(3503,!1)}();this._animations.set(b,te)}_buildPlayer(b,x,T){const V=b.element,te=Ai(this._normalizer,b.keyframes,x,T);return this._driver.animate(V,te,b.duration,b.delay,b.easing,[],!0)}create(b,x,T={}){const V=[],te=this._animations.get(b);let ye;const xe=new Map;if(te?(ye=Ft(this._driver,x,te,Nt,gt,new Map,new Map,T,Cn,V),ye.forEach(Lt=>{const Et=Mo(xe,Lt.element,new Map);Lt.postStyleProps.forEach(Ln=>Et.set(Ln,null))})):(V.push(function jn(){return new B.vHH(3300,!1)}()),ye=[]),V.length)throw function Wt(R){return new B.vHH(3504,!1)}();xe.forEach((Lt,Et)=>{Lt.forEach((Ln,tn)=>{Lt.set(tn,this._driver.computeStyle(Et,tn,Le))})});const st=Oo(ye.map(Lt=>{const Et=xe.get(Lt.element);return this._buildPlayer(Lt,new Map,Et)}));return this._playersById.set(b,st),st.onDestroy(()=>this.destroy(b)),this.players.push(st),st}destroy(b){const x=this._getPlayer(b);x.destroy(),this._playersById.delete(b);const T=this.players.indexOf(x);T>=0&&this.players.splice(T,1)}_getPlayer(b){const x=this._playersById.get(b);if(!x)throw function Fr(R){return new B.vHH(3301,!1)}();return x}listen(b,x,T,V){const te=fr(x,"","","");return _i(this._getPlayer(b),T,te,V),()=>{}}command(b,x,T,V){if("register"==T)return void this.register(b,V[0]);if("create"==T)return void this.create(b,x,V[0]||{});const te=this._getPlayer(b);switch(T){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(V[0]));break;case"destroy":this.destroy(b)}}}const Qi="ng-animate-queued",To="ng-animate-disabled",yo=[],ia={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hn="__ng_removed";class L{get params(){return this.options.params}constructor(b,x=""){this.namespaceId=x;const T=b&&b.hasOwnProperty("value");if(this.value=function Tr(R){return R??null}(T?b.value:b),T){const te=wn(b);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(b){const x=b.params;if(x){const T=this.options.params;Object.keys(x).forEach(V=>{null==T[V]&&(T[V]=x[V])})}}}const j="void",P=new L(j);class Q{constructor(b,x,T){this.id=b,this.hostElement=x,this._engine=T,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+b,ar(x,this._hostClassName)}listen(b,x,T,V){if(!this._triggers.has(x))throw function Tn(R,b){return new B.vHH(3302,!1)}();if(null==T||0==T.length)throw function $o(R){return new B.vHH(3303,!1)}();if(!function Br(R){return"start"==R||"done"==R}(T))throw function Qo(R,b){return new B.vHH(3400,!1)}();const te=Mo(this._elementListeners,b,[]),ye={name:x,phase:T,callback:V};te.push(ye);const xe=Mo(this._engine.statesByElement,b,new Map);return xe.has(x)||(ar(b,Nn),ar(b,Nn+"-"+x),xe.set(x,P)),()=>{this._engine.afterFlush(()=>{const He=te.indexOf(ye);He>=0&&te.splice(He,1),this._triggers.has(x)||xe.delete(x)})}}register(b,x){return!this._triggers.has(b)&&(this._triggers.set(b,x),!0)}_getTrigger(b){const x=this._triggers.get(b);if(!x)throw function Pi(R){return new B.vHH(3401,!1)}();return x}trigger(b,x,T,V=!0){const te=this._getTrigger(x),ye=new zt(this.id,x,b);let xe=this._engine.statesByElement.get(b);xe||(ar(b,Nn),ar(b,Nn+"-"+x),this._engine.statesByElement.set(b,xe=new Map));let He=xe.get(x);const st=new L(T,this.id);if(!(T&&T.hasOwnProperty("value"))&&He&&st.absorbOptions(He.options),xe.set(x,st),He||(He=P),st.value!==j&&He.value===st.value){if(!function Ws(R,b){const x=Object.keys(R),T=Object.keys(b);if(x.length!=T.length)return!1;for(let V=0;V<x.length;V++){const te=x[V];if(!b.hasOwnProperty(te)||R[te]!==b[te])return!1}return!0}(He.params,st.params)){const Kt=[],Co=te.matchStyles(He.value,He.params,Kt),Qn=te.matchStyles(st.value,st.params,Kt);Kt.length?this._engine.reportError(Kt):this._engine.afterFlush(()=>{Xo(b,Co),mo(b,Qn)})}return}const Ln=Mo(this._engine.playersByElement,b,[]);Ln.forEach(Kt=>{Kt.namespaceId==this.id&&Kt.triggerName==x&&Kt.queued&&Kt.destroy()});let tn=te.matchTransition(He.value,st.value,b,st.params),Ht=!1;if(!tn){if(!V)return;tn=te.fallbackTransition,Ht=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:x,transition:tn,fromState:He,toState:st,player:ye,isFallbackTransition:Ht}),Ht||(ar(b,Qi),ye.onStart(()=>{ls(b,Qi)})),ye.onDone(()=>{let Kt=this.players.indexOf(ye);Kt>=0&&this.players.splice(Kt,1);const Co=this._engine.playersByElement.get(b);if(Co){let Qn=Co.indexOf(ye);Qn>=0&&Co.splice(Qn,1)}}),this.players.push(ye),Ln.push(ye),ye}deregister(b){this._triggers.delete(b),this._engine.statesByElement.forEach(x=>x.delete(b)),this._elementListeners.forEach((x,T)=>{this._elementListeners.set(T,x.filter(V=>V.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const x=this._engine.playersByElement.get(b);x&&(x.forEach(T=>T.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,x){const T=this._engine.driver.query(b,sn,!0);T.forEach(V=>{if(V[Hn])return;const te=this._engine.fetchNamespacesByElement(V);te.size?te.forEach(ye=>ye.triggerLeaveAnimation(V,x,!1,!0)):this.clearElementCache(V)}),this._engine.afterFlushAnimationsDone(()=>T.forEach(V=>this.clearElementCache(V)))}triggerLeaveAnimation(b,x,T,V){const te=this._engine.statesByElement.get(b),ye=new Map;if(te){const xe=[];if(te.forEach((He,st)=>{if(ye.set(st,He.value),this._triggers.has(st)){const Lt=this.trigger(b,st,j,V);Lt&&xe.push(Lt)}}),xe.length)return this._engine.markElementAsRemoved(this.id,b,!0,x,ye),T&&Oo(xe).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const x=this._elementListeners.get(b),T=this._engine.statesByElement.get(b);if(x&&T){const V=new Set;x.forEach(te=>{const ye=te.name;if(V.has(ye))return;V.add(ye);const He=this._triggers.get(ye).fallbackTransition,st=T.get(ye)||P,Lt=new L(j),Et=new zt(this.id,ye,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:ye,transition:He,fromState:st,toState:Lt,player:Et,isFallbackTransition:!0})})}}removeNode(b,x){const T=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,x),this.triggerLeaveAnimation(b,x,!0))return;let V=!1;if(T.totalAnimations){const te=T.players.length?T.playersByQueriedElement.get(b):[];if(te&&te.length)V=!0;else{let ye=b;for(;ye=ye.parentNode;)if(T.statesByElement.get(ye)){V=!0;break}}}if(this.prepareLeaveAnimationListeners(b),V)T.markElementAsRemoved(this.id,b,!1,x);else{const te=b[Hn];(!te||te===ia)&&(T.afterFlush(()=>this.clearElementCache(b)),T.destroyInnerAnimations(b),T._onRemovalComplete(b,x))}}insertNode(b,x){ar(b,this._hostClassName)}drainQueuedTransitions(b){const x=[];return this._queue.forEach(T=>{const V=T.player;if(V.destroyed)return;const te=T.element,ye=this._elementListeners.get(te);ye&&ye.forEach(xe=>{if(xe.name==T.triggerName){const He=fr(te,T.triggerName,T.fromState.value,T.toState.value);He._data=b,_i(T.player,xe.phase,He,xe.callback)}}),V.markedForDestroy?this._engine.afterFlush(()=>{V.destroy()}):x.push(T)}),this._queue=[],x.sort((T,V)=>{const te=T.transition.ast.depCount,ye=V.transition.ast.depCount;return 0==te||0==ye?te-ye:this._engine.driver.containsElement(T.element,V.element)?1:-1})}destroy(b){this.players.forEach(x=>x.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}}class ve{_onRemovalComplete(b,x){this.onRemovalComplete(b,x)}constructor(b,x,T){this.bodyNode=b,this.driver=x,this._normalizer=T,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(V,te)=>{}}get queuedPlayers(){const b=[];return this._namespaceList.forEach(x=>{x.players.forEach(T=>{T.queued&&b.push(T)})}),b}createNamespace(b,x){const T=new Q(b,x,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,x)?this._balanceNamespaceList(T,x):(this.newHostElements.set(x,T),this.collectEnterElement(x)),this._namespaceLookup[b]=T}_balanceNamespaceList(b,x){const T=this._namespaceList,V=this.namespacesByHostElement;if(T.length-1>=0){let ye=!1,xe=this.driver.getParentElement(x);for(;xe;){const He=V.get(xe);if(He){const st=T.indexOf(He);T.splice(st+1,0,b),ye=!0;break}xe=this.driver.getParentElement(xe)}ye||T.unshift(b)}else T.push(b);return V.set(x,b),b}register(b,x){let T=this._namespaceLookup[b];return T||(T=this.createNamespace(b,x)),T}registerTrigger(b,x,T){let V=this._namespaceLookup[b];V&&V.register(x,T)&&this.totalAnimations++}destroy(b,x){b&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const T=this._fetchNamespace(b);this.namespacesByHostElement.delete(T.hostElement);const V=this._namespaceList.indexOf(T);V>=0&&this._namespaceList.splice(V,1),T.destroy(x),delete this._namespaceLookup[b]}))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const x=new Set,T=this.statesByElement.get(b);if(T)for(let V of T.values())if(V.namespaceId){const te=this._fetchNamespace(V.namespaceId);te&&x.add(te)}return x}trigger(b,x,T,V){if(Pr(x)){const te=this._fetchNamespace(b);if(te)return te.trigger(x,T,V),!0}return!1}insertNode(b,x,T,V){if(!Pr(x))return;const te=x[Hn];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const ye=this.collectedLeaveElements.indexOf(x);ye>=0&&this.collectedLeaveElements.splice(ye,1)}if(b){const ye=this._fetchNamespace(b);ye&&ye.insertNode(x,T)}V&&this.collectEnterElement(x)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,x){x?this.disabledNodes.has(b)||(this.disabledNodes.add(b),ar(b,To)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),ls(b,To))}removeNode(b,x,T){if(Pr(x)){const V=b?this._fetchNamespace(b):null;V?V.removeNode(x,T):this.markElementAsRemoved(b,x,!1,T);const te=this.namespacesByHostElement.get(x);te&&te.id!==b&&te.removeNode(x,T)}else this._onRemovalComplete(x,T)}markElementAsRemoved(b,x,T,V,te){this.collectedLeaveElements.push(x),x[Hn]={namespaceId:b,setForRemoval:V,hasAnimation:T,removedBeforeQueried:!1,previousTriggersValues:te}}listen(b,x,T,V,te){return Pr(x)?this._fetchNamespace(b).listen(x,T,V,te):()=>{}}_buildInstruction(b,x,T,V,te){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,T,V,b.fromState.options,b.toState.options,x,te)}destroyInnerAnimations(b){let x=this.driver.query(b,sn,!0);x.forEach(T=>this.destroyActiveAnimationsForElement(T)),0!=this.playersByQueriedElement.size&&(x=this.driver.query(b,si,!0),x.forEach(T=>this.finishActiveQueriedAnimationOnElement(T)))}destroyActiveAnimationsForElement(b){const x=this.playersByElement.get(b);x&&x.forEach(T=>{T.queued?T.markedForDestroy=!0:T.destroy()})}finishActiveQueriedAnimationOnElement(b){const x=this.playersByQueriedElement.get(b);x&&x.forEach(T=>T.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return Oo(this.players).onDone(()=>b());b()})}processLeaveNode(b){const x=b[Hn];if(x&&x.setForRemoval){if(b[Hn]=ia,x.namespaceId){this.destroyInnerAnimations(b);const T=this._fetchNamespace(x.namespaceId);T&&T.clearElementCache(b)}this._onRemovalComplete(b,x.setForRemoval)}b.classList?.contains(To)&&this.markElementAsDisabled(b,!1),this.driver.query(b,".ng-animate-disabled",!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(b=-1){let x=[];if(this.newHostElements.size&&(this.newHostElements.forEach((T,V)=>this._balanceNamespaceList(T,V)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let T=0;T<this.collectedEnterElements.length;T++)ar(this.collectedEnterElements[T],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const T=[];try{x=this._flushAnimations(T,b)}finally{for(let V=0;V<T.length;V++)T[V]()}}else for(let T=0;T<this.collectedLeaveElements.length;T++)this.processLeaveNode(this.collectedLeaveElements[T]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(T=>T()),this._flushFns=[],this._whenQuietFns.length){const T=this._whenQuietFns;this._whenQuietFns=[],x.length?Oo(x).onDone(()=>{T.forEach(V=>V())}):T.forEach(V=>V())}}reportError(b){throw function Gn(R){return new B.vHH(3402,!1)}()}_flushAnimations(b,x){const T=new Wi,V=[],te=new Map,ye=[],xe=new Map,He=new Map,st=new Map,Lt=new Set;this.disabledNodes.forEach(en=>{Lt.add(en);const cn=this.driver.query(en,".ng-animate-queued",!0);for(let pn=0;pn<cn.length;pn++)Lt.add(cn[pn])});const Et=this.bodyNode,Ln=Array.from(this.statesByElement.keys()),tn=ra(Ln,this.collectedEnterElements),Ht=new Map;let Kt=0;tn.forEach((en,cn)=>{const pn=Nt+Kt++;Ht.set(cn,pn),en.forEach(zn=>ar(zn,pn))});const Co=[],Qn=new Set,Dn=new Set;for(let en=0;en<this.collectedLeaveElements.length;en++){const cn=this.collectedLeaveElements[en],pn=cn[Hn];pn&&pn.setForRemoval&&(Co.push(cn),Qn.add(cn),pn.hasAnimation?this.driver.query(cn,".ng-star-inserted",!0).forEach(zn=>Qn.add(zn)):Dn.add(cn))}const Eo=new Map,di=ra(Ln,Array.from(Qn));di.forEach((en,cn)=>{const pn=gt+Kt++;Eo.set(cn,pn),en.forEach(zn=>ar(zn,pn))}),b.push(()=>{tn.forEach((en,cn)=>{const pn=Ht.get(cn);en.forEach(zn=>ls(zn,pn))}),di.forEach((en,cn)=>{const pn=Eo.get(cn);en.forEach(zn=>ls(zn,pn))}),Co.forEach(en=>{this.processLeaveNode(en)})});const Qr=[],ui=[];for(let en=this._namespaceList.length-1;en>=0;en--)this._namespaceList[en].drainQueuedTransitions(x).forEach(pn=>{const zn=pn.player,Do=pn.element;if(Qr.push(zn),this.collectedEnterElements.length){const gn=Do[Hn];if(gn&&gn.setForMove){if(gn.previousTriggersValues&&gn.previousTriggersValues.has(pn.triggerName)){const Xr=gn.previousTriggersValues.get(pn.triggerName),zi=this.statesByElement.get(pn.element);if(zi&&zi.has(pn.triggerName)){const Ko=zi.get(pn.triggerName);Ko.value=Xr,zi.set(pn.triggerName,Ko)}}return void zn.destroy()}}const Mr=!Et||!this.driver.containsElement(Et,Do),gi=Eo.get(Do),Sr=Ht.get(Do),Ao=this._buildInstruction(pn,T,Sr,gi,Mr);if(Ao.errors&&Ao.errors.length)return void ui.push(Ao);if(Mr)return zn.onStart(()=>Xo(Do,Ao.fromStyles)),zn.onDestroy(()=>mo(Do,Ao.toStyles)),void V.push(zn);if(pn.isFallbackTransition)return zn.onStart(()=>Xo(Do,Ao.fromStyles)),zn.onDestroy(()=>mo(Do,Ao.toStyles)),void V.push(zn);const Xs=[];Ao.timelines.forEach(gn=>{gn.stretchStartingKeyframe=!0,this.disabledNodes.has(gn.element)||Xs.push(gn)}),Ao.timelines=Xs,T.append(Do,Ao.timelines),ye.push({instruction:Ao,player:zn,element:Do}),Ao.queriedElements.forEach(gn=>Mo(xe,gn,[]).push(zn)),Ao.preStyleProps.forEach((gn,Xr)=>{if(gn.size){let zi=He.get(Xr);zi||He.set(Xr,zi=new Set),gn.forEach((Ko,da)=>zi.add(da))}}),Ao.postStyleProps.forEach((gn,Xr)=>{let zi=st.get(Xr);zi||st.set(Xr,zi=new Set),gn.forEach((Ko,da)=>zi.add(da))})});if(ui.length){const en=[];ui.forEach(cn=>{en.push(function No(R,b){return new B.vHH(3505,!1)}())}),Qr.forEach(cn=>cn.destroy()),this.reportError(en)}const pi=new Map,Cr=new Map;ye.forEach(en=>{const cn=en.element;T.has(cn)&&(Cr.set(cn,cn),this._beforeAnimationBuild(en.player.namespaceId,en.instruction,pi))}),V.forEach(en=>{const cn=en.element;this._getPreviousPlayers(cn,!1,en.namespaceId,en.triggerName,null).forEach(zn=>{Mo(pi,cn,[]).push(zn),zn.destroy()})});const Hi=Co.filter(en=>ds(en,He,st)),zr=new Map;Ur(zr,this.driver,Dn,st,Le).forEach(en=>{ds(en,He,st)&&Hi.push(en)});const Is=new Map;tn.forEach((en,cn)=>{Ur(Is,this.driver,new Set(en),He,"!")}),Hi.forEach(en=>{const cn=zr.get(en),pn=Is.get(en);zr.set(en,new Map([...cn?.entries()??[],...pn?.entries()??[]]))});const rn=[],Rs=[],Oi={};ye.forEach(en=>{const{element:cn,player:pn,instruction:zn}=en;if(T.has(cn)){if(Lt.has(cn))return pn.onDestroy(()=>mo(cn,zn.toStyles)),pn.disabled=!0,pn.overrideTotalTime(zn.totalTime),void V.push(pn);let Do=Oi;if(Cr.size>1){let gi=cn;const Sr=[];for(;gi=gi.parentNode;){const Ao=Cr.get(gi);if(Ao){Do=Ao;break}Sr.push(gi)}Sr.forEach(Ao=>Cr.set(Ao,Do))}const Mr=this._buildAnimation(pn.namespaceId,zn,pi,te,Is,zr);if(pn.setRealPlayer(Mr),Do===Oi)rn.push(pn);else{const gi=this.playersByElement.get(Do);gi&&gi.length&&(pn.parentPlayer=Oo(gi)),V.push(pn)}}else Xo(cn,zn.fromStyles),pn.onDestroy(()=>mo(cn,zn.toStyles)),Rs.push(pn),Lt.has(cn)&&V.push(pn)}),Rs.forEach(en=>{const cn=te.get(en.element);if(cn&&cn.length){const pn=Oo(cn);en.setRealPlayer(pn)}}),V.forEach(en=>{en.parentPlayer?en.syncPlayerEvents(en.parentPlayer):en.destroy()});for(let en=0;en<Co.length;en++){const cn=Co[en],pn=cn[Hn];if(ls(cn,gt),pn&&pn.hasAnimation)continue;let zn=[];if(xe.size){let Mr=xe.get(cn);Mr&&Mr.length&&zn.push(...Mr);let gi=this.driver.query(cn,si,!0);for(let Sr=0;Sr<gi.length;Sr++){let Ao=xe.get(gi[Sr]);Ao&&Ao.length&&zn.push(...Ao)}}const Do=zn.filter(Mr=>!Mr.destroyed);Do.length?tc(this,cn,Do):this.processLeaveNode(cn)}return Co.length=0,rn.forEach(en=>{this.players.push(en),en.onDone(()=>{en.destroy();const cn=this.players.indexOf(en);this.players.splice(cn,1)}),en.play()}),rn}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,x,T,V,te){let ye=[];if(x){const xe=this.playersByQueriedElement.get(b);xe&&(ye=xe)}else{const xe=this.playersByElement.get(b);if(xe){const He=!te||te==j;xe.forEach(st=>{st.queued||!He&&st.triggerName!=V||ye.push(st)})}}return(T||V)&&(ye=ye.filter(xe=>!(T&&T!=xe.namespaceId||V&&V!=xe.triggerName))),ye}_beforeAnimationBuild(b,x,T){const te=x.element,ye=x.isRemovalTransition?void 0:b,xe=x.isRemovalTransition?void 0:x.triggerName;for(const He of x.timelines){const st=He.element,Lt=st!==te,Et=Mo(T,st,[]);this._getPreviousPlayers(st,Lt,ye,xe,x.toState).forEach(tn=>{const Ht=tn.getRealPlayer();Ht.beforeDestroy&&Ht.beforeDestroy(),tn.destroy(),Et.push(tn)})}Xo(te,x.fromStyles)}_buildAnimation(b,x,T,V,te,ye){const xe=x.triggerName,He=x.element,st=[],Lt=new Set,Et=new Set,Ln=x.timelines.map(Ht=>{const Kt=Ht.element;Lt.add(Kt);const Co=Kt[Hn];if(Co&&Co.removedBeforeQueried)return new Se(Ht.duration,Ht.delay);const Qn=Kt!==He,Dn=function sa(R){const b=[];return aa(R,b),b}((T.get(Kt)||yo).map(pi=>pi.getRealPlayer())).filter(pi=>!!pi.element&&pi.element===Kt),Eo=te.get(Kt),di=ye.get(Kt),Qr=Ai(this._normalizer,Ht.keyframes,Eo,di),ui=this._buildPlayer(Ht,Qr,Dn);if(Ht.subTimeline&&V&&Et.add(Kt),Qn){const pi=new zt(b,xe,Kt);pi.setRealPlayer(ui),st.push(pi)}return ui});st.forEach(Ht=>{Mo(this.playersByQueriedElement,Ht.element,[]).push(Ht),Ht.onDone(()=>function En(R,b,x){let T=R.get(b);if(T){if(T.length){const V=T.indexOf(x);T.splice(V,1)}0==T.length&&R.delete(b)}return T}(this.playersByQueriedElement,Ht.element,Ht))}),Lt.forEach(Ht=>ar(Ht,po));const tn=Oo(Ln);return tn.onDestroy(()=>{Lt.forEach(Ht=>ls(Ht,po)),mo(He,x.toStyles)}),Et.forEach(Ht=>{Mo(V,Ht,[]).push(tn)}),tn}_buildPlayer(b,x,T){return x.length>0?this.driver.animate(b.element,x,b.duration,b.delay,b.easing,T):new Se(b.duration,b.delay)}}class zt{constructor(b,x,T){this.namespaceId=b,this.triggerName=x,this.element=T,this._player=new Se,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(b){this._containsRealPlayer||(this._player=b,this._queuedCallbacks.forEach((x,T)=>{x.forEach(V=>_i(b,T,void 0,V))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const x=this._player;x.triggerCallback&&b.onStart(()=>x.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,x){Mo(this._queuedCallbacks,b,[]).push(x)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const x=this._player;x.triggerCallback&&x.triggerCallback(b)}}function Pr(R){return R&&1===R.nodeType}function cs(R,b){const x=R.style.display;return R.style.display=b??"none",x}function Ur(R,b,x,T,V){const te=[];x.forEach(He=>te.push(cs(He)));const ye=[];T.forEach((He,st)=>{const Lt=new Map;He.forEach(Et=>{const Ln=b.computeStyle(st,Et,V);Lt.set(Et,Ln),(!Ln||0==Ln.length)&&(st[Hn]=fi,ye.push(st))}),R.set(st,Lt)});let xe=0;return x.forEach(He=>cs(He,te[xe++])),ye}function ra(R,b){const x=new Map;if(R.forEach(xe=>x.set(xe,[])),0==b.length)return x;const V=new Set(b),te=new Map;function ye(xe){if(!xe)return 1;let He=te.get(xe);if(He)return He;const st=xe.parentNode;return He=x.has(st)?st:V.has(st)?1:ye(st),te.set(xe,He),He}return b.forEach(xe=>{const He=ye(xe);1!==He&&x.get(He).push(xe)}),x}function ar(R,b){R.classList?.add(b)}function ls(R,b){R.classList?.remove(b)}function tc(R,b,x){Oo(x).onDone(()=>R.processLeaveNode(b))}function aa(R,b){for(let x=0;x<R.length;x++){const T=R[x];T instanceof Xe?aa(T.players,b):b.push(T)}}function ds(R,b,x){const T=x.get(R);if(!T)return!1;let V=b.get(R);return V?T.forEach(te=>V.add(te)):b.set(R,T),x.delete(R),!0}class jr{constructor(b,x,T){this.bodyNode=b,this._driver=x,this._normalizer=T,this._triggerCache={},this.onRemovalComplete=(V,te)=>{},this._transitionEngine=new ve(b,x,T),this._timelineEngine=new Ui(b,x,T),this._transitionEngine.onRemovalComplete=(V,te)=>this.onRemovalComplete(V,te)}registerTrigger(b,x,T,V,te){const ye=b+"-"+V;let xe=this._triggerCache[ye];if(!xe){const He=[],Lt=uo(this._driver,te,He,[]);if(He.length)throw function ni(R,b){return new B.vHH(3404,!1)}();xe=function Ki(R,b,x){return new vo(R,b,x)}(V,Lt,this._normalizer),this._triggerCache[ye]=xe}this._transitionEngine.registerTrigger(x,V,xe)}register(b,x){this._transitionEngine.register(b,x)}destroy(b,x){this._transitionEngine.destroy(b,x)}onInsert(b,x,T,V){this._transitionEngine.insertNode(b,x,T,V)}onRemove(b,x,T){this._transitionEngine.removeNode(b,x,T)}disableAnimations(b,x){this._transitionEngine.markElementAsDisabled(b,x)}process(b,x,T,V){if("@"==T.charAt(0)){const[te,ye]=tt(T);this._timelineEngine.command(te,x,ye,V)}else this._transitionEngine.trigger(b,x,T,V)}listen(b,x,T,V,te){if("@"==T.charAt(0)){const[ye,xe]=tt(T);return this._timelineEngine.listen(ye,x,xe,te)}return this._transitionEngine.listen(b,x,T,V,te)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(b){this._transitionEngine.afterFlushAnimationsDone(b)}}let ca=(()=>{class R{static#e=this.initialStylesByElement=new WeakMap;constructor(x,T,V){this._element=x,this._startStyles=T,this._endStyles=V,this._state=0;let te=R.initialStylesByElement.get(x);te||R.initialStylesByElement.set(x,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&mo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mo(this._element,this._initialStyles),this._endStyles&&(mo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(R.initialStylesByElement.delete(this._element),this._startStyles&&(Xo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xo(this._element,this._endStyles),this._endStyles=null),mo(this._element,this._initialStyles),this._state=3)}}return R})();function Ar(R){let b=null;return R.forEach((x,T)=>{(function qs(R){return"display"===R||"position"===R})(T)&&(b=b||new Map,b.set(T,x))}),b}class us{constructor(b,x,T,V){this.element=b,this.keyframes=x,this.options=T,this._specialStyles=V,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=T.duration,this._delay=T.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:new Map;const x=()=>this._onFinish();this.domPlayer.addEventListener("finish",x),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",x)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(b){const x=[];return b.forEach(T=>{x.push(Object.fromEntries(T))}),x}_triggerWebAnimation(b,x,T){return b.animate(this._convertKeyframesToObject(x),T)}onStart(b){this._originalOnStartFns.push(b),this._onStartFns.push(b)}onDone(b){this._originalOnDoneFns.push(b),this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b=new Map;this.hasStarted()&&this._finalKeyframe.forEach((T,V)=>{"offset"!==V&&b.set(V,this._finished?T:ks(this.element,V))}),this.currentSnapshot=b}triggerCallback(b){const x="start"===b?this._onStartFns:this._onDoneFns;x.forEach(T=>T()),x.length=0}}class Ps{validateStyleProperty(b){return!0}validateAnimatableStyleProperty(b){return!0}matchesElement(b,x){return!1}containsElement(b,x){return ao(b,x)}getParentElement(b){return _e(b)}query(b,x,T){return Go(b,x,T)}computeStyle(b,x,T){return window.getComputedStyle(b)[x]}animate(b,x,T,V,te,ye=[]){const He={duration:T,delay:V,fill:0==V?"both":"forwards"};te&&(He.easing=te);const st=new Map,Lt=ye.filter(tn=>tn instanceof us);(function bs(R,b){return 0===R||0===b})(T,V)&&Lt.forEach(tn=>{tn.currentSnapshot.forEach((Ht,Kt)=>st.set(Kt,Ht))});let Et=function _n(R){return R.length?R[0]instanceof Map?R:R.map(b=>On(b)):[]}(x).map(tn=>oo(tn));Et=function $s(R,b,x){if(x.size&&b.length){let T=b[0],V=[];if(x.forEach((te,ye)=>{T.has(ye)||V.push(ye),T.set(ye,te)}),V.length)for(let te=1;te<b.length;te++){let ye=b[te];V.forEach(xe=>ye.set(xe,ks(R,xe)))}}return b}(b,Et,st);const Ln=function Ts(R,b){let x=null,T=null;return Array.isArray(b)&&b.length?(x=Ar(b[0]),b.length>1&&(T=Ar(b[b.length-1]))):b instanceof Map&&(x=Ar(b)),x||T?new ca(R,x,T):null}(b,Et);return new us(b,Et,He,Ln)}}let ji=(()=>{class R extends de{constructor(x,T){super(),this._nextAnimationId=0,this._renderer=x.createRenderer(T.body,{id:"0",encapsulation:B.ifc.None,styles:[],data:{animation:[]}})}build(x){const T=this._nextAnimationId.toString();this._nextAnimationId++;const V=Array.isArray(x)?ze(x):x;return As(this._renderer,null,T,"register",[V]),new xr(T,this._renderer)}static#e=this.\u0275fac=function(T){return new(T||R)(B.LFG(B.FYo),B.LFG(U.K0))};static#t=this.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac})}return R})();class xr extends ue{constructor(b,x){super(),this._id=b,this._renderer=x}create(b,x){return new Ys(this._id,b,x||{},this._renderer)}}class Ys{constructor(b,x,T,V){this.id=b,this.element=x,this._renderer=V,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",T)}_listen(b,x){return this._renderer.listen(this.element,`@@${this.id}:${b}`,x)}_command(b,...x){return As(this._renderer,this.element,this.id,b,x)}onDone(b){this._listen("done",b)}onStart(b){this._listen("start",b)}onDestroy(b){this._listen("destroy",b)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(b){this._command("setPosition",b)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function As(R,b,x,T,V){return R.setProperty(b,`@@${x}:${T}`,V)}const Kr="@.disabled";let ii=(()=>{class R{constructor(x,T,V){this.delegate=x,this.engine=T,this._zone=V,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,T.onRemovalComplete=(te,ye)=>{const xe=ye?.parentNode(te);xe&&ye.removeChild(xe,te)}}createRenderer(x,T){const te=this.delegate.createRenderer(x,T);if(!(x&&T&&T.data&&T.data.animation)){let Lt=this._rendererCache.get(te);return Lt||(Lt=new la("",te,this.engine,()=>this._rendererCache.delete(te)),this._rendererCache.set(te,Lt)),Lt}const ye=T.id,xe=T.id+"-"+this._currentId;this._currentId++,this.engine.register(xe,x);const He=Lt=>{Array.isArray(Lt)?Lt.forEach(He):this.engine.registerTrigger(ye,xe,x,Lt.name,Lt)};return T.data.animation.forEach(He),new Xi(this,xe,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(x,T,V){x>=0&&x<this._microtaskId?this._zone.run(()=>T(V)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[ye,xe]=te;ye(xe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([T,V]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(T){return new(T||R)(B.LFG(B.FYo),B.LFG(jr),B.LFG(B.R0b))};static#t=this.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac})}return R})();class la{constructor(b,x,T,V){this.namespaceId=b,this.delegate=x,this.engine=T,this._onDestroy=V}get data(){return this.delegate.data}destroyNode(b){this.delegate.destroyNode?.(b)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(b,x){return this.delegate.createElement(b,x)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,x){this.delegate.appendChild(b,x),this.engine.onInsert(this.namespaceId,x,b,!1)}insertBefore(b,x,T,V=!0){this.delegate.insertBefore(b,x,T),this.engine.onInsert(this.namespaceId,x,b,V)}removeChild(b,x,T){this.engine.onRemove(this.namespaceId,x,this.delegate)}selectRootElement(b,x){return this.delegate.selectRootElement(b,x)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,x,T,V){this.delegate.setAttribute(b,x,T,V)}removeAttribute(b,x,T){this.delegate.removeAttribute(b,x,T)}addClass(b,x){this.delegate.addClass(b,x)}removeClass(b,x){this.delegate.removeClass(b,x)}setStyle(b,x,T,V){this.delegate.setStyle(b,x,T,V)}removeStyle(b,x,T){this.delegate.removeStyle(b,x,T)}setProperty(b,x,T){"@"==x.charAt(0)&&x==Kr?this.disableAnimations(b,!!T):this.delegate.setProperty(b,x,T)}setValue(b,x){this.delegate.setValue(b,x)}listen(b,x,T){return this.delegate.listen(b,x,T)}disableAnimations(b,x){this.engine.disableAnimations(b,x)}}class Xi extends la{constructor(b,x,T,V,te){super(x,T,V,te),this.factory=b,this.namespaceId=x}setProperty(b,x,T){"@"==x.charAt(0)?"."==x.charAt(1)&&x==Kr?this.disableAnimations(b,T=void 0===T||!!T):this.engine.process(this.namespaceId,b,x.slice(1),T):this.delegate.setProperty(b,x,T)}listen(b,x,T){if("@"==x.charAt(0)){const V=function Ss(R){switch(R){case"body":return document.body;case"document":return document;case"window":return window;default:return R}}(b);let te=x.slice(1),ye="";return"@"!=te.charAt(0)&&([te,ye]=function Mn(R){const b=R.indexOf(".");return[R.substring(0,b),R.slice(b+1)]}(te)),this.engine.listen(this.namespaceId,V,te,ye,xe=>{this.factory.scheduleListenerCallback(xe._data||-1,T,xe)})}return this.delegate.listen(b,x,T)}}const li=[{provide:de,useClass:ji},{provide:Fi,useFactory:function In(){return new ss}},{provide:jr,useClass:(()=>{class R extends jr{constructor(x,T,V,te){super(x.body,T,V)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(T){return new(T||R)(B.LFG(U.K0),B.LFG(ke),B.LFG(Fi),B.LFG(B.z2F))};static#t=this.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac})}return R})()},{provide:B.FYo,useFactory:function xo(R,b,x){return new ii(R,b,x)},deps:[g.se,jr,B.R0b]}],bn=[{provide:ke,useFactory:()=>new Ps},{provide:B.QbO,useValue:"BrowserAnimations"},...li],Ks=[{provide:ke,useClass:Be},{provide:B.QbO,useValue:"NoopAnimations"},...li];let Js=(()=>{class R{static withConfig(x){return{ngModule:R,providers:x.disableAnimations?Ks:bn}}static#e=this.\u0275fac=function(T){return new(T||R)};static#t=this.\u0275mod=B.oAB({type:R});static#n=this.\u0275inj=B.cJS({providers:bn,imports:[g.b2]})}return R})();var Jr=O(1809);let Vi=(()=>{class R{static#e=this.\u0275fac=function(T){return new(T||R)};static#t=this.\u0275mod=B.oAB({type:R});static#n=this.\u0275inj=B.cJS({imports:[Jr.BQ,U.ez,Jr.BQ]})}return R})();var er=O(5940);function qo(R){return()=>R.init()}let Yo=(()=>{class R{static#e=this.\u0275fac=function(T){return new(T||R)};static#t=this.\u0275mod=B.oAB({type:R,bootstrap:[se]});static#n=this.\u0275inj=B.cJS({providers:[{provide:J.TP,useClass:it,multi:!0},{provide:B.ip1,useFactory:qo,deps:[oe.M],multi:!0}],imports:[g.b2,ae,X.u5,J.JF,Pe,o.BookModule,Js,Vi,er.Cq]})}return R})();g.q6().bootstrapModule(Yo).catch(R=>console.error(R))},6698:Fe=>{Fe.exports="function"==typeof Object.create?function(O,g){g&&(O.super_=g,O.prototype=Object.create(g.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}))}:function(O,g){if(g){O.super_=g;var B=function(){};B.prototype=g.prototype,O.prototype=new B,O.prototype.constructor=O}}},2413:(Fe,De,O)=>{var g;!function(){"use strict";var B="input is invalid type",X="object"==typeof window,J=X?window:{};J.JS_SHA256_NO_WINDOW&&(X=!1);var o=!X&&"object"==typeof self,K=!J.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;K?J=global:o&&(J=self);var ne=!J.JS_SHA256_NO_COMMON_JS&&Fe.exports,be=O.amdO,ae=!J.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",oe="0123456789abcdef".split(""),se=[-2147483648,8388608,32768,128],U=[24,16,8,0],Ce=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Oe=["hex","array","digest","arrayBuffer"],We=[];(J.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(pe){return"[object Array]"===Object.prototype.toString.call(pe)}),ae&&(J.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(pe){return"object"==typeof pe&&pe.buffer&&pe.buffer.constructor===ArrayBuffer});var Ke=function(pe,ce){return function(Re){return new de(ce,!0).update(Re)[pe]()}},rt=function(pe){var ce=Ke("hex",pe);K&&(ce=Mt(ce,pe)),ce.create=function(){return new de(pe)},ce.update=function(at){return ce.create().update(at)};for(var Re=0;Re<Oe.length;++Re){var ze=Oe[Re];ce[ze]=Ke(ze,pe)}return ce},Mt=function(pe,ce){var Je,Re=O(6127),ze=O(1371).Buffer,at=ce?"sha224":"sha256";return Je=ze.from&&!J.JS_SHA256_NO_BUFFER_FROM?ze.from:function(ft){return new ze(ft)},function(ft){if("string"==typeof ft)return Re.createHash(at).update(ft,"utf8").digest("hex");if(null==ft)throw new Error(B);return ft.constructor===ArrayBuffer&&(ft=new Uint8Array(ft)),Array.isArray(ft)||ArrayBuffer.isView(ft)||ft.constructor===ze?Re.createHash(at).update(Je(ft)).digest("hex"):pe(ft)}},Pe=function(pe,ce){return function(Re,ze){return new ue(Re,ce,!0).update(ze)[pe]()}},it=function(pe){var ce=Pe("hex",pe);ce.create=function(at){return new ue(at,pe)},ce.update=function(at,Je){return ce.create(at).update(Je)};for(var Re=0;Re<Oe.length;++Re){var ze=Oe[Re];ce[ze]=Pe(ze,pe)}return ce};function de(pe,ce){ce?(We[0]=We[16]=We[1]=We[2]=We[3]=We[4]=We[5]=We[6]=We[7]=We[8]=We[9]=We[10]=We[11]=We[12]=We[13]=We[14]=We[15]=0,this.blocks=We):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pe?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=pe}function ue(pe,ce,Re){var ze,at=typeof pe;if("string"===at){var vt,Je=[],Ne=pe.length,ft=0;for(ze=0;ze<Ne;++ze)(vt=pe.charCodeAt(ze))<128?Je[ft++]=vt:vt<2048?(Je[ft++]=192|vt>>>6,Je[ft++]=128|63&vt):vt<55296||vt>=57344?(Je[ft++]=224|vt>>>12,Je[ft++]=128|vt>>>6&63,Je[ft++]=128|63&vt):(vt=65536+((1023&vt)<<10|1023&pe.charCodeAt(++ze)),Je[ft++]=240|vt>>>18,Je[ft++]=128|vt>>>12&63,Je[ft++]=128|vt>>>6&63,Je[ft++]=128|63&vt);pe=Je}else{if("object"!==at)throw new Error(B);if(null===pe)throw new Error(B);if(ae&&pe.constructor===ArrayBuffer)pe=new Uint8Array(pe);else if(!(Array.isArray(pe)||ae&&ArrayBuffer.isView(pe)))throw new Error(B)}pe.length>64&&(pe=new de(ce,!0).update(pe).array());var Ut=[],vn=[];for(ze=0;ze<64;++ze){var qn=pe[ze]||0;Ut[ze]=92^qn,vn[ze]=54^qn}de.call(this,ce,Re),this.update(vn),this.oKeyPad=Ut,this.inner=!0,this.sharedMemory=Re}de.prototype.update=function(pe){if(!this.finalized){var ce,Re=typeof pe;if("string"!==Re){if("object"!==Re)throw new Error(B);if(null===pe)throw new Error(B);if(ae&&pe.constructor===ArrayBuffer)pe=new Uint8Array(pe);else if(!(Array.isArray(pe)||ae&&ArrayBuffer.isView(pe)))throw new Error(B);ce=!0}for(var ze,Je,at=0,Ne=pe.length,ft=this.blocks;at<Ne;){if(this.hashed&&(this.hashed=!1,ft[0]=this.block,this.block=ft[16]=ft[1]=ft[2]=ft[3]=ft[4]=ft[5]=ft[6]=ft[7]=ft[8]=ft[9]=ft[10]=ft[11]=ft[12]=ft[13]=ft[14]=ft[15]=0),ce)for(Je=this.start;at<Ne&&Je<64;++at)ft[Je>>>2]|=pe[at]<<U[3&Je++];else for(Je=this.start;at<Ne&&Je<64;++at)(ze=pe.charCodeAt(at))<128?ft[Je>>>2]|=ze<<U[3&Je++]:ze<2048?(ft[Je>>>2]|=(192|ze>>>6)<<U[3&Je++],ft[Je>>>2]|=(128|63&ze)<<U[3&Je++]):ze<55296||ze>=57344?(ft[Je>>>2]|=(224|ze>>>12)<<U[3&Je++],ft[Je>>>2]|=(128|ze>>>6&63)<<U[3&Je++],ft[Je>>>2]|=(128|63&ze)<<U[3&Je++]):(ze=65536+((1023&ze)<<10|1023&pe.charCodeAt(++at)),ft[Je>>>2]|=(240|ze>>>18)<<U[3&Je++],ft[Je>>>2]|=(128|ze>>>12&63)<<U[3&Je++],ft[Je>>>2]|=(128|ze>>>6&63)<<U[3&Je++],ft[Je>>>2]|=(128|63&ze)<<U[3&Je++]);this.lastByteIndex=Je,this.bytes+=Je-this.start,Je>=64?(this.block=ft[16],this.start=Je-64,this.hash(),this.hashed=!0):this.start=Je}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},de.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var pe=this.blocks,ce=this.lastByteIndex;pe[16]=this.block,pe[ce>>>2]|=se[3&ce],this.block=pe[16],ce>=56&&(this.hashed||this.hash(),pe[0]=this.block,pe[16]=pe[1]=pe[2]=pe[3]=pe[4]=pe[5]=pe[6]=pe[7]=pe[8]=pe[9]=pe[10]=pe[11]=pe[12]=pe[13]=pe[14]=pe[15]=0),pe[14]=this.hBytes<<3|this.bytes>>>29,pe[15]=this.bytes<<3,this.hash()}},de.prototype.hash=function(){var Ut,Se,mt,yt,Zt,on,pe=this.h0,ce=this.h1,Re=this.h2,ze=this.h3,at=this.h4,Je=this.h5,Ne=this.h6,ft=this.h7,vt=this.blocks;for(Ut=16;Ut<64;++Ut)vt[Ut]=vt[Ut-16]+(((Se=vt[Ut-15])>>>7|Se<<25)^(Se>>>18|Se<<14)^Se>>>3)+vt[Ut-7]+(((Se=vt[Ut-2])>>>17|Se<<15)^(Se>>>19|Se<<13)^Se>>>10)<<0;for(on=ce&Re,Ut=0;Ut<64;Ut+=4)this.first?(this.is224?(mt=300032,ft=(Se=vt[0]-1413257819)-150054599<<0,ze=Se+24177077<<0):(mt=704751109,ft=(Se=vt[0]-210244248)-1521486534<<0,ze=Se+143694565<<0),this.first=!1):(ft=ze+(Se=ft+((at>>>6|at<<26)^(at>>>11|at<<21)^(at>>>25|at<<7))+(at&Je^~at&Ne)+Ce[Ut]+vt[Ut])<<0,ze=Se+(((pe>>>2|pe<<30)^(pe>>>13|pe<<19)^(pe>>>22|pe<<10))+((mt=pe&ce)^pe&Re^on))<<0),Ne=Re+(Se=Ne+((ft>>>6|ft<<26)^(ft>>>11|ft<<21)^(ft>>>25|ft<<7))+(ft&at^~ft&Je)+Ce[Ut+1]+vt[Ut+1])<<0,Re=Se+(((ze>>>2|ze<<30)^(ze>>>13|ze<<19)^(ze>>>22|ze<<10))+((yt=ze&pe)^ze&ce^mt))<<0,Je=ce+(Se=Je+((Ne>>>6|Ne<<26)^(Ne>>>11|Ne<<21)^(Ne>>>25|Ne<<7))+(Ne&ft^~Ne&at)+Ce[Ut+2]+vt[Ut+2])<<0,ce=Se+(((Re>>>2|Re<<30)^(Re>>>13|Re<<19)^(Re>>>22|Re<<10))+((Zt=Re&ze)^Re&pe^yt))<<0,at=pe+(Se=at+((Je>>>6|Je<<26)^(Je>>>11|Je<<21)^(Je>>>25|Je<<7))+(Je&Ne^~Je&ft)+Ce[Ut+3]+vt[Ut+3])<<0,pe=Se+(((ce>>>2|ce<<30)^(ce>>>13|ce<<19)^(ce>>>22|ce<<10))+((on=ce&Re)^ce&ze^Zt))<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+pe<<0,this.h1=this.h1+ce<<0,this.h2=this.h2+Re<<0,this.h3=this.h3+ze<<0,this.h4=this.h4+at<<0,this.h5=this.h5+Je<<0,this.h6=this.h6+Ne<<0,this.h7=this.h7+ft<<0},de.prototype.toString=de.prototype.hex=function(){this.finalize();var pe=this.h0,ce=this.h1,Re=this.h2,ze=this.h3,at=this.h4,Je=this.h5,Ne=this.h6,ft=this.h7,vt=oe[pe>>>28&15]+oe[pe>>>24&15]+oe[pe>>>20&15]+oe[pe>>>16&15]+oe[pe>>>12&15]+oe[pe>>>8&15]+oe[pe>>>4&15]+oe[15&pe]+oe[ce>>>28&15]+oe[ce>>>24&15]+oe[ce>>>20&15]+oe[ce>>>16&15]+oe[ce>>>12&15]+oe[ce>>>8&15]+oe[ce>>>4&15]+oe[15&ce]+oe[Re>>>28&15]+oe[Re>>>24&15]+oe[Re>>>20&15]+oe[Re>>>16&15]+oe[Re>>>12&15]+oe[Re>>>8&15]+oe[Re>>>4&15]+oe[15&Re]+oe[ze>>>28&15]+oe[ze>>>24&15]+oe[ze>>>20&15]+oe[ze>>>16&15]+oe[ze>>>12&15]+oe[ze>>>8&15]+oe[ze>>>4&15]+oe[15&ze]+oe[at>>>28&15]+oe[at>>>24&15]+oe[at>>>20&15]+oe[at>>>16&15]+oe[at>>>12&15]+oe[at>>>8&15]+oe[at>>>4&15]+oe[15&at]+oe[Je>>>28&15]+oe[Je>>>24&15]+oe[Je>>>20&15]+oe[Je>>>16&15]+oe[Je>>>12&15]+oe[Je>>>8&15]+oe[Je>>>4&15]+oe[15&Je]+oe[Ne>>>28&15]+oe[Ne>>>24&15]+oe[Ne>>>20&15]+oe[Ne>>>16&15]+oe[Ne>>>12&15]+oe[Ne>>>8&15]+oe[Ne>>>4&15]+oe[15&Ne];return this.is224||(vt+=oe[ft>>>28&15]+oe[ft>>>24&15]+oe[ft>>>20&15]+oe[ft>>>16&15]+oe[ft>>>12&15]+oe[ft>>>8&15]+oe[ft>>>4&15]+oe[15&ft]),vt},de.prototype.array=de.prototype.digest=function(){this.finalize();var pe=this.h0,ce=this.h1,Re=this.h2,ze=this.h3,at=this.h4,Je=this.h5,Ne=this.h6,ft=this.h7,vt=[pe>>>24&255,pe>>>16&255,pe>>>8&255,255&pe,ce>>>24&255,ce>>>16&255,ce>>>8&255,255&ce,Re>>>24&255,Re>>>16&255,Re>>>8&255,255&Re,ze>>>24&255,ze>>>16&255,ze>>>8&255,255&ze,at>>>24&255,at>>>16&255,at>>>8&255,255&at,Je>>>24&255,Je>>>16&255,Je>>>8&255,255&Je,Ne>>>24&255,Ne>>>16&255,Ne>>>8&255,255&Ne];return this.is224||vt.push(ft>>>24&255,ft>>>16&255,ft>>>8&255,255&ft),vt},de.prototype.arrayBuffer=function(){this.finalize();var pe=new ArrayBuffer(this.is224?28:32),ce=new DataView(pe);return ce.setUint32(0,this.h0),ce.setUint32(4,this.h1),ce.setUint32(8,this.h2),ce.setUint32(12,this.h3),ce.setUint32(16,this.h4),ce.setUint32(20,this.h5),ce.setUint32(24,this.h6),this.is224||ce.setUint32(28,this.h7),pe},(ue.prototype=new de).finalize=function(){if(de.prototype.finalize.call(this),this.inner){this.inner=!1;var pe=this.array();de.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(pe),de.prototype.finalize.call(this)}};var Le=rt();Le.sha256=Le,Le.sha224=rt(!0),Le.sha256.hmac=it(),Le.sha224.hmac=it(!0),ne?Fe.exports=Le:(J.sha256=Le.sha256,J.sha224=Le.sha224,be&&void 0!==(g=function(){return Le}.call(Le,O,Le,Fe))&&(Fe.exports=g))}()},763:(Fe,De)=>{"use strict";var O=Object.prototype.hasOwnProperty;function B(K){try{return decodeURIComponent(K.replace(/\+/g," "))}catch{return null}}function X(K){try{return encodeURIComponent(K)}catch{return null}}De.stringify=function o(K,ne){ne=ne||"";var ae,oe,be=[];for(oe in"string"!=typeof ne&&(ne="?"),K)if(O.call(K,oe)){if(!(ae=K[oe])&&(null==ae||isNaN(ae))&&(ae=""),oe=X(oe),ae=X(ae),null===oe||null===ae)continue;be.push(oe+"="+ae)}return be.length?ne+be.join("&"):""},De.parse=function J(K){for(var ae,ne=/([^=?#&]+)=?([^&]*)/g,be={};ae=ne.exec(K);){var oe=B(ae[1]),se=B(ae[2]);null===oe||null===se||oe in be||(be[oe]=se)}return be}},325:Fe=>{"use strict";Fe.exports=function(O,g){if(g=g.split(":")[0],!(O=+O))return!1;switch(g){case"http":case"ws":return 80!==O;case"https":case"wss":return 443!==O;case"ftp":return 21!==O;case"gopher":return 70!==O;case"file":return!1}return 0!==O}},5619:(Fe,De,O)=>{"use strict";O.d(De,{X:()=>B});var g=O(8645);class B extends g.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const o=super._subscribe(J);return!o.closed&&J.next(this._value),o}getValue(){const{hasError:J,thrownError:o,_value:K}=this;if(J)throw o;return this._throwIfClosed(),K}next(J){super.next(this._value=J)}}},5592:(Fe,De,O)=>{"use strict";O.d(De,{y:()=>be});var g=O(305),B=O(7394),X=O(4850),J=O(8407),o=O(2653),K=O(4674),ne=O(1441);let be=(()=>{class U{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const We=new U;return We.source=this,We.operator=Oe,We}subscribe(Oe,We,Ke){const rt=function se(U){return U&&U instanceof g.Lv||function oe(U){return U&&(0,K.m)(U.next)&&(0,K.m)(U.error)&&(0,K.m)(U.complete)}(U)&&(0,B.Nn)(U)}(Oe)?Oe:new g.Hp(Oe,We,Ke);return(0,ne.x)(()=>{const{operator:Mt,source:Pe}=this;rt.add(Mt?Mt.call(rt,Pe):Pe?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(We){Oe.error(We)}}forEach(Oe,We){return new(We=ae(We))((Ke,rt)=>{const Mt=new g.Hp({next:Pe=>{try{Oe(Pe)}catch(it){rt(it),Mt.unsubscribe()}},error:rt,complete:Ke});this.subscribe(Mt)})}_subscribe(Oe){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Oe)}[X.L](){return this}pipe(...Oe){return(0,J.U)(Oe)(this)}toPromise(Oe){return new(Oe=ae(Oe))((We,Ke)=>{let rt;this.subscribe(Mt=>rt=Mt,Mt=>Ke(Mt),()=>We(rt))})}}return U.create=Ce=>new U(Ce),U})();function ae(U){var Ce;return null!==(Ce=U??o.config.Promise)&&void 0!==Ce?Ce:Promise}},8645:(Fe,De,O)=>{"use strict";O.d(De,{x:()=>ne});var g=O(5592),B=O(7394);const J=(0,O(2306).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var o=O(9039),K=O(1441);let ne=(()=>{class ae extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const U=new be(this,this);return U.operator=se,U}_throwIfClosed(){if(this.closed)throw new J}next(se){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const U of this.currentObservers)U.next(se)}})}error(se){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:U}=this;for(;U.length;)U.shift().error(se)}})}complete(){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:U,isStopped:Ce,observers:Oe}=this;return U||Ce?B.Lc:(this.currentObservers=null,Oe.push(se),new B.w0(()=>{this.currentObservers=null,(0,o.P)(Oe,se)}))}_checkFinalizedStatuses(se){const{hasError:U,thrownError:Ce,isStopped:Oe}=this;U?se.error(Ce):Oe&&se.complete()}asObservable(){const se=new g.y;return se.source=this,se}}return ae.create=(oe,se)=>new be(oe,se),ae})();class be extends ne{constructor(oe,se){super(),this.destination=oe,this.source=se}next(oe){var se,U;null===(U=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===U||U.call(se,oe)}error(oe){var se,U;null===(U=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===U||U.call(se,oe)}complete(){var oe,se;null===(se=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===se||se.call(oe)}_subscribe(oe){var se,U;return null!==(U=null===(se=this.source)||void 0===se?void 0:se.subscribe(oe))&&void 0!==U?U:B.Lc}}},305:(Fe,De,O)=>{"use strict";O.d(De,{Hp:()=>Ke,Lv:()=>U});var g=O(4674),B=O(7394),X=O(2653),J=O(3894),o=O(2420);const K=ae("C",void 0,void 0);function ae(de,ue,Le){return{kind:de,value:ue,error:Le}}var oe=O(7599),se=O(1441);class U extends B.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,B.Nn)(ue)&&ue.add(this)):this.destination=it}static create(ue,Le,pe){return new Ke(ue,Le,pe)}next(ue){this.isStopped?Pe(function be(de){return ae("N",de,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?Pe(function ne(de){return ae("E",void 0,de)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?Pe(K,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ce=Function.prototype.bind;function Oe(de,ue){return Ce.call(de,ue)}class We{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:Le}=this;if(Le.next)try{Le.next(ue)}catch(pe){rt(pe)}}error(ue){const{partialObserver:Le}=this;if(Le.error)try{Le.error(ue)}catch(pe){rt(pe)}else rt(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(Le){rt(Le)}}}class Ke extends U{constructor(ue,Le,pe){let ce;if(super(),(0,g.m)(ue)||!ue)ce={next:ue??void 0,error:Le??void 0,complete:pe??void 0};else{let Re;this&&X.config.useDeprecatedNextContext?(Re=Object.create(ue),Re.unsubscribe=()=>this.unsubscribe(),ce={next:ue.next&&Oe(ue.next,Re),error:ue.error&&Oe(ue.error,Re),complete:ue.complete&&Oe(ue.complete,Re)}):ce=ue}this.destination=new We(ce)}}function rt(de){X.config.useDeprecatedSynchronousErrorHandling?(0,se.O)(de):(0,J.h)(de)}function Pe(de,ue){const{onStoppedNotification:Le}=X.config;Le&&oe.z.setTimeout(()=>Le(de,ue))}const it={closed:!0,next:o.Z,error:function Mt(de){throw de},complete:o.Z}},7394:(Fe,De,O)=>{"use strict";O.d(De,{Lc:()=>K,w0:()=>o,Nn:()=>ne});var g=O(4674);const X=(0,O(2306).d)(ae=>function(se){ae(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((U,Ce)=>`${Ce+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var J=O(9039);class o{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const Oe of se)Oe.remove(this);else se.remove(this);const{initialTeardown:U}=this;if((0,g.m)(U))try{U()}catch(Oe){oe=Oe instanceof X?Oe.errors:[Oe]}const{_finalizers:Ce}=this;if(Ce){this._finalizers=null;for(const Oe of Ce)try{be(Oe)}catch(We){oe=oe??[],We instanceof X?oe=[...oe,...We.errors]:oe.push(We)}}if(oe)throw new X(oe)}}add(oe){var se;if(oe&&oe!==this)if(this.closed)be(oe);else{if(oe instanceof o){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(oe)}}_hasParent(oe){const{_parentage:se}=this;return se===oe||Array.isArray(se)&&se.includes(oe)}_addParent(oe){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(oe),se):se?[se,oe]:oe}_removeParent(oe){const{_parentage:se}=this;se===oe?this._parentage=null:Array.isArray(se)&&(0,J.P)(se,oe)}remove(oe){const{_finalizers:se}=this;se&&(0,J.P)(se,oe),oe instanceof o&&oe._removeParent(this)}}o.EMPTY=(()=>{const ae=new o;return ae.closed=!0,ae})();const K=o.EMPTY;function ne(ae){return ae instanceof o||ae&&"closed"in ae&&(0,g.m)(ae.remove)&&(0,g.m)(ae.add)&&(0,g.m)(ae.unsubscribe)}function be(ae){(0,g.m)(ae)?ae():ae.unsubscribe()}},2653:(Fe,De,O)=>{"use strict";O.d(De,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Fe,De,O)=>{"use strict";O.d(De,{a:()=>oe});var g=O(5592),B=O(7453),X=O(7715),J=O(2737),o=O(7400),K=O(4564),ne=O(2714),be=O(8251),ae=O(7103);function oe(...Ce){const Oe=(0,K.yG)(Ce),We=(0,K.jO)(Ce),{args:Ke,keys:rt}=(0,B.D)(Ce);if(0===Ke.length)return(0,X.D)([],Oe);const Mt=new g.y(function se(Ce,Oe,We=J.y){return Ke=>{U(Oe,()=>{const{length:rt}=Ce,Mt=new Array(rt);let Pe=rt,it=rt;for(let de=0;de<rt;de++)U(Oe,()=>{const ue=(0,X.D)(Ce[de],Oe);let Le=!1;ue.subscribe((0,be.x)(Ke,pe=>{Mt[de]=pe,Le||(Le=!0,it--),it||Ke.next(We(Mt.slice()))},()=>{--Pe||Ke.complete()}))},Ke)},Ke)}}(Ke,Oe,rt?Pe=>(0,ne.n)(rt,Pe):J.y));return We?Mt.pipe((0,o.Z)(We)):Mt}function U(Ce,Oe,We){Ce?(0,ae.f)(We,Ce,Oe):Oe()}},5211:(Fe,De,O)=>{"use strict";O.d(De,{z:()=>o});var g=O(7537),X=O(4564),J=O(7715);function o(...K){return function B(){return(0,g.J)(1)}()((0,J.D)(K,(0,X.yG)(K)))}},6232:(Fe,De,O)=>{"use strict";O.d(De,{E:()=>B});const B=new(O(5592).y)(o=>o.complete())},9315:(Fe,De,O)=>{"use strict";O.d(De,{D:()=>be});var g=O(5592),B=O(7453),X=O(4829),J=O(4564),o=O(8251),K=O(7400),ne=O(2714);function be(...ae){const oe=(0,J.jO)(ae),{args:se,keys:U}=(0,B.D)(ae),Ce=new g.y(Oe=>{const{length:We}=se;if(!We)return void Oe.complete();const Ke=new Array(We);let rt=We,Mt=We;for(let Pe=0;Pe<We;Pe++){let it=!1;(0,X.Xf)(se[Pe]).subscribe((0,o.x)(Oe,de=>{it||(it=!0,Mt--),Ke[Pe]=de},()=>rt--,void 0,()=>{(!rt||!it)&&(Mt||Oe.next(U?(0,ne.n)(U,Ke):Ke),Oe.complete())}))}});return oe?Ce.pipe((0,K.Z)(oe)):Ce}},7715:(Fe,De,O)=>{"use strict";O.d(De,{D:()=>pe});var g=O(4829),B=O(7103),X=O(9360),J=O(8251);function o(ce,Re=0){return(0,X.e)((ze,at)=>{ze.subscribe((0,J.x)(at,Je=>(0,B.f)(at,ce,()=>at.next(Je),Re),()=>(0,B.f)(at,ce,()=>at.complete(),Re),Je=>(0,B.f)(at,ce,()=>at.error(Je),Re)))})}function K(ce,Re=0){return(0,X.e)((ze,at)=>{at.add(ce.schedule(()=>ze.subscribe(at),Re))})}var ae=O(5592),se=O(4971),U=O(4674);function Oe(ce,Re){if(!ce)throw new Error("Iterable cannot be null");return new ae.y(ze=>{(0,B.f)(ze,Re,()=>{const at=ce[Symbol.asyncIterator]();(0,B.f)(ze,Re,()=>{at.next().then(Je=>{Je.done?ze.complete():ze.next(Je.value)})},0,!0)})})}var We=O(8382),Ke=O(4026),rt=O(4266),Mt=O(3664),Pe=O(5726),it=O(9853),de=O(541);function pe(ce,Re){return Re?function Le(ce,Re){if(null!=ce){if((0,We.c)(ce))return function ne(ce,Re){return(0,g.Xf)(ce).pipe(K(Re),o(Re))}(ce,Re);if((0,rt.z)(ce))return function oe(ce,Re){return new ae.y(ze=>{let at=0;return Re.schedule(function(){at===ce.length?ze.complete():(ze.next(ce[at++]),ze.closed||this.schedule())})})}(ce,Re);if((0,Ke.t)(ce))return function be(ce,Re){return(0,g.Xf)(ce).pipe(K(Re),o(Re))}(ce,Re);if((0,Pe.D)(ce))return Oe(ce,Re);if((0,Mt.T)(ce))return function Ce(ce,Re){return new ae.y(ze=>{let at;return(0,B.f)(ze,Re,()=>{at=ce[se.h](),(0,B.f)(ze,Re,()=>{let Je,Ne;try{({value:Je,done:Ne}=at.next())}catch(ft){return void ze.error(ft)}Ne?ze.complete():ze.next(Je)},0,!0)}),()=>(0,U.m)(at?.return)&&at.return()})}(ce,Re);if((0,de.L)(ce))return function ue(ce,Re){return Oe((0,de.Q)(ce),Re)}(ce,Re)}throw(0,it.z)(ce)}(ce,Re):(0,g.Xf)(ce)}},4829:(Fe,De,O)=>{"use strict";O.d(De,{Xf:()=>Ce});var g=O(7582),B=O(4266),X=O(4026),J=O(5592),o=O(8382),K=O(5726),ne=O(9853),be=O(3664),ae=O(541),oe=O(4674),se=O(3894),U=O(4850);function Ce(de){if(de instanceof J.y)return de;if(null!=de){if((0,o.c)(de))return function Oe(de){return new J.y(ue=>{const Le=de[U.L]();if((0,oe.m)(Le.subscribe))return Le.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(de);if((0,B.z)(de))return function We(de){return new J.y(ue=>{for(let Le=0;Le<de.length&&!ue.closed;Le++)ue.next(de[Le]);ue.complete()})}(de);if((0,X.t)(de))return function Ke(de){return new J.y(ue=>{de.then(Le=>{ue.closed||(ue.next(Le),ue.complete())},Le=>ue.error(Le)).then(null,se.h)})}(de);if((0,K.D)(de))return Mt(de);if((0,be.T)(de))return function rt(de){return new J.y(ue=>{for(const Le of de)if(ue.next(Le),ue.closed)return;ue.complete()})}(de);if((0,ae.L)(de))return function Pe(de){return Mt((0,ae.Q)(de))}(de)}throw(0,ne.z)(de)}function Mt(de){return new J.y(ue=>{(function it(de,ue){var Le,pe,ce,Re;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Le=(0,g.KL)(de);!(pe=yield Le.next()).done;)if(ue.next(pe.value),ue.closed)return}catch(ze){ce={error:ze}}finally{try{pe&&!pe.done&&(Re=Le.return)&&(yield Re.call(Le))}finally{if(ce)throw ce.error}}ue.complete()})})(de,ue).catch(Le=>ue.error(Le))})}},2096:(Fe,De,O)=>{"use strict";O.d(De,{of:()=>X});var g=O(4564),B=O(7715);function X(...J){const o=(0,g.yG)(J);return(0,B.D)(J,o)}},8504:(Fe,De,O)=>{"use strict";O.d(De,{_:()=>X});var g=O(5592),B=O(4674);function X(J,o){const K=(0,B.m)(J)?J:()=>J,ne=be=>be.error(K());return new g.y(o?be=>o.schedule(ne,0,be):ne)}},8251:(Fe,De,O)=>{"use strict";O.d(De,{x:()=>B});var g=O(305);function B(J,o,K,ne,be){return new X(J,o,K,ne,be)}class X extends g.Lv{constructor(o,K,ne,be,ae,oe){super(o),this.onFinalize=ae,this.shouldUnsubscribe=oe,this._next=K?function(se){try{K(se)}catch(U){o.error(U)}}:super._next,this._error=be?function(se){try{be(se)}catch(U){o.error(U)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(se){o.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:K}=this;super.unsubscribe(),!K&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}}}},6306:(Fe,De,O)=>{"use strict";O.d(De,{K:()=>J});var g=O(4829),B=O(8251),X=O(9360);function J(o){return(0,X.e)((K,ne)=>{let oe,be=null,ae=!1;be=K.subscribe((0,B.x)(ne,void 0,void 0,se=>{oe=(0,g.Xf)(o(se,J(o)(K))),be?(be.unsubscribe(),be=null,oe.subscribe(ne)):ae=!0})),ae&&(be.unsubscribe(),be=null,oe.subscribe(ne))})}},6328:(Fe,De,O)=>{"use strict";O.d(De,{b:()=>X});var g=O(1631),B=O(4674);function X(J,o){return(0,B.m)(o)?(0,g.z)(J,o,1):(0,g.z)(J,1)}},2181:(Fe,De,O)=>{"use strict";O.d(De,{h:()=>X});var g=O(9360),B=O(8251);function X(J,o){return(0,g.e)((K,ne)=>{let be=0;K.subscribe((0,B.x)(ne,ae=>J.call(o,ae,be++)&&ne.next(ae)))})}},4716:(Fe,De,O)=>{"use strict";O.d(De,{x:()=>B});var g=O(9360);function B(X){return(0,g.e)((J,o)=>{try{J.subscribe(o)}finally{o.add(X)}})}},7398:(Fe,De,O)=>{"use strict";O.d(De,{U:()=>X});var g=O(9360),B=O(8251);function X(J,o){return(0,g.e)((K,ne)=>{let be=0;K.subscribe((0,B.x)(ne,ae=>{ne.next(J.call(o,ae,be++))}))})}},7537:(Fe,De,O)=>{"use strict";O.d(De,{J:()=>X});var g=O(1631),B=O(2737);function X(J=1/0){return(0,g.z)(B.y,J)}},1631:(Fe,De,O)=>{"use strict";O.d(De,{z:()=>be});var g=O(7398),B=O(4829),X=O(9360),J=O(7103),o=O(8251),ne=O(4674);function be(ae,oe,se=1/0){return(0,ne.m)(oe)?be((U,Ce)=>(0,g.U)((Oe,We)=>oe(U,Oe,Ce,We))((0,B.Xf)(ae(U,Ce))),se):("number"==typeof oe&&(se=oe),(0,X.e)((U,Ce)=>function K(ae,oe,se,U,Ce,Oe,We,Ke){const rt=[];let Mt=0,Pe=0,it=!1;const de=()=>{it&&!rt.length&&!Mt&&oe.complete()},ue=pe=>Mt<U?Le(pe):rt.push(pe),Le=pe=>{Oe&&oe.next(pe),Mt++;let ce=!1;(0,B.Xf)(se(pe,Pe++)).subscribe((0,o.x)(oe,Re=>{Ce?.(Re),Oe?ue(Re):oe.next(Re)},()=>{ce=!0},void 0,()=>{if(ce)try{for(Mt--;rt.length&&Mt<U;){const Re=rt.shift();We?(0,J.f)(oe,We,()=>Le(Re)):Le(Re)}de()}catch(Re){oe.error(Re)}}))};return ae.subscribe((0,o.x)(oe,ue,()=>{it=!0,de()})),()=>{Ke?.()}}(U,Ce,ae,se)))}},3020:(Fe,De,O)=>{"use strict";O.d(De,{B:()=>o});var g=O(4829),B=O(8645),X=O(305),J=O(9360);function o(ne={}){const{connector:be=(()=>new B.x),resetOnError:ae=!0,resetOnComplete:oe=!0,resetOnRefCountZero:se=!0}=ne;return U=>{let Ce,Oe,We,Ke=0,rt=!1,Mt=!1;const Pe=()=>{Oe?.unsubscribe(),Oe=void 0},it=()=>{Pe(),Ce=We=void 0,rt=Mt=!1},de=()=>{const ue=Ce;it(),ue?.unsubscribe()};return(0,J.e)((ue,Le)=>{Ke++,!Mt&&!rt&&Pe();const pe=We=We??be();Le.add(()=>{Ke--,0===Ke&&!Mt&&!rt&&(Oe=K(de,se))}),pe.subscribe(Le),!Ce&&Ke>0&&(Ce=new X.Hp({next:ce=>pe.next(ce),error:ce=>{Mt=!0,Pe(),Oe=K(it,ae,ce),pe.error(ce)},complete:()=>{rt=!0,Pe(),Oe=K(it,oe),pe.complete()}}),(0,g.Xf)(ue).subscribe(Ce))})(U)}}function K(ne,be,...ae){if(!0===be)return void ne();if(!1===be)return;const oe=new X.Hp({next:()=>{oe.unsubscribe(),ne()}});return(0,g.Xf)(be(...ae)).subscribe(oe)}},7921:(Fe,De,O)=>{"use strict";O.d(De,{O:()=>J});var g=O(5211),B=O(4564),X=O(9360);function J(...o){const K=(0,B.yG)(o);return(0,X.e)((ne,be)=>{(K?(0,g.z)(o,ne,K):(0,g.z)(o,ne)).subscribe(be)})}},4664:(Fe,De,O)=>{"use strict";O.d(De,{w:()=>J});var g=O(4829),B=O(9360),X=O(8251);function J(o,K){return(0,B.e)((ne,be)=>{let ae=null,oe=0,se=!1;const U=()=>se&&!ae&&be.complete();ne.subscribe((0,X.x)(be,Ce=>{ae?.unsubscribe();let Oe=0;const We=oe++;(0,g.Xf)(o(Ce,We)).subscribe(ae=(0,X.x)(be,Ke=>be.next(K?K(Ce,Ke,We,Oe++):Ke),()=>{ae=null,U()}))},()=>{se=!0,U()}))})}},8180:(Fe,De,O)=>{"use strict";O.d(De,{q:()=>J});var g=O(6232),B=O(9360),X=O(8251);function J(o){return o<=0?()=>g.E:(0,B.e)((K,ne)=>{let be=0;K.subscribe((0,X.x)(ne,ae=>{++be<=o&&(ne.next(ae),o<=be&&ne.complete())}))})}},9773:(Fe,De,O)=>{"use strict";O.d(De,{R:()=>o});var g=O(9360),B=O(8251),X=O(4829),J=O(2420);function o(K){return(0,g.e)((ne,be)=>{(0,X.Xf)(K).subscribe((0,B.x)(be,()=>be.complete(),J.Z)),!be.closed&&ne.subscribe(be)})}},9397:(Fe,De,O)=>{"use strict";O.d(De,{b:()=>o});var g=O(4674),B=O(9360),X=O(8251),J=O(2737);function o(K,ne,be){const ae=(0,g.m)(K)||ne||be?{next:K,error:ne,complete:be}:K;return ae?(0,B.e)((oe,se)=>{var U;null===(U=ae.subscribe)||void 0===U||U.call(ae);let Ce=!0;oe.subscribe((0,X.x)(se,Oe=>{var We;null===(We=ae.next)||void 0===We||We.call(ae,Oe),se.next(Oe)},()=>{var Oe;Ce=!1,null===(Oe=ae.complete)||void 0===Oe||Oe.call(ae),se.complete()},Oe=>{var We;Ce=!1,null===(We=ae.error)||void 0===We||We.call(ae,Oe),se.error(Oe)},()=>{var Oe,We;Ce&&(null===(Oe=ae.unsubscribe)||void 0===Oe||Oe.call(ae)),null===(We=ae.finalize)||void 0===We||We.call(ae)}))}):J.y}},7599:(Fe,De,O)=>{"use strict";O.d(De,{z:()=>g});const g={setTimeout(B,X,...J){const{delegate:o}=g;return o?.setTimeout?o.setTimeout(B,X,...J):setTimeout(B,X,...J)},clearTimeout(B){const{delegate:X}=g;return(X?.clearTimeout||clearTimeout)(B)},delegate:void 0}},4971:(Fe,De,O)=>{"use strict";O.d(De,{h:()=>B});const B=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Fe,De,O)=>{"use strict";O.d(De,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Fe,De,O)=>{"use strict";O.d(De,{_6:()=>K,jO:()=>J,yG:()=>o});var g=O(4674);function X(ne){return ne[ne.length-1]}function J(ne){return(0,g.m)(X(ne))?ne.pop():void 0}function o(ne){return function B(ne){return ne&&(0,g.m)(ne.schedule)}(X(ne))?ne.pop():void 0}function K(ne,be){return"number"==typeof X(ne)?ne.pop():be}},7453:(Fe,De,O)=>{"use strict";O.d(De,{D:()=>o});const{isArray:g}=Array,{getPrototypeOf:B,prototype:X,keys:J}=Object;function o(ne){if(1===ne.length){const be=ne[0];if(g(be))return{args:be,keys:null};if(function K(ne){return ne&&"object"==typeof ne&&B(ne)===X}(be)){const ae=J(be);return{args:ae.map(oe=>be[oe]),keys:ae}}}return{args:ne,keys:null}}},9039:(Fe,De,O)=>{"use strict";function g(B,X){if(B){const J=B.indexOf(X);0<=J&&B.splice(J,1)}}O.d(De,{P:()=>g})},2306:(Fe,De,O)=>{"use strict";function g(B){const J=B(o=>{Error.call(o),o.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}O.d(De,{d:()=>g})},2714:(Fe,De,O)=>{"use strict";function g(B,X){return B.reduce((J,o,K)=>(J[o]=X[K],J),{})}O.d(De,{n:()=>g})},1441:(Fe,De,O)=>{"use strict";O.d(De,{O:()=>J,x:()=>X});var g=O(2653);let B=null;function X(o){if(g.config.useDeprecatedSynchronousErrorHandling){const K=!B;if(K&&(B={errorThrown:!1,error:null}),o(),K){const{errorThrown:ne,error:be}=B;if(B=null,ne)throw be}}else o()}function J(o){g.config.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=o)}},7103:(Fe,De,O)=>{"use strict";function g(B,X,J,o=0,K=!1){const ne=X.schedule(function(){J(),K?B.add(this.schedule(null,o)):this.unsubscribe()},o);if(B.add(ne),!K)return ne}O.d(De,{f:()=>g})},2737:(Fe,De,O)=>{"use strict";function g(B){return B}O.d(De,{y:()=>g})},4266:(Fe,De,O)=>{"use strict";O.d(De,{z:()=>g});const g=B=>B&&"number"==typeof B.length&&"function"!=typeof B},5726:(Fe,De,O)=>{"use strict";O.d(De,{D:()=>B});var g=O(4674);function B(X){return Symbol.asyncIterator&&(0,g.m)(X?.[Symbol.asyncIterator])}},4674:(Fe,De,O)=>{"use strict";function g(B){return"function"==typeof B}O.d(De,{m:()=>g})},8382:(Fe,De,O)=>{"use strict";O.d(De,{c:()=>X});var g=O(4850),B=O(4674);function X(J){return(0,B.m)(J[g.L])}},3664:(Fe,De,O)=>{"use strict";O.d(De,{T:()=>X});var g=O(4971),B=O(4674);function X(J){return(0,B.m)(J?.[g.h])}},4026:(Fe,De,O)=>{"use strict";O.d(De,{t:()=>B});var g=O(4674);function B(X){return(0,g.m)(X?.then)}},541:(Fe,De,O)=>{"use strict";O.d(De,{L:()=>J,Q:()=>X});var g=O(7582),B=O(4674);function X(o){return(0,g.FC)(this,arguments,function*(){const ne=o.getReader();try{for(;;){const{value:be,done:ae}=yield(0,g.qq)(ne.read());if(ae)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(be)}}finally{ne.releaseLock()}})}function J(o){return(0,B.m)(o?.getReader)}},9360:(Fe,De,O)=>{"use strict";O.d(De,{A:()=>B,e:()=>X});var g=O(4674);function B(J){return(0,g.m)(J?.lift)}function X(J){return o=>{if(B(o))return o.lift(function(K){try{return J(K,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Fe,De,O)=>{"use strict";O.d(De,{Z:()=>J});var g=O(7398);const{isArray:B}=Array;function J(o){return(0,g.U)(K=>function X(o,K){return B(K)?o(...K):o(K)}(o,K))}},2420:(Fe,De,O)=>{"use strict";function g(){}O.d(De,{Z:()=>g})},8407:(Fe,De,O)=>{"use strict";O.d(De,{U:()=>X,z:()=>B});var g=O(2737);function B(...J){return X(J)}function X(J){return 0===J.length?g.y:1===J.length?J[0]:function(K){return J.reduce((ne,be)=>be(ne),K)}}},3894:(Fe,De,O)=>{"use strict";O.d(De,{h:()=>X});var g=O(2653),B=O(7599);function X(J){B.z.setTimeout(()=>{const{onUnhandledError:o}=g.config;if(!o)throw J;o(J)})}},9853:(Fe,De,O)=>{"use strict";function g(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(De,{z:()=>g})},2829:(Fe,De,O)=>{"use strict";var g=O(7681);Fe.exports=O(8025)(g),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},9841:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(7003);function X(){B.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}g(X,B),Fe.exports=X},1e3:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(3096);function X(){B.call(this)}g(X,B),X.prototype.removeAllListeners=function(J){J?delete this._listeners[J]:this._listeners={}},X.prototype.once=function(J,o){var K=this,ne=!1;this.on(J,function be(){K.removeListener(J,be),ne||(ne=!0,o.apply(this,arguments))})},X.prototype.emit=function(){var o=this._listeners[arguments[0]];if(o){for(var K=arguments.length,ne=new Array(K-1),be=1;be<K;be++)ne[be-1]=arguments[be];for(var ae=0;ae<o.length;ae++)o[ae].apply(this,ne)}},X.prototype.on=X.prototype.addListener=B.prototype.addEventListener,X.prototype.removeListener=B.prototype.removeEventListener,Fe.exports.v=X},7003:Fe=>{"use strict";function De(O){this.type=O}De.prototype.initEvent=function(O,g,B){return this.type=O,this.bubbles=g,this.cancelable=B,this.timeStamp=+new Date,this},De.prototype.stopPropagation=function(){},De.prototype.preventDefault=function(){},De.CAPTURING_PHASE=1,De.AT_TARGET=2,De.BUBBLING_PHASE=3,Fe.exports=De},3096:Fe=>{"use strict";function De(){this._listeners={}}De.prototype.addEventListener=function(O,g){O in this._listeners||(this._listeners[O]=[]);var B=this._listeners[O];-1===B.indexOf(g)&&(B=B.concat([g])),this._listeners[O]=B},De.prototype.removeEventListener=function(O,g){var B=this._listeners[O];if(B){var X=B.indexOf(g);if(-1!==X)return void(B.length>1?this._listeners[O]=B.slice(0,X).concat(B.slice(X+1)):delete this._listeners[O])}},De.prototype.dispatchEvent=function(){var O=arguments[0],g=O.type,B=1===arguments.length?[O]:Array.apply(null,arguments);if(this["on"+g]&&this["on"+g].apply(this,B),g in this._listeners)for(var X=this._listeners[g],J=0;J<X.length;J++)X[J].apply(this,B)},Fe.exports=De},8868:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(7003);function X(J){B.call(this),this.initEvent("message",!1,!1),this.data=J}g(X,B),Fe.exports=X},3508:(Fe,De,O)=>{"use strict";var g=O(8257);function B(X){this._transport=X,X.on("message",this._transportMessage.bind(this)),X.on("close",this._transportClose.bind(this))}B.prototype._transportClose=function(X,J){g.postMessage("c",JSON.stringify([X,J]))},B.prototype._transportMessage=function(X){g.postMessage("t",X)},B.prototype._send=function(X){this._transport.send(X)},B.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Fe.exports=B},8910:(Fe,De,O)=>{"use strict";var g=O(7729),B=O(7778),X=O(3508),J=O(9519),o=O(8257),K=O(792);Fe.exports=function(be,ae){var se,oe={};ae.forEach(function(U){U.facadeTransport&&(oe[U.facadeTransport.transportName]=U.facadeTransport)}),oe[J.transportName]=J,be.bootstrap_iframe=function(){var U;o.currentWindowId=K.hash.slice(1),B.attachEvent("message",function(Oe){if(Oe.source===parent&&(typeof se>"u"&&(se=Oe.origin),Oe.origin===se)){var We;try{We=JSON.parse(Oe.data)}catch{return}if(We.windowId===o.currentWindowId)switch(We.type){case"s":var Ke;try{Ke=JSON.parse(We.data)}catch{break}var rt=Ke[0],Mt=Ke[1],Pe=Ke[2],it=Ke[3];if(rt!==be.version)throw new Error('Incompatible SockJS! Main site uses: "'+rt+'", the iframe: "'+be.version+'".');if(!g.isOriginEqual(Pe,K.href)||!g.isOriginEqual(it,K.href))throw new Error("Can't connect to different domain from within an iframe. ("+K.href+", "+Pe+", "+it+")");U=new X(new oe[Mt](Pe,it));break;case"m":U._send(We.data);break;case"c":U&&U._close(),U=null}}}),o.postMessage("s")}}},8597:(Fe,De,O)=>{"use strict";var g=O(1e3).v,B=O(6698),X=O(6846);function o(K,ne){g.call(this);var be=this,ae=+new Date;this.xo=new ne("GET",K),this.xo.once("finish",function(oe,se){var U,Ce;if(200===oe){if(Ce=+new Date-ae,se)try{U=JSON.parse(se)}catch{}X.isObject(U)||(U={})}be.emit("finish",U,Ce),be.removeAllListeners()})}B(o,g),o.prototype.close=function(){this.removeAllListeners(),this.xo.close()},Fe.exports=o},9519:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(1e3).v,X=O(6125),J=O(8597);function o(K){var ne=this;B.call(this),this.ir=new J(K,X),this.ir.once("finish",function(be,ae){ne.ir=null,ne.emit("message",JSON.stringify([be,ae]))})}g(o,B),o.transportName="iframe-info-receiver",o.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Fe.exports=o},7563:(Fe,De,O)=>{"use strict";var g=O(1e3).v,B=O(6698),X=O(7778),J=O(5750),o=O(9519);function ne(be,ae){var oe=this;g.call(this);var se=function(){var U=oe.ifr=new J(o.transportName,ae,be);U.once("message",function(Ce){if(Ce){var Oe;try{Oe=JSON.parse(Ce)}catch{return oe.emit("finish"),void oe.close()}oe.emit("finish",Oe[0],Oe[1])}oe.close()}),U.once("close",function(){oe.emit("finish"),oe.close()})};global.document.body?se():X.attachEvent("load",se)}B(ne,g),ne.enabled=function(){return J.enabled()},ne.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},Fe.exports=ne},5231:(Fe,De,O)=>{"use strict";var g=O(1e3).v,B=O(6698),X=O(7729),J=O(1705),o=O(4225),K=O(6125),ne=O(8566),be=O(7563),ae=O(8597);function se(U,Ce){var Oe=this;g.call(this),setTimeout(function(){Oe.doXhr(U,Ce)},0)}B(se,g),se._getReceiver=function(U,Ce,Oe){return Oe.sameOrigin?new ae(Ce,K):o.enabled?new ae(Ce,o):J.enabled&&Oe.sameScheme?new ae(Ce,J):be.enabled()?new be(U,Ce):new ae(Ce,ne)},se.prototype.doXhr=function(U,Ce){var Oe=this,We=X.addPath(U,"/info");this.xo=se._getReceiver(U,We,Ce),this.timeoutRef=setTimeout(function(){Oe._cleanup(!1),Oe.emit("finish")},se.timeout),this.xo.once("finish",function(Ke,rt){Oe._cleanup(!0),Oe.emit("finish",Ke,rt)})},se.prototype._cleanup=function(U){clearTimeout(this.timeoutRef),this.timeoutRef=null,!U&&this.xo&&this.xo.close(),this.xo=null},se.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},se.timeout=8e3,Fe.exports=se},792:Fe=>{"use strict";Fe.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},8025:(Fe,De,O)=>{"use strict";O(7593);var Mt,g=O(787),B=O(6698),X=O(2995),J=O(6267),o=O(7729),K=O(7778),ne=O(4815),be=O(6846),ae=O(6654),oe=O(6045),se=O(7003),U=O(3096),Ce=O(792),Oe=O(9841),We=O(8868),Ke=O(5231);function Pe(de,ue,Le){if(!(this instanceof Pe))return new Pe(de,ue,Le);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");U.call(this),this.readyState=Pe.CONNECTING,this.extensions="",this.protocol="",(Le=Le||{}).protocols_whitelist&&oe.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=Le.transports,this._transportOptions=Le.transportOptions||{},this._timeout=Le.timeout||0;var pe=Le.sessionId||8;if("function"==typeof pe)this._generateSessionId=pe;else{if("number"!=typeof pe)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return X.string(pe)}}this._server=Le.server||X.numberString(1e3);var ce=new g(de);if(!ce.host||!ce.protocol)throw new SyntaxError("The URL '"+de+"' is invalid");if(ce.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==ce.protocol&&"https:"!==ce.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+ce.protocol+"' is not allowed.");if("https:"===Ce.protocol&&"https:"!==ce.protocol&&!o.isLoopbackAddr(ce.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");ue?Array.isArray(ue)||(ue=[ue]):ue=[];var ze=ue.sort();ze.forEach(function(Je,Ne){if(!Je)throw new SyntaxError("The protocols entry '"+Je+"' is invalid.");if(Ne<ze.length-1&&Je===ze[Ne+1])throw new SyntaxError("The protocols entry '"+Je+"' is duplicated.")});var at=o.getOrigin(Ce.href);this._origin=at?at.toLowerCase():null,ce.set("pathname",ce.pathname.replace(/\/+$/,"")),this.url=ce.href,this._urlInfo={nullOrigin:!ae.hasDomain(),sameOrigin:o.isOriginEqual(this.url,Ce.href),sameScheme:o.isSchemeEqual(this.url,Ce.href)},this._ir=new Ke(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function it(de){return 1e3===de||de>=3e3&&de<=4999}B(Pe,U),Pe.prototype.close=function(de,ue){if(de&&!it(de))throw new Error("InvalidAccessError: Invalid code");if(ue&&ue.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==Pe.CLOSING&&this.readyState!==Pe.CLOSED&&this._close(de||1e3,ue||"Normal closure",!0)},Pe.prototype.send=function(de){if("string"!=typeof de&&(de=""+de),this.readyState===Pe.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Pe.OPEN&&this._transport.send(J.quote(de))},Pe.version=O(8085),Pe.CONNECTING=0,Pe.OPEN=1,Pe.CLOSING=2,Pe.CLOSED=3,Pe.prototype._receiveInfo=function(de,ue){if(this._ir=null,de){this._rto=this.countRTO(ue),this._transUrl=de.base_url?de.base_url:this.url,de=be.extend(de,this._urlInfo);var Le=Mt.filterToEnabled(this._transportsWhitelist,de);this._transports=Le.main,this._connect()}else this._close(1002,"Cannot connect to server")},Pe.prototype._connect=function(){for(var de=this._transports.shift();de;de=this._transports.shift()){if(de.needBody&&(!global.document.body||typeof global.document.readyState<"u"&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(de),void K.attachEvent("load",this._connect.bind(this));var ue=Math.max(this._timeout,this._rto*de.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),ue);var ce=new de(o.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),this._transUrl,this._transportOptions[de.transportName]);return ce.on("message",this._transportMessage.bind(this)),ce.once("close",this._transportClose.bind(this)),ce.transportName=de.transportName,void(this._transport=ce)}this._close(2e3,"All transports failed",!1)},Pe.prototype._transportTimeout=function(){this.readyState===Pe.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},Pe.prototype._transportMessage=function(de){var ce,ue=this,Le=de.slice(0,1),pe=de.slice(1);switch(Le){case"o":return void this._open();case"h":return void this.dispatchEvent(new se("heartbeat"))}if(pe)try{ce=JSON.parse(pe)}catch{}if(!(typeof ce>"u"))switch(Le){case"a":Array.isArray(ce)&&ce.forEach(function(Re){ue.dispatchEvent(new We(Re))});break;case"m":this.dispatchEvent(new We(ce));break;case"c":Array.isArray(ce)&&2===ce.length&&this._close(ce[0],ce[1],!0)}},Pe.prototype._transportClose=function(de,ue){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),it(de)||2e3===de||this.readyState!==Pe.CONNECTING?this._close(de,ue):this._connect()},Pe.prototype._open=function(){this.readyState===Pe.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Pe.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new se("open"))):this._close(1006,"Server lost session")},Pe.prototype._close=function(de,ue,Le){var pe=!1;if(this._ir&&(pe=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Pe.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Pe.CLOSING,setTimeout(function(){this.readyState=Pe.CLOSED,pe&&this.dispatchEvent(new se("error"));var ce=new Oe("close");ce.wasClean=Le||!1,ce.code=de||1e3,ce.reason=ue,this.dispatchEvent(ce),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},Pe.prototype.countRTO=function(de){return de>100?4*de:300+de},Fe.exports=function(de){return Mt=ne(de),O(8910)(Pe,de),Pe}},7593:()=>{"use strict";var be,Fe=Array.prototype,De=Object.prototype,O=Function.prototype,g=String.prototype,B=Fe.slice,X=De.toString,J=function(de){return"[object Function]"===De.toString.call(de)},K=function(ue){return"[object String]"===X.call(ue)},ne=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}();be=ne?function(de,ue,Le,pe){!pe&&ue in de||Object.defineProperty(de,ue,{configurable:!0,enumerable:!1,writable:!0,value:Le})}:function(de,ue,Le,pe){!pe&&ue in de||(de[ue]=Le)};var ae=function(de,ue,Le){for(var pe in ue)De.hasOwnProperty.call(ue,pe)&&be(de,pe,ue[pe],Le)},oe=function(de){if(null==de)throw new TypeError("can't convert "+de+" to object");return Object(de)};function Ce(){}ae(O,{bind:function(ue){var Le=this;if(!J(Le))throw new TypeError("Function.prototype.bind called on incompatible "+Le);for(var pe=B.call(arguments,1),Re=Math.max(0,Le.length-pe.length),ze=[],at=0;at<Re;at++)ze.push("$"+at);var Je=Function("binder","return function ("+ze.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof Je){var Ne=Le.apply(this,pe.concat(B.call(arguments)));return Object(Ne)===Ne?Ne:this}return Le.apply(ue,pe.concat(B.call(arguments)))});return Le.prototype&&(Ce.prototype=Le.prototype,Je.prototype=new Ce,Ce.prototype=null),Je}}),ae(Array,{isArray:function(ue){return"[object Array]"===X.call(ue)}});var ue,Le,pe,Oe=Object("a"),We="a"!==Oe[0]||!(0 in Oe);ae(Fe,{forEach:function(ue){var Le=oe(this),pe=We&&K(this)?this.split(""):Le,ce=arguments[1],Re=-1,ze=pe.length>>>0;if(!J(ue))throw new TypeError;for(;++Re<ze;)Re in pe&&ue.call(ce,pe[Re],Re,Le)}},(Le=!0,pe=!0,(ue=Fe.forEach)&&(ue.call("foo",function(ce,Re,ze){"object"!=typeof ze&&(Le=!1)}),ue.call([1],function(){pe="string"==typeof this},"x")),!(ue&&Le&&pe)));var rt=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);ae(Fe,{indexOf:function(ue){var Le=We&&K(this)?this.split(""):oe(this),pe=Le.length>>>0;if(!pe)return-1;var ce=0;for(arguments.length>1&&(ce=function se(de){var ue=+de;return ue!=ue?ue=0:0!==ue&&ue!==1/0&&ue!==-1/0&&(ue=(ue>0||-1)*Math.floor(Math.abs(ue))),ue}(arguments[1])),ce=ce>=0?ce:Math.max(0,pe+ce);ce<pe;ce++)if(ce in Le&&Le[ce]===ue)return ce;return-1}},rt);var de,Mt=g.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(de=void 0===/()??/.exec("")[1],g.split=function(ue,Le){var pe=this;if(void 0===ue&&0===Le)return[];if("[object RegExp]"!==X.call(ue))return Mt.call(this,ue,Le);var at,Je,Ne,ft,ce=[],Re=(ue.ignoreCase?"i":"")+(ue.multiline?"m":"")+(ue.extended?"x":"")+(ue.sticky?"y":""),ze=0;for(ue=new RegExp(ue.source,Re+"g"),pe+="",de||(at=new RegExp("^"+ue.source+"$(?!\\s)",Re)),Le=void 0===Le?-1>>>0:function U(de){return de>>>0}(Le);(Je=ue.exec(pe))&&!((Ne=Je.index+Je[0].length)>ze&&(ce.push(pe.slice(ze,Je.index)),!de&&Je.length>1&&Je[0].replace(at,function(){for(var vt=1;vt<arguments.length-2;vt++)void 0===arguments[vt]&&(Je[vt]=void 0)}),Je.length>1&&Je.index<pe.length&&Fe.push.apply(ce,Je.slice(1)),ft=Je[0].length,ze=Ne,ce.length>=Le));)ue.lastIndex===Je.index&&ue.lastIndex++;return ze===pe.length?(ft||!ue.test(""))&&ce.push(""):ce.push(pe.slice(ze)),ce.length>Le?ce.slice(0,Le):ce}):"0".split(void 0,0).length&&(g.split=function(ue,Le){return void 0===ue&&0===Le?[]:Mt.call(this,ue,Le)});var Pe=g.substr;ae(g,{substr:function(ue,Le){return Pe.call(this,ue<0&&(ue=this.length+ue)<0?0:ue,Le)}},"".substr&&"b"!=="0b".substr(-1))},7681:(Fe,De,O)=>{"use strict";Fe.exports=[O(228),O(1174),O(7045),O(3831),O(5247)(O(3831)),O(3552),O(5247)(O(3552)),O(6579),O(5244),O(5247)(O(6579)),O(1769)]},9059:(Fe,De,O)=>{"use strict";var g=O(1e3).v,B=O(6698),X=O(7778),J=O(7729),o=global.XMLHttpRequest;function ne(oe,se,U,Ce){var Oe=this;g.call(this),setTimeout(function(){Oe._start(oe,se,U,Ce)},0)}B(ne,g),ne.prototype._start=function(oe,se,U,Ce){var Oe=this;try{this.xhr=new o}catch{}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();se=J.addQuery(se,"t="+ +new Date),this.unloadRef=X.unloadAdd(function(){Oe._cleanup(!0)});try{this.xhr.open(oe,se,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Oe.emit("finish",0,""),Oe._cleanup(!1)})}catch(Ke){return this.emit("finish",0,""),void this._cleanup(!1)}if((!Ce||!Ce.noCredentials)&&ne.supportsCORS&&(this.xhr.withCredentials=!0),Ce&&Ce.headers)for(var We in Ce.headers)this.xhr.setRequestHeader(We,Ce.headers[We]);this.xhr.onreadystatechange=function(){if(Oe.xhr){var rt,Mt,Ke=Oe.xhr;switch(Ke.readyState){case 3:try{Mt=Ke.status,rt=Ke.responseText}catch{}1223===Mt&&(Mt=204),200===Mt&&rt&&rt.length>0&&Oe.emit("chunk",Mt,rt);break;case 4:1223===(Mt=Ke.status)&&(Mt=204),(12005===Mt||12029===Mt)&&(Mt=0),Oe.emit("finish",Mt,Ke.responseText),Oe._cleanup(!1)}}};try{Oe.xhr.send(U)}catch{Oe.emit("finish",0,""),Oe._cleanup(!1)}},ne.prototype._cleanup=function(oe){if(this.xhr){if(this.removeAllListeners(),X.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),oe)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},ne.prototype.close=function(){this._cleanup(!0)},ne.enabled=!!o;var be=["Active"].concat("Object").join("X");!ne.enabled&&be in global&&(ne.enabled=!!new(o=function(){try{return new global[be]("Microsoft.XMLHTTP")}catch{return null}}));var ae=!1;try{ae="withCredentials"in new o}catch{}ne.supportsCORS=ae,Fe.exports=ne},5546:Fe=>{Fe.exports=global.EventSource},3516:Fe=>{"use strict";var De=global.WebSocket||global.MozWebSocket;Fe.exports=De?function(g){return new De(g)}:void 0},3831:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(6170),X=O(7159),J=O(4225),o=O(5546);function K(ne){if(!K.enabled())throw new Error("Transport created when disabled");B.call(this,ne,"/eventsource",X,J)}g(K,B),K.enabled=function(){return!!o},K.transportName="eventsource",K.roundTrips=2,Fe.exports=K},3552:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(3142),X=O(6125),J=O(6170);function o(K){if(!B.enabled)throw new Error("Transport created when disabled");J.call(this,K,"/htmlfile",B,X)}g(o,J),o.enabled=function(K){return B.enabled&&K.sameOrigin},o.transportName="htmlfile",o.roundTrips=2,Fe.exports=o},5750:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(1e3).v,X=O(8085),J=O(7729),o=O(8257),K=O(7778),ne=O(2995);function ae(oe,se,U){if(!ae.enabled())throw new Error("Transport created when disabled");B.call(this);var Ce=this;this.origin=J.getOrigin(U),this.baseUrl=U,this.transUrl=se,this.transport=oe,this.windowId=ne.string(8);var Oe=J.addPath(U,"/iframe.html")+"#"+this.windowId;this.iframeObj=o.createIframe(Oe,function(We){Ce.emit("close",1006,"Unable to load an iframe ("+We+")"),Ce.close()}),this.onmessageCallback=this._message.bind(this),K.attachEvent("message",this.onmessageCallback)}g(ae,B),ae.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){K.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},ae.prototype._message=function(oe){if(J.isOriginEqual(oe.origin,this.origin)){var se;try{se=JSON.parse(oe.data)}catch{return}if(se.windowId===this.windowId)switch(se.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([X,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",se.data);break;case"c":var U;try{U=JSON.parse(se.data)}catch{return}this.emit("close",U[0],U[1]),this.close()}}},ae.prototype.postMessage=function(oe,se){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:oe,data:se||""}),this.origin)},ae.prototype.send=function(oe){this.postMessage("m",oe)},ae.enabled=function(){return o.iframeEnabled},ae.transportName="iframe",ae.roundTrips=2,Fe.exports=ae},1769:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(4241),X=O(1461),J=O(5658);function o(K){if(!o.enabled())throw new Error("Transport created when disabled");B.call(this,K,"/jsonp",J,X)}g(o,B),o.enabled=function(){return!!global.document},o.transportName="jsonp-polling",o.roundTrips=1,o.needBody=!0,Fe.exports=o},6170:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(7729),X=O(4241);function K(ne,be,ae,oe){X.call(this,ne,be,function o(ne){return function(be,ae,oe){var se={};"string"==typeof ae&&(se.headers={"Content-type":"text/plain"});var U=B.addPath(be,"/xhr_send"),Ce=new ne("POST",U,ae,se);return Ce.once("finish",function(Oe){if(Ce=null,200!==Oe&&204!==Oe)return oe(new Error("http status "+Oe));oe()}),function(){Ce.close(),Ce=null;var Oe=new Error("Aborted");Oe.code=1e3,oe(Oe)}}}(oe),ae,oe)}g(K,X),Fe.exports=K},1682:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(1e3).v;function J(o,K){B.call(this),this.sendBuffer=[],this.sender=K,this.url=o}g(J,B),J.prototype.send=function(o){this.sendBuffer.push(o),this.sendStop||this.sendSchedule()},J.prototype.sendScheduleWait=function(){var K,o=this;this.sendStop=function(){o.sendStop=null,clearTimeout(K)},K=setTimeout(function(){o.sendStop=null,o.sendSchedule()},25)},J.prototype.sendSchedule=function(){var o=this;if(this.sendBuffer.length>0){var K="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,K,function(ne){o.sendStop=null,ne?(o.emit("close",ne.code||1006,"Sending error: "+ne),o.close()):o.sendScheduleWait()}),this.sendBuffer=[]}},J.prototype._cleanup=function(){this.removeAllListeners()},J.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Fe.exports=J},5247:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(5750),X=O(6846);Fe.exports=function(J){function o(K,ne){B.call(this,J.transportName,K,ne)}return g(o,B),o.enabled=function(K,ne){if(!global.document)return!1;var be=X.extend({},ne);return be.sameOrigin=!0,J.enabled(be)&&B.enabled()},o.transportName="iframe-"+J.transportName,o.needBody=!0,o.roundTrips=B.roundTrips+J.roundTrips-1,o.facadeTransport=J,o}},1711:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(1e3).v;function J(o,K,ne){B.call(this),this.Receiver=o,this.receiveUrl=K,this.AjaxObject=ne,this._scheduleReceiver()}g(J,B),J.prototype._scheduleReceiver=function(){var o=this,K=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);K.on("message",function(ne){o.emit("message",ne)}),K.once("close",function(ne,be){o.poll=K=null,o.pollIsClosing||("network"===be?o._scheduleReceiver():(o.emit("close",ne||1006,be),o.removeAllListeners()))})},J.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},Fe.exports=J},4241:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(7729),X=O(1682),J=O(1711);function K(ne,be,ae,oe,se){var U=B.addPath(ne,be),Ce=this;X.call(this,ne,ae),this.poll=new J(oe,U,se),this.poll.on("message",function(Oe){Ce.emit("message",Oe)}),this.poll.once("close",function(Oe,We){Ce.poll=null,Ce.emit("close",Oe,We),Ce.close()})}g(K,X),K.prototype.close=function(){X.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},Fe.exports=K},7159:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(1e3).v,X=O(5546);function o(K){B.call(this);var ne=this,be=this.es=new X(K);be.onmessage=function(ae){ne.emit("message",decodeURI(ae.data))},be.onerror=function(ae){var oe=2!==be.readyState?"network":"permanent";ne._cleanup(),ne._close(oe)}}g(o,B),o.prototype.abort=function(){this._cleanup(),this._close("user")},o.prototype._cleanup=function(){var K=this.es;K&&(K.onmessage=K.onerror=null,K.close(),this.es=null)},o.prototype._close=function(K){var ne=this;setTimeout(function(){ne.emit("close",null,K),ne.removeAllListeners()},200)},Fe.exports=o},3142:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(8257),X=O(7729),J=O(1e3).v,o=O(2995);function ne(ae){J.call(this);var oe=this;B.polluteGlobalNamespace(),this.id="a"+o.string(6),ae=X.addQuery(ae,"c="+decodeURIComponent(B.WPrefix+"."+this.id));var se=ne.htmlfileEnabled?B.createHtmlfile:B.createIframe;global[B.WPrefix][this.id]={start:function(){oe.iframeObj.loaded()},message:function(U){oe.emit("message",U)},stop:function(){oe._cleanup(),oe._close("network")}},this.iframeObj=se(ae,function(){oe._cleanup(),oe._close("permanent")})}g(ne,J),ne.prototype.abort=function(){this._cleanup(),this._close("user")},ne.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[B.WPrefix][this.id]},ne.prototype._close=function(ae){this.emit("close",null,ae),this.removeAllListeners()},ne.htmlfileEnabled=!1;var be=["Active"].concat("Object").join("X");if(be in global)try{ne.htmlfileEnabled=!!new global[be]("htmlfile")}catch{}ne.enabled=ne.htmlfileEnabled||B.iframeEnabled,Fe.exports=ne},1461:(Fe,De,O)=>{"use strict";var g=O(8257),B=O(2995),X=O(6654),J=O(7729),o=O(6698),K=O(1e3).v;function be(ae){var oe=this;K.call(this),g.polluteGlobalNamespace(),this.id="a"+B.string(6);var se=J.addQuery(ae,"c="+encodeURIComponent(g.WPrefix+"."+this.id));global[g.WPrefix][this.id]=this._callback.bind(this),this._createScript(se),this.timeoutId=setTimeout(function(){oe._abort(new Error("JSONP script loaded abnormally (timeout)"))},be.timeout)}o(be,K),be.prototype.abort=function(){if(global[g.WPrefix][this.id]){var ae=new Error("JSONP user aborted read");ae.code=1e3,this._abort(ae)}},be.timeout=35e3,be.scriptErrorTimeout=1e3,be.prototype._callback=function(ae){this._cleanup(),!this.aborting&&(ae&&this.emit("message",ae),this.emit("close",null,"network"),this.removeAllListeners())},be.prototype._abort=function(ae){this._cleanup(),this.aborting=!0,this.emit("close",ae.code,ae.message),this.removeAllListeners()},be.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var ae=this.script;ae.parentNode.removeChild(ae),ae.onreadystatechange=ae.onerror=ae.onload=ae.onclick=null,this.script=null}delete global[g.WPrefix][this.id]},be.prototype._scriptError=function(){var ae=this;this.errorTimer||(this.errorTimer=setTimeout(function(){ae.loadedOkay||ae._abort(new Error("JSONP script loaded abnormally (onerror)"))},be.scriptErrorTimeout))},be.prototype._createScript=function(ae){var U,oe=this,se=this.script=global.document.createElement("script");if(se.id="a"+B.string(8),se.src=ae,se.type="text/javascript",se.charset="UTF-8",se.onerror=this._scriptError.bind(this),se.onload=function(){oe._abort(new Error("JSONP script loaded abnormally (onload)"))},se.onreadystatechange=function(){if(/loaded|closed/.test(se.readyState)){if(se&&se.htmlFor&&se.onclick){oe.loadedOkay=!0;try{se.onclick()}catch{}}se&&oe._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof se.async>"u"&&global.document.attachEvent)if(X.isOpera())(U=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+se.id+"'); if(a)a.onerror();}catch(x){};",se.async=U.async=!1;else{try{se.htmlFor=se.id,se.event="onclick"}catch{}se.async=!0}typeof se.async<"u"&&(se.async=!0);var Ce=global.document.getElementsByTagName("head")[0];Ce.insertBefore(se,Ce.firstChild),U&&Ce.insertBefore(U,Ce.firstChild)},Fe.exports=be},8051:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(1e3).v;function J(o,K){B.call(this);var ne=this;this.bufferPosition=0,this.xo=new K("POST",o,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(be,ae){ne._chunkHandler(be,ae),ne.xo=null,ne.emit("close",null,200===be?"network":"permanent"),ne._cleanup()})}g(J,B),J.prototype._chunkHandler=function(o,K){if(200===o&&K)for(var ne=-1;;this.bufferPosition+=ne+1){var be=K.slice(this.bufferPosition);if(-1===(ne=be.indexOf("\n")))break;var ae=be.slice(0,ne);ae&&this.emit("message",ae)}},J.prototype._cleanup=function(){this.removeAllListeners()},J.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},Fe.exports=J},5658:(Fe,De,O)=>{"use strict";var J,o,g=O(2995),B=O(7729);Fe.exports=function(be,ae,oe){J||function ne(){(J=global.document.createElement("form")).style.display="none",J.style.position="absolute",J.method="POST",J.enctype="application/x-www-form-urlencoded",J.acceptCharset="UTF-8",(o=global.document.createElement("textarea")).name="d",J.appendChild(o),global.document.body.appendChild(J)}();var se="a"+g.string(8);J.target=se,J.action=B.addQuery(B.addPath(be,"/jsonp_send"),"i="+se);var U=function K(be){try{return global.document.createElement('<iframe name="'+be+'">')}catch{var ae=global.document.createElement("iframe");return ae.name=be,ae}}(se);U.id=se,U.style.display="none",J.appendChild(U);try{o.value=ae}catch{}J.submit();var Ce=function(Oe){U.onerror&&(U.onreadystatechange=U.onerror=U.onload=null,setTimeout(function(){U.parentNode.removeChild(U),U=null},500),o.value="",oe(Oe))};return U.onerror=function(){Ce()},U.onload=function(){Ce()},U.onreadystatechange=function(Oe){"complete"===U.readyState&&Ce()},function(){Ce(new Error("Aborted"))}}},1705:(Fe,De,O)=>{"use strict";var g=O(1e3).v,B=O(6698),X=O(7778),J=O(6654),o=O(7729);function ne(be,ae,oe){var se=this;g.call(this),setTimeout(function(){se._start(be,ae,oe)},0)}B(ne,g),ne.prototype._start=function(be,ae,oe){var se=this,U=new global.XDomainRequest;ae=o.addQuery(ae,"t="+ +new Date),U.onerror=function(){se._error()},U.ontimeout=function(){se._error()},U.onprogress=function(){se.emit("chunk",200,U.responseText)},U.onload=function(){se.emit("finish",200,U.responseText),se._cleanup(!1)},this.xdr=U,this.unloadRef=X.unloadAdd(function(){se._cleanup(!0)});try{this.xdr.open(be,ae),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(oe)}catch{this._error()}},ne.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},ne.prototype._cleanup=function(be){if(this.xdr){if(this.removeAllListeners(),X.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,be)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},ne.prototype.close=function(){this._cleanup(!0)},ne.enabled=!(!global.XDomainRequest||!J.hasDomain()),Fe.exports=ne},4225:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(9059);function X(J,o,K,ne){B.call(this,J,o,K,ne)}g(X,B),X.enabled=B.enabled&&B.supportsCORS,Fe.exports=X},8566:(Fe,De,O)=>{"use strict";var g=O(1e3).v;function X(){var J=this;g.call(this),this.to=setTimeout(function(){J.emit("finish",200,"{}")},X.timeout)}O(6698)(X,g),X.prototype.close=function(){clearTimeout(this.to)},X.timeout=2e3,Fe.exports=X},6125:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(9059);function X(J,o,K){B.call(this,J,o,K,{noCredentials:!0})}g(X,B),X.enabled=B.enabled,Fe.exports=X},228:(Fe,De,O)=>{"use strict";var g=O(7778),B=O(7729),X=O(6698),J=O(1e3).v,o=O(3516);function ne(be,ae,oe){if(!ne.enabled())throw new Error("Transport created when disabled");J.call(this);var se=this,U=B.addPath(be,"/websocket");U="https"===U.slice(0,5)?"wss"+U.slice(5):"ws"+U.slice(4),this.url=U,this.ws=new o(this.url,[],oe),this.ws.onmessage=function(Ce){se.emit("message",Ce.data)},this.unloadRef=g.unloadAdd(function(){se.ws.close()}),this.ws.onclose=function(Ce){se.emit("close",Ce.code,Ce.reason),se._cleanup()},this.ws.onerror=function(Ce){se.emit("close",1006,"WebSocket connection broken"),se._cleanup()}}X(ne,J),ne.prototype.send=function(be){this.ws.send("["+be+"]")},ne.prototype.close=function(){var be=this.ws;this._cleanup(),be&&be.close()},ne.prototype._cleanup=function(){var be=this.ws;be&&(be.onmessage=be.onclose=be.onerror=null),g.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},ne.enabled=function(){return!!o},ne.transportName="websocket",ne.roundTrips=2,Fe.exports=ne},5244:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(6170),X=O(7045),J=O(8051),o=O(1705);function K(ne){if(!o.enabled)throw new Error("Transport created when disabled");B.call(this,ne,"/xhr",J,o)}g(K,B),K.enabled=X.enabled,K.transportName="xdr-polling",K.roundTrips=2,Fe.exports=K},7045:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(6170),X=O(8051),J=O(1705);function o(K){if(!J.enabled)throw new Error("Transport created when disabled");B.call(this,K,"/xhr_streaming",X,J)}g(o,B),o.enabled=function(K){return!K.cookie_needed&&!K.nullOrigin&&J.enabled&&K.sameScheme},o.transportName="xdr-streaming",o.roundTrips=2,Fe.exports=o},6579:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(6170),X=O(8051),J=O(4225),o=O(6125);function K(ne){if(!o.enabled&&!J.enabled)throw new Error("Transport created when disabled");B.call(this,ne,"/xhr",X,J)}g(K,B),K.enabled=function(ne){return!ne.nullOrigin&&(!(!o.enabled||!ne.sameOrigin)||J.enabled)},K.transportName="xhr-polling",K.roundTrips=2,Fe.exports=K},1174:(Fe,De,O)=>{"use strict";var g=O(6698),B=O(6170),X=O(8051),J=O(4225),o=O(6125),K=O(6654);function ne(be){if(!o.enabled&&!J.enabled)throw new Error("Transport created when disabled");B.call(this,be,"/xhr_streaming",X,J)}g(ne,B),ne.enabled=function(be){return!be.nullOrigin&&!K.isOpera()&&J.enabled},ne.transportName="xhr-streaming",ne.roundTrips=2,ne.needBody=!!global.document,Fe.exports=ne},2841:Fe=>{"use strict";Fe.exports.randomBytes=global.crypto&&global.crypto.getRandomValues?function(De){var O=new Uint8Array(De);return global.crypto.getRandomValues(O),O}:function(De){for(var O=new Array(De),g=0;g<De;g++)O[g]=Math.floor(256*Math.random());return O}},6654:Fe=>{"use strict";Fe.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch{return!1}}}},6267:Fe=>{"use strict";var O,De=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;Fe.exports={quote:function(B){var X=JSON.stringify(B);return De.lastIndex=0,De.test(X)?(O||(O=function(B){var X,J={},o=[];for(X=0;X<65536;X++)o.push(String.fromCharCode(X));return B.lastIndex=0,o.join("").replace(B,function(K){return J[K]="\\u"+("0000"+K.charCodeAt(0).toString(16)).slice(-4),""}),B.lastIndex=0,J}(De)),X.replace(De,function(J){return O[J]})):X}}},7778:(Fe,De,O)=>{"use strict";var g=O(2995),B={},X=!1,J=global.chrome&&global.chrome.app&&global.chrome.app.runtime;Fe.exports={attachEvent:function(K,ne){typeof global.addEventListener<"u"?global.addEventListener(K,ne,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+K,ne),global.attachEvent("on"+K,ne))},detachEvent:function(K,ne){typeof global.addEventListener<"u"?global.removeEventListener(K,ne,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+K,ne),global.detachEvent("on"+K,ne))},unloadAdd:function(K){if(J)return null;var ne=g.string(8);return B[ne]=K,X&&setTimeout(this.triggerUnloadCallbacks,0),ne},unloadDel:function(K){K in B&&delete B[K]},triggerUnloadCallbacks:function(){for(var K in B)B[K](),delete B[K]}},J||Fe.exports.attachEvent("unload",function(){X||(X=!0,Fe.exports.triggerUnloadCallbacks())})},8257:(Fe,De,O)=>{"use strict";var g=O(7778),B=O(6654);Fe.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){Fe.exports.WPrefix in global||(global[Fe.exports.WPrefix]={})},postMessage:function(J,o){global.parent!==global&&global.parent.postMessage(JSON.stringify({windowId:Fe.exports.currentWindowId,type:J,data:o||""}),"*")},createIframe:function(J,o){var ne,be,K=global.document.createElement("iframe"),ae=function(){clearTimeout(ne);try{K.onload=null}catch{}K.onerror=null},oe=function(){K&&(ae(),setTimeout(function(){K&&K.parentNode.removeChild(K),K=null},0),g.unloadDel(be))},se=function(Ce){K&&(oe(),o(Ce))};return K.src=J,K.style.display="none",K.style.position="absolute",K.onerror=function(){se("onerror")},K.onload=function(){clearTimeout(ne),ne=setTimeout(function(){se("onload timeout")},2e3)},global.document.body.appendChild(K),ne=setTimeout(function(){se("timeout")},15e3),be=g.unloadAdd(oe),{post:function(Ce,Oe){setTimeout(function(){try{K&&K.contentWindow&&K.contentWindow.postMessage(Ce,Oe)}catch{}},0)},cleanup:oe,loaded:ae}},createHtmlfile:function(J,o){var be,ae,oe,K=["Active"].concat("Object").join("X"),ne=new global[K]("htmlfile"),se=function(){clearTimeout(be),oe.onerror=null},U=function(){ne&&(se(),g.unloadDel(ae),oe.parentNode.removeChild(oe),oe=ne=null,CollectGarbage())},Ce=function(Ke){ne&&(U(),o(Ke))};ne.open(),ne.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),ne.close(),ne.parentWindow[Fe.exports.WPrefix]=global[Fe.exports.WPrefix];var We=ne.createElement("div");return ne.body.appendChild(We),oe=ne.createElement("iframe"),We.appendChild(oe),oe.src=J,oe.onerror=function(){Ce("onerror")},be=setTimeout(function(){Ce("timeout")},15e3),ae=g.unloadAdd(U),{post:function(Ke,rt){try{setTimeout(function(){oe&&oe.contentWindow&&oe.contentWindow.postMessage(Ke,rt)},0)}catch{}},cleanup:U,loaded:se}}},Fe.exports.iframeEnabled=!1,global.document&&(Fe.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!B.isKonqueror())},6045:Fe=>{"use strict";var De={};["log","debug","warn"].forEach(function(O){var g;try{g=global.console&&global.console[O]&&global.console[O].apply}catch{}De[O]=g?function(){return global.console[O].apply(global.console,arguments)}:"log"===O?function(){}:De.log}),Fe.exports=De},6846:Fe=>{"use strict";Fe.exports={isObject:function(De){var O=typeof De;return"function"===O||"object"===O&&!!De},extend:function(De){if(!this.isObject(De))return De;for(var O,g,B=1,X=arguments.length;B<X;B++)for(g in O=arguments[B])Object.prototype.hasOwnProperty.call(O,g)&&(De[g]=O[g]);return De}}},2995:(Fe,De,O)=>{"use strict";var g=O(2841);Fe.exports={string:function(X){for(var o=g.randomBytes(X),K=[],ne=0;ne<X;ne++)K.push("abcdefghijklmnopqrstuvwxyz012345".substr(o[ne]%32,1));return K.join("")},number:function(X){return Math.floor(Math.random()*X)},numberString:function(X){var J=(""+(X-1)).length;return(new Array(J+1).join("0")+this.number(X)).slice(-J)}}},4815:Fe=>{"use strict";Fe.exports=function(O){return{filterToEnabled:function(g,B){var X={main:[],facade:[]};return g?"string"==typeof g&&(g=[g]):g=[],O.forEach(function(J){if(J){if("websocket"===J.transportName&&!1===B.websocket)return;if(g.length&&-1===g.indexOf(J.transportName))return;J.enabled(B)&&(X.main.push(J),J.facadeTransport&&X.facade.push(J.facadeTransport))}}),X}}}},7729:(Fe,De,O)=>{"use strict";var g=O(787);Fe.exports={getOrigin:function(X){if(!X)return null;var J=new g(X);if("file:"===J.protocol)return null;var o=J.port;return o||(o="https:"===J.protocol?"443":"80"),J.protocol+"//"+J.hostname+":"+o},isOriginEqual:function(X,J){return this.getOrigin(X)===this.getOrigin(J)},isSchemeEqual:function(X,J){return X.split(":")[0]===J.split(":")[0]},addPath:function(X,J){var o=X.split("?");return o[0]+J+(o[1]?"?"+o[1]:"")},addQuery:function(X,J){return X+(-1===X.indexOf("?")?"?"+J:"&"+J)},isLoopbackAddr:function(X){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(X)||/^\[::1\]$/.test(X)}}},8085:Fe=>{Fe.exports="1.6.1"},787:(Fe,De,O)=>{"use strict";var g=O(325),B=O(763),X=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,J=/[\n\r\t]/g,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,K=/:\d+$/,ne=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,be=/^[a-zA-Z]:/;function ae(Pe){return(Pe||"").toString().replace(X,"")}var oe=[["#","hash"],["?","query"],function(it,de){return Ce(de.protocol)?it.replace(/\\/g,"/"):it},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],se={hash:1,query:1};function U(Pe){var it;it=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pe,ue={},Le=typeof(Pe=Pe||it.location||{});if("blob:"===Pe.protocol)ue=new Ke(unescape(Pe.pathname),{});else if("string"===Le)for(pe in ue=new Ke(Pe,{}),se)delete ue[pe];else if("object"===Le){for(pe in Pe)pe in se||(ue[pe]=Pe[pe]);void 0===ue.slashes&&(ue.slashes=o.test(Pe.href))}return ue}function Ce(Pe){return"file:"===Pe||"ftp:"===Pe||"http:"===Pe||"https:"===Pe||"ws:"===Pe||"wss:"===Pe}function Oe(Pe,it){Pe=(Pe=ae(Pe)).replace(J,""),it=it||{};var Re,de=ne.exec(Pe),ue=de[1]?de[1].toLowerCase():"",Le=!!de[2],pe=!!de[3],ce=0;return Le?pe?(Re=de[2]+de[3]+de[4],ce=de[2].length+de[3].length):(Re=de[2]+de[4],ce=de[2].length):pe?(Re=de[3]+de[4],ce=de[3].length):Re=de[4],"file:"===ue?ce>=2&&(Re=Re.slice(2)):Ce(ue)?Re=de[4]:ue?Le&&(Re=Re.slice(2)):ce>=2&&Ce(it.protocol)&&(Re=de[4]),{protocol:ue,slashes:Le||Ce(ue),slashesCount:ce,rest:Re}}function Ke(Pe,it,de){if(Pe=(Pe=ae(Pe)).replace(J,""),!(this instanceof Ke))return new Ke(Pe,it,de);var ue,Le,pe,ce,Re,ze,at=oe.slice(),Je=typeof it,Ne=this,ft=0;for("object"!==Je&&"string"!==Je&&(de=it,it=null),de&&"function"!=typeof de&&(de=B.parse),ue=!(Le=Oe(Pe||"",it=U(it))).protocol&&!Le.slashes,Ne.slashes=Le.slashes||ue&&it.slashes,Ne.protocol=Le.protocol||it.protocol||"",Pe=Le.rest,("file:"===Le.protocol&&(2!==Le.slashesCount||be.test(Pe))||!Le.slashes&&(Le.protocol||Le.slashesCount<2||!Ce(Ne.protocol)))&&(at[3]=[/(.*)/,"pathname"]);ft<at.length;ft++)"function"!=typeof(ce=at[ft])?(ze=ce[1],(pe=ce[0])!=pe?Ne[ze]=Pe:"string"==typeof pe?~(Re="@"===pe?Pe.lastIndexOf(pe):Pe.indexOf(pe))&&("number"==typeof ce[2]?(Ne[ze]=Pe.slice(0,Re),Pe=Pe.slice(Re+ce[2])):(Ne[ze]=Pe.slice(Re),Pe=Pe.slice(0,Re))):(Re=pe.exec(Pe))&&(Ne[ze]=Re[1],Pe=Pe.slice(0,Re.index)),Ne[ze]=Ne[ze]||ue&&ce[3]&&it[ze]||"",ce[4]&&(Ne[ze]=Ne[ze].toLowerCase())):Pe=ce(Pe,Ne);de&&(Ne.query=de(Ne.query)),ue&&it.slashes&&"/"!==Ne.pathname.charAt(0)&&(""!==Ne.pathname||""!==it.pathname)&&(Ne.pathname=function We(Pe,it){if(""===Pe)return it;for(var de=(it||"/").split("/").slice(0,-1).concat(Pe.split("/")),ue=de.length,Le=de[ue-1],pe=!1,ce=0;ue--;)"."===de[ue]?de.splice(ue,1):".."===de[ue]?(de.splice(ue,1),ce++):ce&&(0===ue&&(pe=!0),de.splice(ue,1),ce--);return pe&&de.unshift(""),("."===Le||".."===Le)&&de.push(""),de.join("/")}(Ne.pathname,it.pathname)),"/"!==Ne.pathname.charAt(0)&&Ce(Ne.protocol)&&(Ne.pathname="/"+Ne.pathname),g(Ne.port,Ne.protocol)||(Ne.host=Ne.hostname,Ne.port=""),Ne.username=Ne.password="",Ne.auth&&(~(Re=Ne.auth.indexOf(":"))?(Ne.username=Ne.auth.slice(0,Re),Ne.username=encodeURIComponent(decodeURIComponent(Ne.username)),Ne.password=Ne.auth.slice(Re+1),Ne.password=encodeURIComponent(decodeURIComponent(Ne.password))):Ne.username=encodeURIComponent(decodeURIComponent(Ne.auth)),Ne.auth=Ne.password?Ne.username+":"+Ne.password:Ne.username),Ne.origin="file:"!==Ne.protocol&&Ce(Ne.protocol)&&Ne.host?Ne.protocol+"//"+Ne.host:"null",Ne.href=Ne.toString()}Ke.prototype={set:function rt(Pe,it,de){var ue=this;switch(Pe){case"query":"string"==typeof it&&it.length&&(it=(de||B.parse)(it)),ue[Pe]=it;break;case"port":ue[Pe]=it,g(it,ue.protocol)?it&&(ue.host=ue.hostname+":"+it):(ue.host=ue.hostname,ue[Pe]="");break;case"hostname":ue[Pe]=it,ue.port&&(it+=":"+ue.port),ue.host=it;break;case"host":ue[Pe]=it,K.test(it)?(it=it.split(":"),ue.port=it.pop(),ue.hostname=it.join(":")):(ue.hostname=it,ue.port="");break;case"protocol":ue.protocol=it.toLowerCase(),ue.slashes=!de;break;case"pathname":case"hash":if(it){var Le="pathname"===Pe?"/":"#";ue[Pe]=it.charAt(0)!==Le?Le+it:it}else ue[Pe]=it;break;case"username":case"password":ue[Pe]=encodeURIComponent(it);break;case"auth":var pe=it.indexOf(":");~pe?(ue.username=it.slice(0,pe),ue.username=encodeURIComponent(decodeURIComponent(ue.username)),ue.password=it.slice(pe+1),ue.password=encodeURIComponent(decodeURIComponent(ue.password))):ue.username=encodeURIComponent(decodeURIComponent(it))}for(var ce=0;ce<oe.length;ce++){var Re=oe[ce];Re[4]&&(ue[Re[1]]=ue[Re[1]].toLowerCase())}return ue.auth=ue.password?ue.username+":"+ue.password:ue.username,ue.origin="file:"!==ue.protocol&&Ce(ue.protocol)&&ue.host?ue.protocol+"//"+ue.host:"null",ue.href=ue.toString(),ue},toString:function Mt(Pe){(!Pe||"function"!=typeof Pe)&&(Pe=B.stringify);var it,de=this,ue=de.host,Le=de.protocol;Le&&":"!==Le.charAt(Le.length-1)&&(Le+=":");var pe=Le+(de.protocol&&de.slashes||Ce(de.protocol)?"//":"");return de.username?(pe+=de.username,de.password&&(pe+=":"+de.password),pe+="@"):de.password?(pe+=":"+de.password,pe+="@"):"file:"!==de.protocol&&Ce(de.protocol)&&!ue&&"/"!==de.pathname&&(pe+="@"),(":"===ue[ue.length-1]||K.test(de.hostname)&&!de.port)&&(ue+=":"),pe+=ue+de.pathname,(it="object"==typeof de.query?Pe(de.query):de.query)&&(pe+="?"!==it.charAt(0)?"?"+it:it),de.hash&&(pe+=de.hash),pe}},Ke.extractProtocol=Oe,Ke.location=U,Ke.trimLeft=ae,Ke.qs=B,Fe.exports=Ke},1371:()=>{},6127:()=>{},6814:(Fe,De,O)=>{"use strict";O.d(De,{Do:()=>Ke,EM:()=>fo,HT:()=>J,JF:()=>Ci,K0:()=>K,Mx:()=>Lo,NF:()=>Vn,O5:()=>yi,PM:()=>oi,S$:()=>Ce,V_:()=>be,Ye:()=>rt,b0:()=>We,bD:()=>Lr,ez:()=>qr,mk:()=>On,q:()=>X,rS:()=>is,sg:()=>mo,uU:()=>mr,w_:()=>o});var g=O(9291);let B=null;function X(){return B}function J(M){B||(B=M)}class o{}const K=new g.OlP("DocumentToken");let ne=(()=>{class M{historyGo(S){throw new Error("Not implemented")}static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=g.Yz7({token:M,factory:function(){return(0,g.f3M)(ae)},providedIn:"platform"})}return M})();const be=new g.OlP("Location Initialized");let ae=(()=>{class M extends ne{constructor(){super(),this._doc=(0,g.f3M)(K),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(S){const H=X().getGlobalEventTarget(this._doc,"window");return H.addEventListener("popstate",S,!1),()=>H.removeEventListener("popstate",S)}onHashChange(S){const H=X().getGlobalEventTarget(this._doc,"window");return H.addEventListener("hashchange",S,!1),()=>H.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,H,me){this._history.pushState(S,H,me)}replaceState(S,H,me){this._history.replaceState(S,H,me)}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=g.Yz7({token:M,factory:function(){return new M},providedIn:"platform"})}return M})();function oe(M,q){if(0==M.length)return q;if(0==q.length)return M;let S=0;return M.endsWith("/")&&S++,q.startsWith("/")&&S++,2==S?M+q.substring(1):1==S?M+q:M+"/"+q}function se(M){const q=M.match(/#|\?|$/),S=q&&q.index||M.length;return M.slice(0,S-("/"===M[S-1]?1:0))+M.slice(S)}function U(M){return M&&"?"!==M[0]?"?"+M:M}let Ce=(()=>{class M{historyGo(S){throw new Error("Not implemented")}static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=g.Yz7({token:M,factory:function(){return(0,g.f3M)(We)},providedIn:"root"})}return M})();const Oe=new g.OlP("appBaseHref");let We=(()=>{class M extends Ce{constructor(S,H){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=H??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(K).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return oe(this._baseHref,S)}path(S=!1){const H=this._platformLocation.pathname+U(this._platformLocation.search),me=this._platformLocation.hash;return me&&S?`${H}${me}`:H}pushState(S,H,me,Ge){const ut=this.prepareExternalUrl(me+U(Ge));this._platformLocation.pushState(S,H,ut)}replaceState(S,H,me,Ge){const ut=this.prepareExternalUrl(me+U(Ge));this._platformLocation.replaceState(S,H,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static#e=this.\u0275fac=function(H){return new(H||M)(g.LFG(ne),g.LFG(Oe,8))};static#t=this.\u0275prov=g.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),Ke=(()=>{class M extends Ce{constructor(S,H){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=H&&(this._baseHref=H)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let H=this._platformLocation.hash;return null==H&&(H="#"),H.length>0?H.substring(1):H}prepareExternalUrl(S){const H=oe(this._baseHref,S);return H.length>0?"#"+H:H}pushState(S,H,me,Ge){let ut=this.prepareExternalUrl(me+U(Ge));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.pushState(S,H,ut)}replaceState(S,H,me,Ge){let ut=this.prepareExternalUrl(me+U(Ge));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.replaceState(S,H,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static#e=this.\u0275fac=function(H){return new(H||M)(g.LFG(ne),g.LFG(Oe,8))};static#t=this.\u0275prov=g.Yz7({token:M,factory:M.\u0275fac})}return M})(),rt=(()=>{class M{constructor(S){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const H=this._locationStrategy.getBaseHref();this._basePath=function de(M){if(new RegExp("^(https?:)?//").test(M)){const[,S]=M.split(/\/\/[^\/]+/);return S}return M}(se(it(H))),this._locationStrategy.onPopState(me=>{this._subject.emit({url:this.path(!0),pop:!0,state:me.state,type:me.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,H=""){return this.path()==this.normalize(S+U(H))}normalize(S){return M.stripTrailingSlash(function Pe(M,q){if(!M||!q.startsWith(M))return q;const S=q.substring(M.length);return""===S||["/",";","?","#"].includes(S[0])?S:q}(this._basePath,it(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,H="",me=null){this._locationStrategy.pushState(me,"",S,H),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+U(H)),me)}replaceState(S,H="",me=null){this._locationStrategy.replaceState(me,"",S,H),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+U(H)),me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(H=>{this._notifyUrlChangeListeners(H.url,H.state)})),()=>{const H=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(H,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",H){this._urlChangeListeners.forEach(me=>me(S,H))}subscribe(S,H,me){return this._subject.subscribe({next:S,error:H,complete:me})}static#e=this.normalizeQueryParams=U;static#t=this.joinWithSlash=oe;static#n=this.stripTrailingSlash=se;static#o=this.\u0275fac=function(H){return new(H||M)(g.LFG(Ce))};static#i=this.\u0275prov=g.Yz7({token:M,factory:function(){return function Mt(){return new rt((0,g.LFG)(Ce))}()},providedIn:"root"})}return M})();function it(M){return M.replace(/\/index.html$/,"")}var ce=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(ce||{}),Re=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(Re||{}),ze=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(ze||{}),at=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(at||{});function Se(M,q){return dt((0,g.cg1)(M)[g.wAp.DateFormat],q)}function Xe(M,q){return dt((0,g.cg1)(M)[g.wAp.TimeFormat],q)}function et(M,q){return dt((0,g.cg1)(M)[g.wAp.DateTimeFormat],q)}function mt(M,q){const S=(0,g.cg1)(M),H=S[g.wAp.NumberSymbols][q];if(typeof H>"u"){if(q===at.CurrencyDecimal)return S[g.wAp.NumberSymbols][at.Decimal];if(q===at.CurrencyGroup)return S[g.wAp.NumberSymbols][at.Group]}return H}function Vt(M){if(!M[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dt(M,q){for(let S=q;S>-1;S--)if(typeof M[S]<"u")return M[S];throw new Error("Locale data API: locale data undefined")}function $e(M){const[q,S]=M.split(":");return{hours:+q,minutes:+S}}const kt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,jt={},Gt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var an=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(an||{}),un=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(un||{}),dn=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(dn||{});function Zo(M,q,S,H){let me=function tt(M){if(_e(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[me,Ge=1,ut=1]=M.split("-").map(qt=>+qt);return Jo(me,Ge-1,ut)}const S=parseFloat(M);if(!isNaN(M-S))return new Date(S);let H;if(H=M.match(kt))return function Ye(M){const q=new Date(0);let S=0,H=0;const me=M[8]?q.setUTCFullYear:q.setFullYear,Ge=M[8]?q.setUTCHours:q.setHours;M[9]&&(S=Number(M[9]+M[10]),H=Number(M[9]+M[11])),me.call(q,Number(M[1]),Number(M[2])-1,Number(M[3]));const ut=Number(M[4]||0)-S,qt=Number(M[5]||0)-H,Rn=Number(M[6]||0),Xn=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return Ge.call(q,ut,qt,Rn,Xn),q}(H)}const q=new Date(M);if(!_e(q))throw new Error(`Unable to convert "${M}" into a date`);return q}(M);q=ni(S,q)||q;let qt,ut=[];for(;q;){if(qt=Gt.exec(q),!qt){ut.push(q);break}{ut=ut.concat(qt.slice(1));const eo=ut.pop();if(!eo)break;q=eo}}let Rn=me.getTimezoneOffset();H&&(Rn=bi(H,Rn),me=function Mo(M,q,S){const H=S?-1:1,me=M.getTimezoneOffset();return function fr(M,q){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+q),M}(M,H*(bi(q,me)-me))}(me,H,!0));let Xn="";return ut.forEach(eo=>{const Yt=function _i(M){if(Ai[M])return Ai[M];let q;switch(M){case"G":case"GG":case"GGG":q=Tn(dn.Eras,Re.Abbreviated);break;case"GGGG":q=Tn(dn.Eras,Re.Wide);break;case"GGGGG":q=Tn(dn.Eras,Re.Narrow);break;case"y":q=Wt(un.FullYear,1,0,!1,!0);break;case"yy":q=Wt(un.FullYear,2,0,!0,!0);break;case"yyy":q=Wt(un.FullYear,3,0,!1,!0);break;case"yyyy":q=Wt(un.FullYear,4,0,!1,!0);break;case"Y":q=Oo(1);break;case"YY":q=Oo(2,!0);break;case"YYY":q=Oo(3);break;case"YYYY":q=Oo(4);break;case"M":case"L":q=Wt(un.Month,1,1);break;case"MM":case"LL":q=Wt(un.Month,2,1);break;case"MMM":q=Tn(dn.Months,Re.Abbreviated);break;case"MMMM":q=Tn(dn.Months,Re.Wide);break;case"MMMMM":q=Tn(dn.Months,Re.Narrow);break;case"LLL":q=Tn(dn.Months,Re.Abbreviated,ce.Standalone);break;case"LLLL":q=Tn(dn.Months,Re.Wide,ce.Standalone);break;case"LLLLL":q=Tn(dn.Months,Re.Narrow,ce.Standalone);break;case"w":q=xn(1);break;case"ww":q=xn(2);break;case"W":q=xn(1,!0);break;case"d":q=Wt(un.Date,1);break;case"dd":q=Wt(un.Date,2);break;case"c":case"cc":q=Wt(un.Day,1);break;case"ccc":q=Tn(dn.Days,Re.Abbreviated,ce.Standalone);break;case"cccc":q=Tn(dn.Days,Re.Wide,ce.Standalone);break;case"ccccc":q=Tn(dn.Days,Re.Narrow,ce.Standalone);break;case"cccccc":q=Tn(dn.Days,Re.Short,ce.Standalone);break;case"E":case"EE":case"EEE":q=Tn(dn.Days,Re.Abbreviated);break;case"EEEE":q=Tn(dn.Days,Re.Wide);break;case"EEEEE":q=Tn(dn.Days,Re.Narrow);break;case"EEEEEE":q=Tn(dn.Days,Re.Short);break;case"a":case"aa":case"aaa":q=Tn(dn.DayPeriods,Re.Abbreviated);break;case"aaaa":q=Tn(dn.DayPeriods,Re.Wide);break;case"aaaaa":q=Tn(dn.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":q=Tn(dn.DayPeriods,Re.Abbreviated,ce.Standalone,!0);break;case"bbbb":q=Tn(dn.DayPeriods,Re.Wide,ce.Standalone,!0);break;case"bbbbb":q=Tn(dn.DayPeriods,Re.Narrow,ce.Standalone,!0);break;case"B":case"BB":case"BBB":q=Tn(dn.DayPeriods,Re.Abbreviated,ce.Format,!0);break;case"BBBB":q=Tn(dn.DayPeriods,Re.Wide,ce.Format,!0);break;case"BBBBB":q=Tn(dn.DayPeriods,Re.Narrow,ce.Format,!0);break;case"h":q=Wt(un.Hours,1,-12);break;case"hh":q=Wt(un.Hours,2,-12);break;case"H":q=Wt(un.Hours,1);break;case"HH":q=Wt(un.Hours,2);break;case"m":q=Wt(un.Minutes,1);break;case"mm":q=Wt(un.Minutes,2);break;case"s":q=Wt(un.Seconds,1);break;case"ss":q=Wt(un.Seconds,2);break;case"S":q=Wt(un.FractionalSeconds,1);break;case"SS":q=Wt(un.FractionalSeconds,2);break;case"SSS":q=Wt(un.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":q=Qo(an.Short);break;case"ZZZZZ":q=Qo(an.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":q=Qo(an.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":q=Qo(an.Long);break;default:return null}return Ai[M]=q,q}(eo);Xn+=Yt?Yt(me,S,Rn):"''"===eo?"'":eo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Xn}function Jo(M,q,S){const H=new Date(0);return H.setFullYear(M,q,S),H.setHours(0,0,0),H}function ni(M,q){const S=function Ne(M){return(0,g.cg1)(M)[g.wAp.LocaleId]}(M);if(jt[S]=jt[S]||{},jt[S][q])return jt[S][q];let H="";switch(q){case"shortDate":H=Se(M,ze.Short);break;case"mediumDate":H=Se(M,ze.Medium);break;case"longDate":H=Se(M,ze.Long);break;case"fullDate":H=Se(M,ze.Full);break;case"shortTime":H=Xe(M,ze.Short);break;case"mediumTime":H=Xe(M,ze.Medium);break;case"longTime":H=Xe(M,ze.Long);break;case"fullTime":H=Xe(M,ze.Full);break;case"short":const me=ni(M,"shortTime"),Ge=ni(M,"shortDate");H=mi(et(M,ze.Short),[me,Ge]);break;case"medium":const ut=ni(M,"mediumTime"),qt=ni(M,"mediumDate");H=mi(et(M,ze.Medium),[ut,qt]);break;case"long":const Rn=ni(M,"longTime"),Xn=ni(M,"longDate");H=mi(et(M,ze.Long),[Rn,Xn]);break;case"full":const eo=ni(M,"fullTime"),Yt=ni(M,"fullDate");H=mi(et(M,ze.Full),[eo,Yt])}return H&&(jt[S][q]=H),H}function mi(M,q){return q&&(M=M.replace(/\{([^}]+)}/g,function(S,H){return null!=q&&H in q?q[H]:S})),M}function so(M,q,S="-",H,me){let Ge="";(M<0||me&&M<=0)&&(me?M=1-M:(M=-M,Ge=S));let ut=String(M);for(;ut.length<q;)ut="0"+ut;return H&&(ut=ut.slice(ut.length-q)),Ge+ut}function Wt(M,q,S=0,H=!1,me=!1){return function(Ge,ut){let qt=function Fr(M,q){switch(M){case un.FullYear:return q.getFullYear();case un.Month:return q.getMonth();case un.Date:return q.getDate();case un.Hours:return q.getHours();case un.Minutes:return q.getMinutes();case un.Seconds:return q.getSeconds();case un.FractionalSeconds:return q.getMilliseconds();case un.Day:return q.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,Ge);if((S>0||qt>-S)&&(qt+=S),M===un.Hours)0===qt&&-12===S&&(qt=12);else if(M===un.FractionalSeconds)return function jn(M,q){return so(M,3).substring(0,q)}(qt,q);const Rn=mt(ut,at.MinusSign);return so(qt,q,Rn,H,me)}}function Tn(M,q,S=ce.Format,H=!1){return function(me,Ge){return function $o(M,q,S,H,me,Ge){switch(S){case dn.Months:return function Ut(M,q,S){const H=(0,g.cg1)(M),Ge=dt([H[g.wAp.MonthsFormat],H[g.wAp.MonthsStandalone]],q);return dt(Ge,S)}(q,me,H)[M.getMonth()];case dn.Days:return function vt(M,q,S){const H=(0,g.cg1)(M),Ge=dt([H[g.wAp.DaysFormat],H[g.wAp.DaysStandalone]],q);return dt(Ge,S)}(q,me,H)[M.getDay()];case dn.DayPeriods:const ut=M.getHours(),qt=M.getMinutes();if(Ge){const Xn=function fe(M){const q=(0,g.cg1)(M);return Vt(q),(q[g.wAp.ExtraData][2]||[]).map(H=>"string"==typeof H?$e(H):[$e(H[0]),$e(H[1])])}(q),eo=function Ue(M,q,S){const H=(0,g.cg1)(M);Vt(H);const Ge=dt([H[g.wAp.ExtraData][0],H[g.wAp.ExtraData][1]],q)||[];return dt(Ge,S)||[]}(q,me,H),Yt=Xn.findIndex(yn=>{if(Array.isArray(yn)){const[go,Ho]=yn,Hr=ut>=go.hours&&qt>=go.minutes,Jn=ut<Ho.hours||ut===Ho.hours&&qt<Ho.minutes;if(go.hours<Ho.hours){if(Hr&&Jn)return!0}else if(Hr||Jn)return!0}else if(yn.hours===ut&&yn.minutes===qt)return!0;return!1});if(-1!==Yt)return eo[Yt]}return function ft(M,q,S){const H=(0,g.cg1)(M),Ge=dt([H[g.wAp.DayPeriodsFormat],H[g.wAp.DayPeriodsStandalone]],q);return dt(Ge,S)}(q,me,H)[ut<12?0:1];case dn.Eras:return function vn(M,q){return dt((0,g.cg1)(M)[g.wAp.Eras],q)}(q,H)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${S}`)}}(me,Ge,M,q,S,H)}}function Qo(M){return function(q,S,H){const me=-1*H,Ge=mt(S,at.MinusSign),ut=me>0?Math.floor(me/60):Math.ceil(me/60);switch(M){case an.Short:return(me>=0?"+":"")+so(ut,2,Ge)+so(Math.abs(me%60),2,Ge);case an.ShortGMT:return"GMT"+(me>=0?"+":"")+so(ut,1,Ge);case an.Long:return"GMT"+(me>=0?"+":"")+so(ut,2,Ge)+":"+so(Math.abs(me%60),2,Ge);case an.Extended:return 0===H?"Z":(me>=0?"+":"")+so(ut,2,Ge)+":"+so(Math.abs(me%60),2,Ge);default:throw new Error(`Unknown zone width "${M}"`)}}}const Pi=0,Gn=4;function No(M){return Jo(M.getFullYear(),M.getMonth(),M.getDate()+(Gn-M.getDay()))}function xn(M,q=!1){return function(S,H){let me;if(q){const Ge=new Date(S.getFullYear(),S.getMonth(),1).getDay()-1,ut=S.getDate();me=1+Math.floor((ut+Ge)/7)}else{const Ge=No(S),ut=function Fo(M){const q=Jo(M,Pi,1).getDay();return Jo(M,0,1+(q<=Gn?Gn:Gn+7)-q)}(Ge.getFullYear()),qt=Ge.getTime()-ut.getTime();me=1+Math.round(qt/6048e5)}return so(me,M,mt(H,at.MinusSign))}}function Oo(M,q=!1){return function(S,H){return so(No(S).getFullYear(),M,mt(H,at.MinusSign),q)}}const Ai={};function bi(M,q){M=M.replace(/:/g,"");const S=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(S)?q:S}function _e(M){return M instanceof Date&&!isNaN(M.valueOf())}function Lo(M,q){q=encodeURIComponent(q);for(const S of M.split(";")){const H=S.indexOf("="),[me,Ge]=-1==H?[S,""]:[S.slice(0,H),S.slice(H+1)];if(me.trim()===q)return decodeURIComponent(Ge)}return null}const vi=/\s+/,wn=[];let On=(()=>{class M{constructor(S,H,me,Ge){this._iterableDiffers=S,this._keyValueDiffers=H,this._ngEl=me,this._renderer=Ge,this.initialClasses=wn,this.stateMap=new Map}set klass(S){this.initialClasses=null!=S?S.trim().split(vi):wn}set ngClass(S){this.rawClass="string"==typeof S?S.trim().split(vi):S}ngDoCheck(){for(const H of this.initialClasses)this._updateState(H,!0);const S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(const H of S)this._updateState(H,!0);else if(null!=S)for(const H of Object.keys(S))this._updateState(H,!!S[H]);this._applyStateDiff()}_updateState(S,H){const me=this.stateMap.get(S);void 0!==me?(me.enabled!==H&&(me.changed=!0,me.enabled=H),me.touched=!0):this.stateMap.set(S,{enabled:H,changed:!0,touched:!0})}_applyStateDiff(){for(const S of this.stateMap){const H=S[0],me=S[1];me.changed?(this._toggleClass(H,me.enabled),me.changed=!1):me.touched||(me.enabled&&this._toggleClass(H,!1),this.stateMap.delete(H)),me.touched=!1}}_toggleClass(S,H){(S=S.trim()).length>0&&S.split(vi).forEach(me=>{H?this._renderer.addClass(this._ngEl.nativeElement,me):this._renderer.removeClass(this._ngEl.nativeElement,me)})}static#e=this.\u0275fac=function(H){return new(H||M)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))};static#t=this.\u0275dir=g.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return M})();class oo{constructor(q,S,H,me){this.$implicit=q,this.ngForOf=S,this.index=H,this.count=me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mo=(()=>{class M{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,H,me){this._viewContainer=S,this._template=H,this._differs=me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const H=this._viewContainer;S.forEachOperation((me,Ge,ut)=>{if(null==me.previousIndex)H.createEmbeddedView(this._template,new oo(me.item,this._ngForOf,-1,-1),null===ut?void 0:ut);else if(null==ut)H.remove(null===Ge?void 0:Ge);else if(null!==Ge){const qt=H.get(Ge);H.move(qt,ut),Xo(qt,me)}});for(let me=0,Ge=H.length;me<Ge;me++){const qt=H.get(me).context;qt.index=me,qt.count=Ge,qt.ngForOf=this._ngForOf}S.forEachIdentityChange(me=>{Xo(H.get(me.currentIndex),me)})}static ngTemplateContextGuard(S,H){return!0}static#e=this.\u0275fac=function(H){return new(H||M)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))};static#t=this.\u0275dir=g.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return M})();function Xo(M,q){M.context.$implicit=q.item}let yi=(()=>{class M{constructor(S,H){this._viewContainer=S,this._context=new Uo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=H}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){Er("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){Er("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,H){return!0}static#e=this.\u0275fac=function(H){return new(H||M)(g.Y36(g.s_b),g.Y36(g.Rgc))};static#t=this.\u0275dir=g.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return M})();class Uo{constructor(){this.$implicit=null,this.ngIf=null}}function Er(M,q){if(q&&!q.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,g.AaK)(q)}'.`)}function _o(M,q){return new g.vHH(2100,!1)}const Wr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let is=(()=>{class M{transform(S){if(null==S)return null;if("string"!=typeof S)throw _o();return S.replace(Wr,H=>H[0].toUpperCase()+H.slice(1).toLowerCase())}static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275pipe=g.Yjl({name:"titlecase",type:M,pure:!0,standalone:!0})}return M})();const ir=new g.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),rr=new g.OlP("DATE_PIPE_DEFAULT_OPTIONS");let mr=(()=>{class M{constructor(S,H,me){this.locale=S,this.defaultTimezone=H,this.defaultOptions=me}transform(S,H,me,Ge){if(null==S||""===S||S!=S)return null;try{return Zo(S,H??this.defaultOptions?.dateFormat??"mediumDate",Ge||this.locale,me??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ut){throw _o()}}static#e=this.\u0275fac=function(H){return new(H||M)(g.Y36(g.soG,16),g.Y36(ir,24),g.Y36(rr,24))};static#t=this.\u0275pipe=g.Yjl({name:"date",type:M,pure:!0,standalone:!0})}return M})(),qr=(()=>{class M{static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275mod=g.oAB({type:M});static#n=this.\u0275inj=g.cJS({})}return M})();const Lr="browser",Yn="server";function Vn(M){return M===Lr}function oi(M){return M===Yn}let fo=(()=>{class M{static#e=this.\u0275prov=(0,g.Yz7)({token:M,providedIn:"root",factory:()=>new sr((0,g.LFG)(K),window)})}return M})();class sr{constructor(q,S){this.document=q,this.window=S,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const S=function Fi(M,q){const S=M.getElementById(q)||M.getElementsByName(q)[0];if(S)return S;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const H=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let me=H.currentNode;for(;me;){const Ge=me.shadowRoot;if(Ge){const ut=Ge.getElementById(q)||Ge.querySelector(`[name="${q}"]`);if(ut)return ut}me=H.nextNode()}}return null}(this.document,q);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(q){this.supportsScrolling()&&(this.window.history.scrollRestoration=q)}scrollToElement(q){const S=q.getBoundingClientRect(),H=S.left+this.window.pageXOffset,me=S.top+this.window.pageYOffset,Ge=this.offset();this.window.scrollTo(H-Ge[0],me-Ge[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ci{}},9862:(Fe,De,O)=>{"use strict";O.d(De,{JF:()=>Ae,LE:()=>de,TP:()=>Vt,WM:()=>Ce,Zn:()=>Ut,aW:()=>Je,eN:()=>je});var g=O(9291),B=O(2096),X=O(7715),J=O(5592),o=O(6328),K=O(2181),ne=O(7398),be=O(4716),ae=O(4664),oe=O(6814);class se{}class U{}class Ce{constructor(ke){this.normalizedNames=new Map,this.lazyUpdate=null,ke?"string"==typeof ke?this.lazyInit=()=>{this.headers=new Map,ke.split("\n").forEach(Te=>{const ht=Te.indexOf(":");if(ht>0){const xt=Te.slice(0,ht),Nt=xt.toLowerCase(),gt=Te.slice(ht+1).trim();this.maybeSetNormalizedName(xt,Nt),this.headers.has(Nt)?this.headers.get(Nt).push(gt):this.headers.set(Nt,[gt])}})}:typeof Headers<"u"&&ke instanceof Headers?(this.headers=new Map,ke.forEach((Te,ht)=>{this.setHeaderEntries(ht,Te)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ke).forEach(([Te,ht])=>{this.setHeaderEntries(Te,ht)})}:this.headers=new Map}has(ke){return this.init(),this.headers.has(ke.toLowerCase())}get(ke){this.init();const Te=this.headers.get(ke.toLowerCase());return Te&&Te.length>0?Te[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ke){return this.init(),this.headers.get(ke.toLowerCase())||null}append(ke,Te){return this.clone({name:ke,value:Te,op:"a"})}set(ke,Te){return this.clone({name:ke,value:Te,op:"s"})}delete(ke,Te){return this.clone({name:ke,value:Te,op:"d"})}maybeSetNormalizedName(ke,Te){this.normalizedNames.has(Te)||this.normalizedNames.set(Te,ke)}init(){this.lazyInit&&(this.lazyInit instanceof Ce?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ke=>this.applyUpdate(ke)),this.lazyUpdate=null))}copyFrom(ke){ke.init(),Array.from(ke.headers.keys()).forEach(Te=>{this.headers.set(Te,ke.headers.get(Te)),this.normalizedNames.set(Te,ke.normalizedNames.get(Te))})}clone(ke){const Te=new Ce;return Te.lazyInit=this.lazyInit&&this.lazyInit instanceof Ce?this.lazyInit:this,Te.lazyUpdate=(this.lazyUpdate||[]).concat([ke]),Te}applyUpdate(ke){const Te=ke.name.toLowerCase();switch(ke.op){case"a":case"s":let ht=ke.value;if("string"==typeof ht&&(ht=[ht]),0===ht.length)return;this.maybeSetNormalizedName(ke.name,Te);const xt=("a"===ke.op?this.headers.get(Te):void 0)||[];xt.push(...ht),this.headers.set(Te,xt);break;case"d":const Nt=ke.value;if(Nt){let gt=this.headers.get(Te);if(!gt)return;gt=gt.filter(Nn=>-1===Nt.indexOf(Nn)),0===gt.length?(this.headers.delete(Te),this.normalizedNames.delete(Te)):this.headers.set(Te,gt)}else this.headers.delete(Te),this.normalizedNames.delete(Te)}}setHeaderEntries(ke,Te){const ht=(Array.isArray(Te)?Te:[Te]).map(Nt=>Nt.toString()),xt=ke.toLowerCase();this.headers.set(xt,ht),this.maybeSetNormalizedName(ke,xt)}forEach(ke){this.init(),Array.from(this.normalizedNames.keys()).forEach(Te=>ke(this.normalizedNames.get(Te),this.headers.get(Te)))}}class We{encodeKey(ke){return Pe(ke)}encodeValue(ke){return Pe(ke)}decodeKey(ke){return decodeURIComponent(ke)}decodeValue(ke){return decodeURIComponent(ke)}}const rt=/%(\d[a-f0-9])/gi,Mt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pe(Be){return encodeURIComponent(Be).replace(rt,(ke,Te)=>Mt[Te]??ke)}function it(Be){return`${Be}`}class de{constructor(ke={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ke.encoder||new We,ke.fromString){if(ke.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ke(Be,ke){const Te=new Map;return Be.length>0&&Be.replace(/^\?/,"").split("&").forEach(xt=>{const Nt=xt.indexOf("="),[gt,Nn]=-1==Nt?[ke.decodeKey(xt),""]:[ke.decodeKey(xt.slice(0,Nt)),ke.decodeValue(xt.slice(Nt+1))],sn=Te.get(gt)||[];sn.push(Nn),Te.set(gt,sn)}),Te}(ke.fromString,this.encoder)}else ke.fromObject?(this.map=new Map,Object.keys(ke.fromObject).forEach(Te=>{const ht=ke.fromObject[Te],xt=Array.isArray(ht)?ht.map(it):[it(ht)];this.map.set(Te,xt)})):this.map=null}has(ke){return this.init(),this.map.has(ke)}get(ke){this.init();const Te=this.map.get(ke);return Te?Te[0]:null}getAll(ke){return this.init(),this.map.get(ke)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ke,Te){return this.clone({param:ke,value:Te,op:"a"})}appendAll(ke){const Te=[];return Object.keys(ke).forEach(ht=>{const xt=ke[ht];Array.isArray(xt)?xt.forEach(Nt=>{Te.push({param:ht,value:Nt,op:"a"})}):Te.push({param:ht,value:xt,op:"a"})}),this.clone(Te)}set(ke,Te){return this.clone({param:ke,value:Te,op:"s"})}delete(ke,Te){return this.clone({param:ke,value:Te,op:"d"})}toString(){return this.init(),this.keys().map(ke=>{const Te=this.encoder.encodeKey(ke);return this.map.get(ke).map(ht=>Te+"="+this.encoder.encodeValue(ht)).join("&")}).filter(ke=>""!==ke).join("&")}clone(ke){const Te=new de({encoder:this.encoder});return Te.cloneFrom=this.cloneFrom||this,Te.updates=(this.updates||[]).concat(ke),Te}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ke=>this.map.set(ke,this.cloneFrom.map.get(ke))),this.updates.forEach(ke=>{switch(ke.op){case"a":case"s":const Te=("a"===ke.op?this.map.get(ke.param):void 0)||[];Te.push(it(ke.value)),this.map.set(ke.param,Te);break;case"d":if(void 0===ke.value){this.map.delete(ke.param);break}{let ht=this.map.get(ke.param)||[];const xt=ht.indexOf(it(ke.value));-1!==xt&&ht.splice(xt,1),ht.length>0?this.map.set(ke.param,ht):this.map.delete(ke.param)}}}),this.cloneFrom=this.updates=null)}}class Le{constructor(){this.map=new Map}set(ke,Te){return this.map.set(ke,Te),this}get(ke){return this.map.has(ke)||this.map.set(ke,ke.defaultValue()),this.map.get(ke)}delete(ke){return this.map.delete(ke),this}has(ke){return this.map.has(ke)}keys(){return this.map.keys()}}function ce(Be){return typeof ArrayBuffer<"u"&&Be instanceof ArrayBuffer}function Re(Be){return typeof Blob<"u"&&Be instanceof Blob}function ze(Be){return typeof FormData<"u"&&Be instanceof FormData}class Je{constructor(ke,Te,ht,xt){let Nt;if(this.url=Te,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ke.toUpperCase(),function pe(Be){switch(Be){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||xt?(this.body=void 0!==ht?ht:null,Nt=xt):Nt=ht,Nt&&(this.reportProgress=!!Nt.reportProgress,this.withCredentials=!!Nt.withCredentials,Nt.responseType&&(this.responseType=Nt.responseType),Nt.headers&&(this.headers=Nt.headers),Nt.context&&(this.context=Nt.context),Nt.params&&(this.params=Nt.params)),this.headers||(this.headers=new Ce),this.context||(this.context=new Le),this.params){const gt=this.params.toString();if(0===gt.length)this.urlWithParams=Te;else{const Nn=Te.indexOf("?");this.urlWithParams=Te+(-1===Nn?"?":Nn<Te.length-1?"&":"")+gt}}else this.params=new de,this.urlWithParams=Te}serializeBody(){return null===this.body?null:ce(this.body)||Re(this.body)||ze(this.body)||function at(Be){return typeof URLSearchParams<"u"&&Be instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof de?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ze(this.body)?null:Re(this.body)?this.body.type||null:ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof de?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ke={}){const Te=ke.method||this.method,ht=ke.url||this.url,xt=ke.responseType||this.responseType,Nt=void 0!==ke.body?ke.body:this.body,gt=void 0!==ke.withCredentials?ke.withCredentials:this.withCredentials,Nn=void 0!==ke.reportProgress?ke.reportProgress:this.reportProgress;let sn=ke.headers||this.headers,po=ke.params||this.params;const si=ke.context??this.context;return void 0!==ke.setHeaders&&(sn=Object.keys(ke.setHeaders).reduce((wo,Wo)=>wo.set(Wo,ke.setHeaders[Wo]),sn)),ke.setParams&&(po=Object.keys(ke.setParams).reduce((wo,Wo)=>wo.set(Wo,ke.setParams[Wo]),po)),new Je(Te,ht,Nt,{params:po,headers:sn,context:si,reportProgress:Nn,responseType:xt,withCredentials:gt})}}var Ne=function(Be){return Be[Be.Sent=0]="Sent",Be[Be.UploadProgress=1]="UploadProgress",Be[Be.ResponseHeader=2]="ResponseHeader",Be[Be.DownloadProgress=3]="DownloadProgress",Be[Be.Response=4]="Response",Be[Be.User=5]="User",Be}(Ne||{});class ft{constructor(ke,Te=200,ht="OK"){this.headers=ke.headers||new Ce,this.status=void 0!==ke.status?ke.status:Te,this.statusText=ke.statusText||ht,this.url=ke.url||null,this.ok=this.status>=200&&this.status<300}}class vt extends ft{constructor(ke={}){super(ke),this.type=Ne.ResponseHeader}clone(ke={}){return new vt({headers:ke.headers||this.headers,status:void 0!==ke.status?ke.status:this.status,statusText:ke.statusText||this.statusText,url:ke.url||this.url||void 0})}}class Ut extends ft{constructor(ke={}){super(ke),this.type=Ne.Response,this.body=void 0!==ke.body?ke.body:null}clone(ke={}){return new Ut({body:void 0!==ke.body?ke.body:this.body,headers:ke.headers||this.headers,status:void 0!==ke.status?ke.status:this.status,statusText:ke.statusText||this.statusText,url:ke.url||this.url||void 0})}}class vn extends ft{constructor(ke){super(ke,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ke.url||"(unknown url)"}`:`Http failure response for ${ke.url||"(unknown url)"}: ${ke.status} ${ke.statusText}`,this.error=ke.error||null}}function qn(Be,ke){return{body:ke,headers:Be.headers,context:Be.context,observe:Be.observe,params:Be.params,reportProgress:Be.reportProgress,responseType:Be.responseType,withCredentials:Be.withCredentials}}let je=(()=>{class Be{constructor(Te){this.handler=Te}request(Te,ht,xt={}){let Nt;if(Te instanceof Je)Nt=Te;else{let sn,po;sn=xt.headers instanceof Ce?xt.headers:new Ce(xt.headers),xt.params&&(po=xt.params instanceof de?xt.params:new de({fromObject:xt.params})),Nt=new Je(Te,ht,void 0!==xt.body?xt.body:null,{headers:sn,context:xt.context,params:po,reportProgress:xt.reportProgress,responseType:xt.responseType||"json",withCredentials:xt.withCredentials})}const gt=(0,B.of)(Nt).pipe((0,o.b)(sn=>this.handler.handle(sn)));if(Te instanceof Je||"events"===xt.observe)return gt;const Nn=gt.pipe((0,K.h)(sn=>sn instanceof Ut));switch(xt.observe||"body"){case"body":switch(Nt.responseType){case"arraybuffer":return Nn.pipe((0,ne.U)(sn=>{if(null!==sn.body&&!(sn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return sn.body}));case"blob":return Nn.pipe((0,ne.U)(sn=>{if(null!==sn.body&&!(sn.body instanceof Blob))throw new Error("Response is not a Blob.");return sn.body}));case"text":return Nn.pipe((0,ne.U)(sn=>{if(null!==sn.body&&"string"!=typeof sn.body)throw new Error("Response is not a string.");return sn.body}));default:return Nn.pipe((0,ne.U)(sn=>sn.body))}case"response":return Nn;default:throw new Error(`Unreachable: unhandled observe type ${xt.observe}}`)}}delete(Te,ht={}){return this.request("DELETE",Te,ht)}get(Te,ht={}){return this.request("GET",Te,ht)}head(Te,ht={}){return this.request("HEAD",Te,ht)}jsonp(Te,ht){return this.request("JSONP",Te,{params:(new de).append(ht,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Te,ht={}){return this.request("OPTIONS",Te,ht)}patch(Te,ht,xt={}){return this.request("PATCH",Te,qn(xt,ht))}post(Te,ht,xt={}){return this.request("POST",Te,qn(xt,ht))}put(Te,ht,xt={}){return this.request("PUT",Te,qn(xt,ht))}static#e=this.\u0275fac=function(ht){return new(ht||Be)(g.LFG(se))};static#t=this.\u0275prov=g.Yz7({token:Be,factory:Be.\u0275fac})}return Be})();function Bn(Be,ke){return ke(Be)}function Qt(Be,ke){return(Te,ht)=>ke.intercept(Te,{handle:xt=>Be(xt,ht)})}const Vt=new g.OlP(""),fe=new g.OlP(""),Ue=new g.OlP("");function pt(){let Be=null;return(ke,Te)=>{null===Be&&(Be=((0,g.f3M)(Vt,{optional:!0})??[]).reduceRight(Qt,Bn));const ht=(0,g.f3M)(g.HDt),xt=ht.add();return Be(ke,Te).pipe((0,be.x)(()=>ht.remove(xt)))}}let dt=(()=>{class Be extends se{constructor(Te,ht){super(),this.backend=Te,this.injector=ht,this.chain=null,this.pendingTasks=(0,g.f3M)(g.HDt)}handle(Te){if(null===this.chain){const xt=Array.from(new Set([...this.injector.get(fe),...this.injector.get(Ue,[])]));this.chain=xt.reduceRight((Nt,gt)=>function Un(Be,ke,Te){return(ht,xt)=>Te.runInContext(()=>ke(ht,Nt=>Be(Nt,xt)))}(Nt,gt,this.injector),Bn)}const ht=this.pendingTasks.add();return this.chain(Te,xt=>this.backend.handle(xt)).pipe((0,be.x)(()=>this.pendingTasks.remove(ht)))}static#e=this.\u0275fac=function(ht){return new(ht||Be)(g.LFG(U),g.LFG(g.lqb))};static#t=this.\u0275prov=g.Yz7({token:Be,factory:Be.\u0275fac})}return Be})();const Jo=/^\)\]\}',?\n/;let mi=(()=>{class Be{constructor(Te){this.xhrFactory=Te}handle(Te){if("JSONP"===Te.method)throw new g.vHH(-2800,!1);const ht=this.xhrFactory;return(ht.\u0275loadImpl?(0,X.D)(ht.\u0275loadImpl()):(0,B.of)(null)).pipe((0,ae.w)(()=>new J.y(Nt=>{const gt=ht.build();if(gt.open(Te.method,Te.urlWithParams),Te.withCredentials&&(gt.withCredentials=!0),Te.headers.forEach((wn,On)=>gt.setRequestHeader(wn,On.join(","))),Te.headers.has("Accept")||gt.setRequestHeader("Accept","application/json, text/plain, */*"),!Te.headers.has("Content-Type")){const wn=Te.detectContentTypeHeader();null!==wn&&gt.setRequestHeader("Content-Type",wn)}if(Te.responseType){const wn=Te.responseType.toLowerCase();gt.responseType="json"!==wn?wn:"text"}const Nn=Te.serializeBody();let sn=null;const po=()=>{if(null!==sn)return sn;const wn=gt.statusText||"OK",On=new Ce(gt.getAllResponseHeaders()),_n=function ni(Be){return"responseURL"in Be&&Be.responseURL?Be.responseURL:/^X-Request-URL:/m.test(Be.getAllResponseHeaders())?Be.getResponseHeader("X-Request-URL"):null}(gt)||Te.url;return sn=new vt({headers:On,status:gt.status,statusText:wn,url:_n}),sn},si=()=>{let{headers:wn,status:On,statusText:_n,url:So}=po(),oo=null;204!==On&&(oo=typeof gt.response>"u"?gt.responseText:gt.response),0===On&&(On=oo?200:0);let mo=On>=200&&On<300;if("json"===Te.responseType&&"string"==typeof oo){const Xo=oo;oo=oo.replace(Jo,"");try{oo=""!==oo?JSON.parse(oo):null}catch(Bo){oo=Xo,mo&&(mo=!1,oo={error:Bo,text:oo})}}mo?(Nt.next(new Ut({body:oo,headers:wn,status:On,statusText:_n,url:So||void 0})),Nt.complete()):Nt.error(new vn({error:oo,headers:wn,status:On,statusText:_n,url:So||void 0}))},wo=wn=>{const{url:On}=po(),_n=new vn({error:wn,status:gt.status||0,statusText:gt.statusText||"Unknown Error",url:On||void 0});Nt.error(_n)};let Wo=!1;const Lo=wn=>{Wo||(Nt.next(po()),Wo=!0);let On={type:Ne.DownloadProgress,loaded:wn.loaded};wn.lengthComputable&&(On.total=wn.total),"text"===Te.responseType&&gt.responseText&&(On.partialText=gt.responseText),Nt.next(On)},vi=wn=>{let On={type:Ne.UploadProgress,loaded:wn.loaded};wn.lengthComputable&&(On.total=wn.total),Nt.next(On)};return gt.addEventListener("load",si),gt.addEventListener("error",wo),gt.addEventListener("timeout",wo),gt.addEventListener("abort",wo),Te.reportProgress&&(gt.addEventListener("progress",Lo),null!==Nn&&gt.upload&&gt.upload.addEventListener("progress",vi)),gt.send(Nn),Nt.next({type:Ne.Sent}),()=>{gt.removeEventListener("error",wo),gt.removeEventListener("abort",wo),gt.removeEventListener("load",si),gt.removeEventListener("timeout",wo),Te.reportProgress&&(gt.removeEventListener("progress",Lo),null!==Nn&&gt.upload&&gt.upload.removeEventListener("progress",vi)),gt.readyState!==gt.DONE&&gt.abort()}})))}static#e=this.\u0275fac=function(ht){return new(ht||Be)(g.LFG(oe.JF))};static#t=this.\u0275prov=g.Yz7({token:Be,factory:Be.\u0275fac})}return Be})();const so=new g.OlP("XSRF_ENABLED"),Wt=new g.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Tn=new g.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $o{}let Qo=(()=>{class Be{constructor(Te,ht,xt){this.doc=Te,this.platform=ht,this.cookieName=xt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Te=this.doc.cookie||"";return Te!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,oe.Mx)(Te,this.cookieName),this.lastCookieString=Te),this.lastToken}static#e=this.\u0275fac=function(ht){return new(ht||Be)(g.LFG(oe.K0),g.LFG(g.Lbi),g.LFG(Wt))};static#t=this.\u0275prov=g.Yz7({token:Be,factory:Be.\u0275fac})}return Be})();function Pi(Be,ke){const Te=Be.url.toLowerCase();if(!(0,g.f3M)(so)||"GET"===Be.method||"HEAD"===Be.method||Te.startsWith("http://")||Te.startsWith("https://"))return ke(Be);const ht=(0,g.f3M)($o).getToken(),xt=(0,g.f3M)(Tn);return null!=ht&&!Be.headers.has(xt)&&(Be=Be.clone({headers:Be.headers.set(xt,ht)})),ke(Be)}var Fo=function(Be){return Be[Be.Interceptors=0]="Interceptors",Be[Be.LegacyInterceptors=1]="LegacyInterceptors",Be[Be.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Be[Be.NoXsrfProtection=3]="NoXsrfProtection",Be[Be.JsonpSupport=4]="JsonpSupport",Be[Be.RequestsMadeViaParent=5]="RequestsMadeViaParent",Be[Be.Fetch=6]="Fetch",Be}(Fo||{});function xn(...Be){const ke=[je,mi,dt,{provide:se,useExisting:dt},{provide:U,useExisting:mi},{provide:fe,useValue:Pi,multi:!0},{provide:so,useValue:!0},{provide:$o,useClass:Qo}];for(const Te of Be)ke.push(...Te.\u0275providers);return(0,g.MR2)(ke)}const Ai=new g.OlP("LEGACY_INTERCEPTOR_FN");function _i(){return function No(Be,ke){return{\u0275kind:Be,\u0275providers:ke}}(Fo.LegacyInterceptors,[{provide:Ai,useFactory:pt},{provide:fe,useExisting:Ai,multi:!0}])}let Ae=(()=>{class Be{static#e=this.\u0275fac=function(ht){return new(ht||Be)};static#t=this.\u0275mod=g.oAB({type:Be});static#n=this.\u0275inj=g.cJS({providers:[xn(_i())]})}return Be})()},9291:(Fe,De,O)=>{"use strict";O.d(De,{QbO:()=>om,tb:()=>N_,AFp:()=>Ec,ip1:()=>Uy,hGG:()=>Sk,z2F:()=>Vd,Ojb:()=>im,sBO:()=>mk,Sil:()=>Nw,EJc:()=>Iw,Xts:()=>el,SBq:()=>sl,lqb:()=>js,qLn:()=>wa,vpe:()=>ps,XFs:()=>Wt,OlP:()=>xn,zs3:()=>ws,ZZ4:()=>H_,aQg:()=>z_,soG:()=>Pp,YKP:()=>Bv,h0i:()=>_l,PXZ:()=>ck,R0b:()=>wi,FiY:()=>Sl,Lbi:()=>Tu,g9A:()=>Hs,Qsj:()=>yd,FYo:()=>Zf,JOm:()=>Wc,q3G:()=>Ya,tp0:()=>$c,Rgc:()=>ch,dDg:()=>ik,eoX:()=>Wy,GfV:()=>Fu,s_b:()=>Op,ifc:()=>wn,VuI:()=>zk,MMx:()=>jv,Lck:()=>xM,eFA:()=>Jy,Gpc:()=>pe,f3M:()=>gt,$WT:()=>Ii,MR2:()=>Cu,_c5:()=>Ak,qFp:()=>$k,rg0:()=>Ho,c2e:()=>jy,zSh:()=>ad,HDt:()=>Vy,wAp:()=>Ld,vHH:()=>Ne,lri:()=>$y,rWj:()=>Gy,JZr:()=>Je,EiD:()=>wf,mCW:()=>ed,qzn:()=>wc,JVY:()=>jg,pB0:()=>gf,eBb:()=>Hg,L6k:()=>Vg,LAX:()=>Xl,cg1:()=>l_,kL8:()=>lv,dqk:()=>Gn,Z0I:()=>un,eJc:()=>E_,QGY:()=>Jm,F4k:()=>f0,RDi:()=>Rg,AaK:()=>de,z3N:()=>Cs,qOj:()=>jm,Xq5:()=>$b,TTD:()=>Yo,_Bn:()=>Lv,jDz:()=>Vv,xp6:()=>Fm,uIk:()=>Hm,Tol:()=>N0,ekj:()=>r_,Suo:()=>_y,Xpm:()=>ir,lG2:()=>rs,Yz7:()=>kt,cJS:()=>Gt,oAB:()=>ci,Yjl:()=>Di,Y36:()=>dl,_UZ:()=>Km,BQk:()=>bp,ynx:()=>_p,qZA:()=>mp,TgZ:()=>gp,EpF:()=>h0,n5z:()=>Ba,LFG:()=>xt,$8M:()=>Tl,$Z:()=>Lm,NdJ:()=>Qm,CRH:()=>by,oxw:()=>b0,ALo:()=>ny,lcZ:()=>oy,xi3:()=>iy,Hsn:()=>y0,F$t:()=>v0,Q6J:()=>qm,s9C:()=>Xm,DdM:()=>qv,WLB:()=>Yv,l5B:()=>Kv,iGM:()=>my,MAs:()=>c0,KtG:()=>zi,evT:()=>ip,CHM:()=>Xr,oJD:()=>Ef,LSH:()=>Qc,P3R:()=>Af,Udp:()=>i_,YNc:()=>r0,W1O:()=>Cy,_uU:()=>z0,Oqu:()=>a_,hij:()=>xp,AsE:()=>c_});var g=O(8645),B=O(7394),X=O(5592),J=O(7537),o=O(4829),K=O(6232),ne=O(4564),be=O(7715),oe=O(5619),se=O(2096),U=O(3020),Ce=O(4664),Oe=O(2737),We=O(9360),Ke=O(8251);function Mt(t,n){return t===n}function Pe(t){for(let n in t)if(t[n]===Pe)return n;throw Error("Could not find renamed property on target object.")}function it(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function de(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(de).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function ue(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Le=Pe({__forward_ref__:Pe});function pe(t){return t.__forward_ref__=pe,t.toString=function(){return de(this())},t}function ce(t){return Re(t)?t():t}function Re(t){return"function"==typeof t&&t.hasOwnProperty(Le)&&t.__forward_ref__===pe}function ze(t){return t&&!!t.\u0275providers}const Je="https://g.co/ng/security#xss";class Ne extends Error{constructor(n,r){super(function ft(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,r)),this.code=n}}function vt(t){return"string"==typeof t?t:null==t?"":String(t)}function Se(t,n){throw new Ne(-201,!1)}function dt(t,n){null==t&&function $e(t,n,r,l){throw new Error(`ASSERTION ERROR: ${t}`+(null==l?"":` [Expected=> ${r} ${l} ${n} <=Actual]`))}(n,t,null,"!=")}function kt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function an(t){return dn(t,ni)||dn(t,so)}function un(t){return null!==an(t)}function dn(t,n){return t.hasOwnProperty(n)?t[n]:null}function Jo(t){return t&&(t.hasOwnProperty(mi)||t.hasOwnProperty(jn))?t[mi]:null}const ni=Pe({\u0275prov:Pe}),mi=Pe({\u0275inj:Pe}),so=Pe({ngInjectableDef:Pe}),jn=Pe({ngInjectorDef:Pe});var Wt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Wt||{});let Fr;function $o(t){const n=Fr;return Fr=t,n}function Qo(t,n,r){const l=an(t);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:r&Wt.Optional?null:void 0!==n?n:void Se(de(t))}const Gn=globalThis;class xn{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=kt({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const It={},Xt="__NG_DI_FLAG__",Sn="ngTempTokenPath",ao=/\n/gm,Ei="__source";let Be;function Te(t){const n=Be;return Be=t,n}function ht(t,n=Wt.Default){if(void 0===Be)throw new Ne(-203,!1);return null===Be?Qo(t,void 0,n):Be.get(t,n&Wt.Optional?null:void 0,n)}function xt(t,n=Wt.Default){return(function Tn(){return Fr}()||ht)(ce(t),n)}function gt(t,n=Wt.Default){return xt(t,Nn(n))}function Nn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function sn(t){const n=[];for(let r=0;r<t.length;r++){const l=ce(t[r]);if(Array.isArray(l)){if(0===l.length)throw new Ne(900,!1);let u,f=Wt.Default;for(let m=0;m<l.length;m++){const C=l[m],E=si(C);"number"==typeof E?-1===E?u=C.token:f|=E:u=C}n.push(xt(u,f))}else n.push(xt(l))}return n}function po(t,n){return t[Xt]=n,t.prototype[Xt]=n,t}function si(t){return t[Xt]}function Lo(t){return{toString:t}.toString()}var vi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vi||{}),wn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(wn||{});const On={},_n=[],So=Pe({\u0275cmp:Pe}),oo=Pe({\u0275dir:Pe}),mo=Pe({\u0275pipe:Pe}),Xo=Pe({\u0275mod:Pe}),Bo=Pe({\u0275fac:Pe}),yi=Pe({__NG_ELEMENT_ID__:Pe}),Uo=Pe({__NG_ENV_ID__:Pe});function Er(t,n,r){let l=t.length;for(;;){const u=t.indexOf(n,r);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const f=n.length;if(u+f===l||t.charCodeAt(u+f)<=32)return u}r=u+1}}function ei(t,n,r){let l=0;for(;l<r.length;){const u=r[l];if("number"==typeof u){if(0!==u)break;l++;const f=r[l++],m=r[l++],C=r[l++];t.setAttribute(n,m,C,f)}else{const f=u,m=r[++l];Dr(f)?t.setProperty(n,f,m):t.setAttribute(n,f,m),l++}}return l}function xi(t){return 3===t||4===t||6===t}function Dr(t){return 64===t.charCodeAt(0)}function Gi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let l=0;l<n.length;l++){const u=n[l];"number"==typeof u?r=u:0===r||Zs(t,r,u,null,-1===r||2===r?n[++l]:null)}}return t}function Zs(t,n,r,l,u){let f=0,m=t.length;if(-1===n)m=-1;else for(;f<t.length;){const C=t[f++];if("number"==typeof C){if(C===n){m=-1;break}if(C>n){m=f-1;break}}}for(;f<t.length;){const C=t[f];if("number"==typeof C)break;if(C===r){if(null===l)return void(null!==u&&(t[f+1]=u));if(l===t[f+1])return void(t[f+2]=u)}f++,null!==l&&f++,null!==u&&f++}-1!==m&&(t.splice(m,0,n),f=m+1),t.splice(f++,0,r),null!==l&&t.splice(f++,0,l),null!==u&&t.splice(f++,0,u)}const bs="ng-template";function $s(t,n,r){let l=0,u=!0;for(;l<t.length;){let f=t[l++];if("string"==typeof f&&u){const m=t[l++];if(r&&"class"===f&&-1!==Er(m.toLowerCase(),n,0))return!0}else{if(1===f){for(;l<t.length&&"string"==typeof(f=t[l++]);)if(f.toLowerCase()===n)return!0;return!1}"number"==typeof f&&(u=!1)}}return!1}function ai(t){return 4===t.type&&t.value!==bs}function ks(t,n,r){return n===(4!==t.type||r?t.value:bs)}function Gs(t,n,r){let l=4;const u=t.attrs||[],f=function Ds(t){for(let n=0;n<t.length;n++)if(xi(t[n]))return n;return t.length}(u);let m=!1;for(let C=0;C<n.length;C++){const E=n[C];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!ks(t,E,r)||""===E&&1===n.length){if(_o(l))return!1;m=!0}}else{const N=8&l?E:n[++C];if(8&l&&null!==t.attrs){if(!$s(t.attrs,N,r)){if(_o(l))return!1;m=!0}continue}const he=Es(8&l?"class":E,u,ai(t),r);if(-1===he){if(_o(l))return!1;m=!0;continue}if(""!==N){let Ie;Ie=he>f?"":u[he+1].toLowerCase();const Ve=8&l?Ie:null;if(Ve&&-1!==Er(Ve,N,0)||2&l&&N!==Ie){if(_o(l))return!1;m=!0}}}}else{if(!m&&!_o(l)&&!_o(E))return!1;if(m&&_o(E))continue;m=!1,l=E|1&l}}return _o(l)||m}function _o(t){return 0==(1&t)}function Es(t,n,r,l){if(null===n)return-1;let u=0;if(l||!r){let f=!1;for(;u<n.length;){const m=n[u];if(m===t)return u;if(3===m||6===m)f=!0;else{if(1===m||2===m){let C=n[++u];for(;"string"==typeof C;)C=n[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=f?1:2}return-1}return function pr(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const l=t[r];if("number"==typeof l)return-1;if(l===n)return r;r++}return-1}(n,t)}function Nr(t,n,r=!1){for(let l=0;l<n.length;l++)if(Gs(t,n[l],r))return!0;return!1}function gr(t,n){e:for(let r=0;r<n.length;r++){const l=n[r];if(t.length===l.length){for(let u=0;u<t.length;u++)if(t[u]!==l[u])continue e;return!0}}return!1}function Wr(t,n){return t?":not("+n.trim()+")":n}function is(t){let n=t[0],r=1,l=2,u="",f=!1;for(;r<t.length;){let m=t[r];if("string"==typeof m)if(2&l){const C=t[++r];u+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?u+="."+m:4&l&&(u+=" "+m);else""!==u&&!_o(m)&&(n+=Wr(f,u),u=""),l=m,f=f||!_o(l);r++}return""!==u&&(n+=Wr(f,u)),n}function ir(t){return Lo(()=>{const n=Wi(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||wn.Emulated,styles:t.styles||_n,_:null,schemas:t.schemas||null,tView:null,id:""};Ri(r);const l=t.dependencies;return r.directiveDefs=_r(l,!1),r.pipeDefs=_r(l,!0),r.id=function Lr(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of r)n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(r),r})}function mr(t){return kn(t)||jo(t)}function uo(t){return null!==t}function ci(t){return Lo(()=>({type:t.type,bootstrap:t.bootstrap||_n,declarations:t.declarations||_n,imports:t.imports||_n,exports:t.exports||_n,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Or(t,n){if(null==t)return On;const r={};for(const l in t)if(t.hasOwnProperty(l)){let u=t[l],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),r[u]=l,n&&(n[u]=f)}return r}function rs(t){return Lo(()=>{const n=Wi(t);return Ri(n),n})}function Di(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function kn(t){return t[So]||null}function jo(t){return t[oo]||null}function ro(t){return t[mo]||null}function Ii(t){const n=kn(t)||jo(t)||ro(t);return null!==n&&n.standalone}function ko(t,n){const r=t[Xo]||null;if(!r&&!0===n)throw new Error(`Type ${de(t)} does not have '\u0275mod' property.`);return r}function Wi(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||On,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||_n,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Or(t.inputs,n),outputs:Or(t.outputs)}}function Ri(t){t.features?.forEach(n=>n(t))}function _r(t,n){if(!t)return null;const r=n?ro:mr;return()=>("function"==typeof t?t():t).map(l=>r(l)).filter(uo)}const Yn=0,Ft=1,hn=2,Vn=3,oi=4,qi=5,ho=6,Yi=7,fo=8,sr=9,Fi=10,fn=11,Ci=12,ss=13,Ni=14,bo=15,br=16,vr=17,Li=18,Bi=19,as=20,Ki=21,vo=22,Yr=23,Ji=24,Cn=25,Qi=1,Os=2,To=7,yr=9,yo=11;function fi(t){return Array.isArray(t)&&"object"==typeof t[Qi]}function Hn(t){return Array.isArray(t)&&!0===t[Qi]}function L(t){return 0!=(4&t.flags)}function j(t){return t.componentOffset>-1}function P(t){return 1==(1&t.flags)}function Q(t){return!!t.template}function ve(t){return 0!=(512&t[hn])}function ji(t,n){return t.hasOwnProperty(Bo)?t[Bo]:null}let Vo=null,Kr=!1;function ii(t){const n=Vo;return Vo=t,n}const la={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ss(t){if(!Kn(t)||t.dirty){if(!t.producerMustRecompute(t)&&!bn(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function In(t){t.dirty=!0,function Mn(t){if(void 0===t.liveConsumerNode)return;const n=Kr;Kr=!0;try{for(const r of t.liveConsumerNode)r.dirty||In(r)}finally{Kr=n}}(t),t.consumerMarkedDirty?.(t)}function xo(t){return t&&(t.nextProducerIndex=0),ii(t)}function li(t,n){if(ii(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Kn(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)co(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bn(t){cr(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],l=t.producerLastReadVersion[n];if(l!==r.version||(Ss(r),l!==r.version))return!0}return!1}function Ks(t){if(cr(t),Kn(t))for(let n=0;n<t.producerNode.length;n++)co(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function co(t,n){if(function Jr(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),cr(t),1===t.liveConsumerNode.length)for(let l=0;l<t.producerNode.length;l++)co(t.producerNode[l],t.producerIndexOfThis[l]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const l=t.liveConsumerIndexOfThis[n],u=t.liveConsumerNode[n];cr(u),u.producerIndexOfThis[l]=n}}function Kn(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function cr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let S=null;function Ho(t){const n=ii(null);try{return t()}finally{ii(n)}}const Jn=()=>{},Vi=(()=>({...la,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Jn}))();class qo{constructor(n,r,l){this.previousValue=n,this.currentValue=r,this.firstChange=l}isFirstChange(){return this.firstChange}}function Yo(){return R}function R(t){return t.type.prototype.ngOnChanges&&(t.setInput=x),b}function b(){const t=V(this),n=t?.current;if(n){const r=t.previous;if(r===On)t.previous=n;else for(let l in n)r[l]=n[l];t.current=null,this.ngOnChanges(n)}}function x(t,n,r,l){const u=this.declaredInputs[r],f=V(t)||function te(t,n){return t[T]=n}(t,{previous:On,current:null}),m=f.current||(f.current={}),C=f.previous,E=C[u];m[u]=new qo(E&&E.currentValue,n,C===On),t[l]=n}Yo.ngInherit=!0;const T="__ngSimpleChanges__";function V(t){return t[T]||null}const He=function(t,n,r){};function Et(t){for(;Array.isArray(t);)t=t[Yn];return t}function tn(t,n){return Et(n[t])}function Ht(t,n){return Et(n[t.index])}function Co(t,n){return t.data[n]}function Qn(t,n){return t[n]}function Dn(t,n){const r=n[t];return fi(r)?r:r[Yn]}function ui(t,n){return null==n?null:t[n]}function pi(t){t[vr]=0}function Cr(t){1024&t[hn]||(t[hn]|=1024,zr(t,1))}function Hi(t){1024&t[hn]&&(t[hn]&=-1025,zr(t,-1))}function zr(t,n){let r=t[Vn];if(null===r)return;r[qi]+=n;let l=r;for(r=r[Vn];null!==r&&(1===n&&1===l[qi]||-1===n&&0===l[qi]);)r[qi]+=n,l=r,r=r[Vn]}const rn={lFrame:uh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zn(){return rn.bindingsEnabled}function Do(){return null!==rn.skipHydrationRootTNode}function _t(){return rn.lFrame.lView}function gn(){return rn.lFrame.tView}function Xr(t){return rn.lFrame.contextLView=t,t[fo]}function zi(t){return rn.lFrame.contextLView=null,t}function Ko(){let t=da();for(;null!==t&&64===t.type;)t=t.parent;return t}function da(){return rn.lFrame.currentTNode}function G(t,n){const r=rn.lFrame;r.currentTNode=t,r.isParent=n}function $(){return rn.lFrame.isParent}function re(){rn.lFrame.isParent=!1}function y(){const t=rn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function W(){return rn.lFrame.bindingIndex++}function ge(t){const n=rn.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function Rt(t,n){const r=rn.lFrame;r.bindingIndex=r.bindingRootIndex=t,lo(n)}function lo(t){rn.lFrame.currentDirectiveIndex=t}function hi(){return rn.lFrame.currentQueryIndex}function hs(t){rn.lFrame.currentQueryIndex=t}function Fs(t){const n=t[Ft];return 2===n.type?n.declTNode:1===n.type?t[ho]:null}function oc(t,n,r){if(r&Wt.SkipSelf){let u=n,f=t;for(;!(u=u.parent,null!==u||r&Wt.Host||(u=Fs(f),null===u||(f=f[Ni],10&u.type))););if(null===u)return!1;n=u,t=f}const l=rn.lFrame=vl();return l.currentTNode=n,l.lView=t,!0}function Ns(t){const n=vl(),r=t[Ft];rn.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function vl(){const t=rn.lFrame,n=null===t?null:t.child;return null===n?uh(t):n}function uh(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function hh(){const t=rn.lFrame;return rn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ua=hh;function Ia(){const t=hh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ir(){return rn.lFrame.selectedIndex}function Ra(t){rn.lFrame.selectedIndex=t}function ti(){const t=rn.lFrame;return Co(t.tView,t.selectedIndex)}let ph=!0;function xs(){return ph}function Ls(t){ph=t}function Nc(t,n){for(let r=n.directiveStart,l=n.directiveEnd;r<l;r++){const f=t.data[r].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:N,ngOnDestroy:Y}=f;m&&(t.contentHooks??=[]).push(-r,m),C&&((t.contentHooks??=[]).push(r,C),(t.contentCheckHooks??=[]).push(r,C)),E&&(t.viewHooks??=[]).push(-r,E),N&&((t.viewHooks??=[]).push(r,N),(t.viewCheckHooks??=[]).push(r,N)),null!=Y&&(t.destroyHooks??=[]).push(r,Y)}}function yl(t,n,r){gh(t,n,3,r)}function sc(t,n,r,l){(3&t[hn])===r&&gh(t,n,r,l)}function xl(t,n){let r=t[hn];(3&r)===n&&(r&=8191,r+=1,t[hn]=r)}function gh(t,n,r,l){const f=l??-1,m=n.length-1;let C=0;for(let E=void 0!==l?65535&t[vr]:0;E<m;E++)if("number"==typeof n[E+1]){if(C=n[E],null!=l&&C>=l)break}else n[E]<0&&(t[vr]+=65536),(C<f||-1==f)&&(Bp(t,r,n,E),t[vr]=(4294901760&t[vr])+E+2),E++}function mh(t,n){He(4,t,n);const r=ii(null);try{n.call(t)}finally{ii(r),He(5,t,n)}}function Bp(t,n,r,l){const u=r[l]<0,f=r[l+1],C=t[u?-r[l]:r[l]];u?t[hn]>>13<t[vr]>>16&&(3&t[hn])===n&&(t[hn]+=8192,mh(C,f)):mh(C,f)}const Na=-1;class Lc{constructor(n,r,l){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=l}}function Ml(t){return t!==Na}function Bc(t){return 32767&t}function cc(t,n){let r=function ac(t){return t>>16}(t),l=n;for(;r>0;)l=l[Ni],r--;return l}let zd=!0;function wl(t){const n=zd;return zd=t,n}const vh=255,Uc=5;let Hp=0;const Bs={};function lc(t,n){const r=jc(t,n);if(-1!==r)return r;const l=n[Ft];l.firstCreatePass&&(t.injectorIndex=n.length,dc(l.data,t),dc(n,null),dc(l.blueprint,null));const u=kl(t,n),f=t.injectorIndex;if(Ml(u)){const m=Bc(u),C=cc(u,n),E=C[Ft].data;for(let N=0;N<8;N++)n[f+N]=C[m+N]|E[m+N]}return n[f+8]=u,f}function dc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function jc(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function kl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,l=null,u=n;for(;null!==u;){if(l=Wd(u),null===l)return Na;if(r++,u=u[Ni],-1!==l.injectorIndex)return l.injectorIndex|r<<16}return Na}function $d(t,n,r){!function Zd(t,n,r){let l;"string"==typeof r?l=r.charCodeAt(0)||0:r.hasOwnProperty(yi)&&(l=r[yi]),null==l&&(l=r[yi]=Hp++);const u=l&vh;n.data[t+(u>>Uc)]|=1<<u}(t,n,r)}function yh(t,n,r){if(r&Wt.Optional||void 0!==t)return t;Se()}function xh(t,n,r,l){if(r&Wt.Optional&&void 0===l&&(l=null),!(r&(Wt.Self|Wt.Host))){const u=t[sr],f=$o(void 0);try{return u?u.get(n,l,r&Wt.Optional):Qo(n,l,r&Wt.Optional)}finally{$o(f)}}return yh(l,0,r)}function ha(t,n,r,l=Wt.Default,u){if(null!==t){if(2048&n[hn]&&!(l&Wt.Self)){const m=function Mh(t,n,r,l,u){let f=t,m=n;for(;null!==f&&null!==m&&2048&m[hn]&&!(512&m[hn]);){const C=Ch(f,m,r,l|Wt.Self,Bs);if(C!==Bs)return C;let E=f.parent;if(!E){const N=m[as];if(N){const Y=N.get(r,Bs,l);if(Y!==Bs)return Y}E=Wd(m),m=m[Ni]}f=E}return u}(t,n,r,l,Bs);if(m!==Bs)return m}const f=Ch(t,n,r,l,Bs);if(f!==Bs)return f}return xh(n,r,l,u)}function Ch(t,n,r,l,u){const f=function zp(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(yi)?t[yi]:void 0;return"number"==typeof n?n>=0?n&vh:$p:n}(r);if("function"==typeof f){if(!oc(n,t,l))return l&Wt.Host?yh(u,0,l):xh(n,r,l,u);try{let m;if(m=f(l),null!=m||l&Wt.Optional)return m;Se()}finally{ua()}}else if("number"==typeof f){let m=null,C=jc(t,n),E=Na,N=l&Wt.Host?n[bo][ho]:null;for((-1===C||l&Wt.SkipSelf)&&(E=-1===C?kl(t,n):n[C+8],E!==Na&&pa(l,!1)?(m=n[Ft],C=Bc(E),n=cc(E,n)):C=-1);-1!==C;){const Y=n[Ft];if(Gd(f,C,Y.data)){const he=El(C,n,r,m,l,N);if(he!==Bs)return he}E=n[C+8],E!==Na&&pa(l,n[Ft].data[C+8]===N)&&Gd(f,C,n)?(m=Y,C=Bc(E),n=cc(E,n)):C=-1}}return u}function El(t,n,r,l,u,f){const m=n[Ft],C=m.data[t+8],Y=Dl(C,m,r,null==l?j(C)&&zd:l!=m&&0!=(3&C.type),u&Wt.Host&&f===C);return null!==Y?fa(n,m,Y,C):Bs}function Dl(t,n,r,l,u){const f=t.providerIndexes,m=n.data,C=1048575&f,E=t.directiveStart,Y=f>>20,Ie=u?C+Y:t.directiveEnd;for(let Ve=l?C:C+Y;Ve<Ie;Ve++){const lt=m[Ve];if(Ve<E&&r===lt||Ve>=E&&lt.type===r)return Ve}if(u){const Ve=m[E];if(Ve&&Q(Ve)&&Ve.type===r)return E}return null}function fa(t,n,r,l){let u=t[r];const f=n.data;if(function Up(t){return t instanceof Lc}(u)){const m=u;m.resolving&&function vn(t,n){const r=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${t}${r}`)}(function Ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():vt(t)}(f[r]));const C=wl(m.canSeeViewProviders);m.resolving=!0;const N=m.injectImpl?$o(m.injectImpl):null;oc(t,l,Wt.Default);try{u=t[r]=m.factory(void 0,f,t,l),n.firstCreatePass&&r>=l.directiveStart&&function rc(t,n,r){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:f}=n.type.prototype;if(l){const m=R(n);(r.preOrderHooks??=[]).push(t,m),(r.preOrderCheckHooks??=[]).push(t,m)}u&&(r.preOrderHooks??=[]).push(0-t,u),f&&((r.preOrderHooks??=[]).push(t,f),(r.preOrderCheckHooks??=[]).push(t,f))}(r,f[r],n)}finally{null!==N&&$o(N),wl(C),m.resolving=!1,ua()}}return u}function Gd(t,n,r){return!!(r[n+(t>>Uc)]&1<<t)}function pa(t,n){return!(t&Wt.Self||t&Wt.Host&&n)}class Rr{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,l){return ha(this._tNode,this._lView,n,Nn(l),r)}}function $p(){return new Rr(Ko(),_t())}function Ba(t){return Lo(()=>{const n=t.prototype.constructor,r=n[Bo]||Ol(n),l=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==l;){const f=u[Bo]||Ol(u);if(f&&f!==r)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function Ol(t){return Re(t)?()=>{const n=Ol(ce(t));return n&&n()}:ji(t)}function Wd(t){const n=t[Ft],r=n.type;return 2===r?n.declTNode:1===r?t[ho]:null}function Tl(t){return function La(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const l=r.length;let u=0;for(;u<l;){const f=r[u];if(xi(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<l&&"string"==typeof r[u];)u++;else{if(f===n)return r[u+1];u+=2}}}return null}(Ko(),t)}const Ua="__parameters__";function hc(t,n,r){return Lo(()=>{const l=function qd(t){return function(...r){if(t){const l=t(...r);for(const u in l)this[u]=l[u]}}}(n);function u(...f){if(this instanceof u)return l.apply(this,f),this;const m=new u(...f);return C.annotation=m,C;function C(E,N,Y){const he=E.hasOwnProperty(Ua)?E[Ua]:Object.defineProperty(E,Ua,{value:[]})[Ua];for(;he.length<=Y;)he.push(null);return(he[Y]=he[Y]||[]).push(m),E}}return r&&(u.prototype=Object.create(r.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function fc(t,n){t.forEach(r=>Array.isArray(r)?fc(r,n):n(r))}function Dh(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function zc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function pc(t,n){const r=[];for(let l=0;l<t;l++)r.push(n);return r}function ts(t,n,r){let l=Va(t,n);return l>=0?t[1|l]=r:(l=~l,function Xp(t,n,r,l){let u=t.length;if(u==n)t.push(r,l);else if(1===u)t.push(l,t[0]),t[0]=r;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=r,t[n+1]=l}}(t,l,n,r)),l}function Pl(t,n){const r=Va(t,n);if(r>=0)return t[1|r]}function Va(t,n){return function Ph(t,n,r){let l=0,u=t.length>>r;for(;u!==l;){const f=l+(u-l>>1),m=t[f<<r];if(n===m)return f<<r;m>n?u=f:l=f+1}return~(u<<r)}(t,n,1)}const Sl=po(hc("Optional"),8),$c=po(hc("SkipSelf"),4);function ma(t){return 128==(128&t.flags)}var Wc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wc||{});const kr=/^>|^->|<!--|-->|--!>|<!-$/g,zh=/(<|>)/g,dg="\u200b$1\u200b";const ru=new Map;let Zh=0;const $a="__ngContext__";function dr(t,n){fi(n)?(t[$a]=n[Bi],function $h(t){ru.set(t[Bi],t)}(n)):t[$a]=n}let au;function cu(t,n){return au(t,n)}function _a(t){const n=t[Vn];return Hn(n)?n[Vn]:n}function lu(t){return uu(t[Ci])}function du(t){return uu(t[oi])}function uu(t){for(;null!==t&&!Hn(t);)t=t[oi];return t}function _c(t,n,r,l,u){if(null!=l){let f,m=!1;Hn(l)?f=l:fi(l)&&(m=!0,l=l[Yn]);const C=Et(l);0===t&&null!==r?null==u?ql(n,r,C):Wa(n,r,C,u||null,!0):1===t&&null!==r?Wa(n,r,C,u||null,!0):2===t?function ba(t,n,r){const l=Yl(t,n);l&&function Og(t,n,r,l){t.removeChild(n,r,l)}(t,l,n,r)}(n,C,m):3===t&&n.destroyNode(C),null!=f&&function Ag(t,n,r,l,u){const f=r[To];f!==Et(r)&&_c(n,t,l,f,u);for(let C=yo;C<r.length;C++){const E=r[C];Yc(E[Ft],E,t,n,l,f)}}(n,t,f,r,u)}}function Zl(t,n){return t.createComment(function qc(t){return t.replace(kr,n=>n.replace(zh,dg))}(n))}function $l(t,n,r){return t.createElement(n,r)}function Jh(t,n){const r=t[yr],l=r.indexOf(n);Hi(n),r.splice(l,1)}function Wl(t,n){if(t.length<=yo)return;const r=yo+n,l=t[r];if(l){const u=l[br];null!==u&&u!==t&&Jh(u,l),n>0&&(t[r-1][oi]=l[oi]);const f=zc(t,yo+n);!function Cg(t,n){Yc(t,n,n[fn],2,null,null),n[Yn]=null,n[ho]=null}(l[Ft],l);const m=f[Li];null!==m&&m.detachView(f[Ft]),l[Vn]=null,l[oi]=null,l[hn]&=-129}return l}function hu(t,n){if(!(256&n[hn])){const r=n[fn];n[Yr]&&Ks(n[Yr]),n[Ji]&&Ks(n[Ji]),r.destroyNode&&Yc(t,n,r,3,null,null),function Ga(t){let n=t[Ci];if(!n)return fs(t[Ft],t);for(;n;){let r=null;if(fi(n))r=n[Ci];else{const l=n[yo];l&&(r=l)}if(!r){for(;n&&!n[oi]&&n!==t;)fi(n)&&fs(n[Ft],n),n=n[Vn];null===n&&(n=t),fi(n)&&fs(n[Ft],n),r=n&&n[oi]}n=r}}(n)}}function fs(t,n){if(!(256&n[hn])){n[hn]&=-129,n[hn]|=256,function Dg(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let l=0;l<r.length;l+=2){const u=n[r[l]];if(!(u instanceof Lc)){const f=r[l+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const C=u[f[m]],E=f[m+1];He(4,C,E);try{E.call(C)}finally{He(5,C,E)}}else{He(4,u,f);try{f.call(u)}finally{He(5,u,f)}}}}}(t,n),function Eg(t,n){const r=t.cleanup,l=n[Yi];if(null!==r)for(let f=0;f<r.length-1;f+=2)if("string"==typeof r[f]){const m=r[f+3];m>=0?l[m]():l[-m].unsubscribe(),f+=2}else r[f].call(l[r[f+1]]);null!==l&&(n[Yi]=null);const u=n[Ki];if(null!==u){n[Ki]=null;for(let f=0;f<u.length;f++)(0,u[f])()}}(t,n),1===n[Ft].type&&n[fn].destroy();const r=n[br];if(null!==r&&Hn(n[Vn])){r!==n[Vn]&&Jh(r,n);const l=n[Li];null!==l&&l.detachView(t)}!function hg(t){ru.delete(t[Bi])}(n)}}function fu(t,n,r){return function Qh(t,n,r){let l=n;for(;null!==l&&40&l.type;)l=(n=l).parent;if(null===l)return r[Yn];{const{componentOffset:u}=l;if(u>-1){const{encapsulation:f}=t.data[l.directiveStart+u];if(f===wn.None||f===wn.Emulated)return null}return Ht(l,r)}}(t,n.parent,r)}function Wa(t,n,r,l,u){t.insertBefore(n,r,l,u)}function ql(t,n,r){t.appendChild(n,r)}function Xh(t,n,r,l,u){null!==l?Wa(t,n,r,l,u):ql(t,n,r)}function Yl(t,n){return t.parentNode(n)}function gu(t,n,r){return tf(t,n,r)}let Kl,Kc,vu,ea,tf=function ef(t,n,r){return 40&t.type?Ht(t,r):null};function Jl(t,n,r,l){const u=fu(t,l,n),f=n[fn],C=gu(l.parent||n[ho],l,n);if(null!=u)if(Array.isArray(r))for(let E=0;E<r.length;E++)Xh(f,u,r[E],C,!1);else Xh(f,u,r,C,!1);void 0!==Kl&&Kl(f,l,n,r,u)}function vc(t,n){if(null!==n){const r=n.type;if(3&r)return Ht(n,t);if(4&r)return yc(-1,t[n.index]);if(8&r){const l=n.child;if(null!==l)return vc(t,l);{const u=t[n.index];return Hn(u)?yc(-1,u):Et(u)}}if(32&r)return cu(n,t)()||Et(t[n.index]);{const l=_u(t,n);return null!==l?Array.isArray(l)?l[0]:vc(_a(t[bo]),l):vc(t,n.next)}}return null}function _u(t,n){return null!==n?t[bo][ho].projection[n.projection]:null}function yc(t,n){const r=yo+t+1;if(r<n.length){const l=n[r],u=l[Ft].firstChild;if(null!==u)return vc(l,u)}return n[To]}function Ql(t,n,r,l,u,f,m){for(;null!=r;){const C=l[r.index],E=r.type;if(m&&0===n&&(C&&dr(Et(C),l),r.flags|=2),32!=(32&r.flags))if(8&E)Ql(t,n,r.child,l,u,f,!1),_c(n,t,u,C,f);else if(32&E){const N=cu(r,l);let Y;for(;Y=N();)_c(n,t,u,Y,f);_c(n,t,u,C,f)}else 16&E?rf(t,n,l,r,u,f):_c(n,t,u,C,f);r=m?r.projectionNext:r.next}}function Yc(t,n,r,l,u,f){Ql(r,l,t.firstChild,n,u,f,!1)}function rf(t,n,r,l,u,f){const m=r[bo],E=m[ho].projection[l.projection];if(Array.isArray(E))for(let N=0;N<E.length;N++)_c(n,t,u,E[N],f);else{let N=E;const Y=m[Vn];ma(l)&&(N.flags|=128),Ql(t,n,N,Y,u,f,!0)}}function bu(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function cf(t,n,r){const{mergedAttrs:l,classes:u,styles:f}=r;null!==l&&ei(t,n,l),null!==u&&bu(t,n,u),null!==f&&function af(t,n,r){t.setAttribute(n,"style",r)}(t,n,f)}function qa(t){return function xc(){if(void 0===Kc&&(Kc=null,Gn.trustedTypes))try{Kc=Gn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Kc}()?.createHTML(t)||t}function Rg(t){vu=t}function Cc(){if(void 0!==vu)return vu;if(typeof document<"u")return document;throw new Ne(210,!1)}function Mc(){if(void 0===ea&&(ea=null,Gn.trustedTypes))try{ea=Gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ea}function uf(t){return Mc()?.createHTML(t)||t}function ff(t){return Mc()?.createScriptURL(t)||t}class va{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Je})`}}class Fg extends va{getTypeName(){return"HTML"}}class Ng extends va{getTypeName(){return"Style"}}class pf extends va{getTypeName(){return"Script"}}class Lg extends va{getTypeName(){return"URL"}}class Bg extends va{getTypeName(){return"ResourceURL"}}function Cs(t){return t instanceof va?t.changingThisBreaksApplicationSecurity:t}function wc(t,n){const r=function Ug(t){return t instanceof va&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Je})`)}return r===n}function jg(t){return new Fg(t)}function Vg(t){return new Ng(t)}function Hg(t){return new pf(t)}function Xl(t){return new Lg(t)}function gf(t){return new Bg(t)}class _f{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(qa(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch{return null}}}class ya{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=qa(n),r}}const Zg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ed(t){return(t=String(t)).match(Zg)?t:"unsafe:"+t}function Ms(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Jc(...t){const n={};for(const r of t)for(const l in r)r.hasOwnProperty(l)&&(n[l]=!0);return n}const bf=Ms("area,br,col,hr,img,wbr"),td=Ms("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vf=Ms("rp,rt"),nd=Jc(bf,Jc(td,Ms("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jc(vf,Ms("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jc(vf,td)),od=Ms("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xf=Jc(od,Ms("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ms("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gg=Ms("script,style,template");class Cf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,l=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?l=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,l&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let u=this.checkClobberedElement(r,r.nextSibling);if(u){r=u;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(n){const r=n.nodeName.toLowerCase();if(!nd.hasOwnProperty(r))return this.sanitizedSomething=!0,!Gg.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const l=n.attributes;for(let u=0;u<l.length;u++){const f=l.item(u),m=f.name,C=m.toLowerCase();if(!xf.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=f.value;od[C]&&(E=ed(E)),this.buf.push(" ",m,'="',Mf(E),'"')}return this.buf.push(">"),!0}endElement(n){const r=n.nodeName.toLowerCase();nd.hasOwnProperty(r)&&!bf.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Mf(n))}checkClobberedElement(n,r){if(r&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return r}}const Wg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qg=/([^\#-~ |!])/g;function Mf(t){return t.replace(/&/g,"&amp;").replace(Wg,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(qg,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let id;function wf(t,n){let r=null;try{id=id||function mf(t){const n=new ya(t);return function zg(){try{return!!(new window.DOMParser).parseFromString(qa(""),"text/html")}catch{return!1}}()?new _f(n):n}(t);let l=n?String(n):"";r=id.getInertBodyElement(l);let u=5,f=l;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,l=f,f=r.innerHTML,r=id.getInertBodyElement(l)}while(l!==f);return qa((new Cf).sanitizeChildren(rd(r)||r))}finally{if(r){const l=rd(r)||r;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function rd(t){return"content"in t&&function kf(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ya=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ya||{});function Ef(t){const n=Xc();return n?uf(n.sanitize(Ya.HTML,t)||""):wc(t,"HTML")?uf(Cs(t)):wf(Cc(),vt(t))}function Qc(t){const n=Xc();return n?n.sanitize(Ya.URL,t)||"":wc(t,"URL")?Cs(t):ed(vt(t))}function Df(t){const n=Xc();if(n)return ff(n.sanitize(Ya.RESOURCE_URL,t)||"");if(wc(t,"ResourceURL"))return ff(Cs(t));throw new Ne(904,!1)}function Af(t,n,r){return function Pf(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Df:Qc}(n,r)(t)}function Xc(){const t=_t();return t&&t[Fi].sanitizer}const el=new xn("ENVIRONMENT_INITIALIZER"),Sf=new xn("INJECTOR",-1),If=new xn("INJECTOR_DEF_TYPES");class xu{get(n,r=It){if(r===It){const l=new Error(`NullInjectorError: No provider for ${de(n)}!`);throw l.name="NullInjectorError",l}return r}}function Cu(t){return{\u0275providers:t}}function Kg(...t){return{\u0275providers:Mu(0,t),\u0275fromNgModule:!0}}function Mu(t,...n){const r=[],l=new Set;let u;const f=m=>{r.push(m)};return fc(n,m=>{const C=m;sd(C,f,[],l)&&(u||=[],u.push(C))}),void 0!==u&&Rf(u,f),r}function Rf(t,n){for(let r=0;r<t.length;r++){const{ngModule:l,providers:u}=t[r];wu(u,f=>{n(f,l)})}}function sd(t,n,r,l){if(!(t=ce(t)))return!1;let u=null,f=Jo(t);const m=!f&&kn(t);if(f||m){if(m&&!m.standalone)return!1;u=t}else{const E=t.ngModule;if(f=Jo(E),!f)return!1;u=E}const C=l.has(u);if(m){if(C)return!1;if(l.add(u),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const N of E)sd(N,n,r,l)}}else{if(!f)return!1;{if(null!=f.imports&&!C){let N;l.add(u);try{fc(f.imports,Y=>{sd(Y,n,r,l)&&(N||=[],N.push(Y))})}finally{}void 0!==N&&Rf(N,n)}if(!C){const N=ji(u)||(()=>new u);n({provide:u,useFactory:N,deps:_n},u),n({provide:If,useValue:u,multi:!0},u),n({provide:el,useValue:()=>xt(u),multi:!0},u)}const E=f.providers;if(null!=E&&!C){const N=t;wu(E,Y=>{n(Y,N)})}}}return u!==t&&void 0!==t.providers}function wu(t,n){for(let r of t)ze(r)&&(r=r.\u0275providers),Array.isArray(r)?wu(r,n):n(r)}const Jg=Pe({provide:String,useValue:Pe});function tl(t){return null!==t&&"object"==typeof t&&Jg in t}function xa(t){return"function"==typeof t}const ad=new xn("Set Injector scope."),cd={},Nf={};let Eu;function nl(){return void 0===Eu&&(Eu=new xu),Eu}class js{}class kc extends js{get destroyed(){return this._destroyed}constructor(n,r,l,u){super(),this.parent=r,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ou(n,m=>this.processProvider(m)),this.records.set(Sf,Ca(void 0,this)),u.has("environment")&&this.records.set(js,Ca(void 0,this));const f=this.records.get(ad);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(If.multi,_n,Wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=Te(this),l=$o(void 0);try{return n()}finally{Te(r),$o(l)}}get(n,r=It,l=Wt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Uo))return n[Uo](this);l=Nn(l);const f=Te(this),m=$o(void 0);try{if(!(l&Wt.SkipSelf)){let E=this.records.get(n);if(void 0===E){const N=function ld(t){return"function"==typeof t||"object"==typeof t&&t instanceof xn}(n)&&an(n);E=N&&this.injectableDefInScope(N)?Ca(Du(n),cd):null,this.records.set(n,E)}if(null!=E)return this.hydrate(n,E)}return(l&Wt.Self?nl():this.parent).get(n,r=l&Wt.Optional&&r===It?null:r)}catch(C){if("NullInjectorError"===C.name){if((C[Sn]=C[Sn]||[]).unshift(de(n)),f)throw C;return function wo(t,n,r,l){const u=t[Sn];throw n[Ei]&&u.unshift(n[Ei]),t.message=function Wo(t,n,r,l=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=de(n);if(Array.isArray(n))u=n.map(de).join(" -> ");else if("object"==typeof n){let f=[];for(let m in n)if(n.hasOwnProperty(m)){let C=n[m];f.push(m+":"+("string"==typeof C?JSON.stringify(C):de(C)))}u=`{${f.join(", ")}}`}return`${r}${l?"("+l+")":""}[${u}]: ${t.replace(ao,"\n  ")}`}("\n"+t.message,u,r,l),t.ngTokenPath=u,t[Sn]=null,t}(C,n,"R3InjectorError",this.source)}throw C}finally{$o(m),Te(f)}}resolveInjectorInitializers(){const n=Te(this),r=$o(void 0);try{const u=this.get(el.multi,_n,Wt.Self);for(const f of u)f()}finally{Te(n),$o(r)}}toString(){const n=[],r=this.records;for(const l of r.keys())n.push(de(l));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(n){let r=xa(n=ce(n))?n:ce(n&&n.provide);const l=function Xg(t){return tl(t)?Ca(void 0,t.useValue):Ca(Bf(t),cd)}(n);if(xa(n)||!0!==n.multi)this.records.get(r);else{let u=this.records.get(r);u||(u=Ca(void 0,cd,!0),u.factory=()=>sn(u.multi),this.records.set(r,u)),r=n,u.multi.push(n)}this.records.set(r,l)}hydrate(n,r){return r.value===cd&&(r.value=Nf,r.value=r.factory()),"object"==typeof r.value&&r.value&&function tm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(n){if(!n.providedIn)return!1;const r=ce(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Du(t){const n=an(t),r=null!==n?n.factory:ji(t);if(null!==r)return r;if(t instanceof xn)throw new Ne(204,!1);if(t instanceof Function)return function Lf(t){const n=t.length;if(n>0)throw pc(n,"?"),new Ne(204,!1);const r=function Zo(t){return t&&(t[ni]||t[so])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Ne(204,!1)}function Bf(t,n,r){let l;if(xa(t)){const u=ce(t);return ji(u)||Du(u)}if(tl(t))l=()=>ce(t.useValue);else if(function ku(t){return!(!t||!t.useFactory)}(t))l=()=>t.useFactory(...sn(t.deps||[]));else if(function Ff(t){return!(!t||!t.useExisting)}(t))l=()=>xt(ce(t.useExisting));else{const u=ce(t&&(t.useClass||t.provide));if(!function em(t){return!!t.deps}(t))return ji(u)||Du(u);l=()=>new u(...sn(t.deps))}return l}function Ca(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function Ou(t,n){for(const r of t)Array.isArray(r)?Ou(r,n):r&&ze(r)?Ou(r.\u0275providers,n):n(r)}const Ec=new xn("AppId",{providedIn:"root",factory:()=>Vs}),Vs="ng",Hs=new xn("Platform Initializer"),Tu=new xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),om=new xn("AnimationModuleType"),im=new xn("CSP nonce",{providedIn:"root",factory:()=>Cc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Su=(t,n,r)=>null;function Ka(t,n,r=!1){return Su(t,n,r)}class um{}class Hf{}class fm{resolveComponentFactory(n){throw function hm(t){const n=Error(`No component factory found for ${de(t)}.`);return n.ngComponent=t,n}(n)}}let vd=(()=>{class t{static#e=this.NULL=new fm}return t})();function pm(){return Ja(Ko(),_t())}function Ja(t,n){return new sl(Ht(t,n))}let sl=(()=>{class t{constructor(r){this.nativeElement=r}static#e=this.__NG_ELEMENT_ID__=pm}return t})();function gm(t){return t instanceof sl?t.nativeElement:t}class Zf{}let yd=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function $r(){const t=_t(),r=Dn(Ko().index,t);return(fi(r)?r:t)[fn]}()}return t})(),$f=(()=>{class t{static#e=this.\u0275prov=kt({token:t,providedIn:"root",factory:()=>null})}return t})();class Fu{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Gf=new Fu("16.2.12"),Nu={};function Kf(t,n=null,r=null,l){const u=Jf(t,n,r,l);return u.resolveInjectorInitializers(),u}function Jf(t,n=null,r=null,l,u=new Set){const f=[r||_n,Kg(t)];return l=l||("object"==typeof t?void 0:de(t)),new kc(f,n||nl(),l||null,u)}let ws=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=It;static#t=this.NULL=new xu;static create(r,l){if(Array.isArray(r))return Kf({name:""},l,r,"");{const u=r.name??"";return Kf({name:u},r.parent,r.providers,u)}}static#n=this.\u0275prov=kt({token:t,providedIn:"any",factory:()=>xt(Sf)});static#o=this.__NG_ELEMENT_ID__=-1}return t})();function Bu(t){return t.ngOriginalError}class wa{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Bu(n);for(;r&&Bu(r);)r=Bu(r);return r||null}}function ju(t){return n=>{setTimeout(t,void 0,n)}}const ps=class cl extends g.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,r,l){let u=n,f=r||(()=>null),m=l;if(n&&"object"==typeof n){const E=n;u=E.next?.bind(E),f=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(f=ju(f),u&&(u=ju(u)),m&&(m=ju(m)));const C=super.subscribe({next:u,error:f,complete:m});return n instanceof B.w0&&n.add(C),C}};function Xf(...t){}class wi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ps(!1),this.onMicrotaskEmpty=new ps(!1),this.onStable=new ps(!1),this.onError=new ps(!1),typeof Zone>"u")throw new Ne(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&r,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function ep(){const t="function"==typeof Gn.requestAnimationFrame;let n=Gn[t?"requestAnimationFrame":"setTimeout"],r=Gn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&r){const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function xm(t){const n=()=>{!function tp(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cd(t),t.isCheckStableRunning=!0,Qa(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,l,u,f,m,C)=>{if(function Md(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(C))return r.invokeTask(u,f,m,C);try{return Vu(t),r.invokeTask(u,f,m,C)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&n(),ka(t)}},onInvoke:(r,l,u,f,m,C,E)=>{try{return Vu(t),r.invoke(u,f,m,C,E)}finally{t.shouldCoalesceRunChangeDetection&&n(),ka(t)}},onHasTask:(r,l,u,f)=>{r.hasTask(u,f),l===u&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,Cd(t),Qa(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(r,l,u,f)=>(r.handleError(u,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wi.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if(wi.isInAngularZone())throw new Ne(909,!1)}run(n,r,l){return this._inner.run(n,r,l)}runTask(n,r,l,u){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+u,n,ym,Xf,Xf);try{return f.runTask(m,r,l)}finally{f.cancelTask(m)}}runGuarded(n,r,l){return this._inner.runGuarded(n,r,l)}runOutsideAngular(n){return this._outer.run(n)}}const ym={};function Qa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Cd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Vu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ka(t){t._nesting--,Qa(t)}class Hu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ps,this.onMicrotaskEmpty=new ps,this.onStable=new ps,this.onError=new ps}run(n,r,l){return n.apply(r,l)}runGuarded(n,r,l){return n.apply(r,l)}runOutsideAngular(n){return n()}runTask(n,r,l,u){return n.apply(r,l)}}const np=new xn("",{providedIn:"root",factory:Cm});function Cm(){const t=gt(wi);let n=!0;return function ae(...t){const n=(0,ne.yG)(t),r=(0,ne._6)(t,1/0),l=t;return l.length?1===l.length?(0,o.Xf)(l[0]):(0,J.J)(r)((0,be.D)(l,n)):K.E}(new X.y(u=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(n),u.complete()})}),new X.y(u=>{let f;t.runOutsideAngular(()=>{f=t.onStable.subscribe(()=>{wi.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,u.next(!0))})})});const m=t.onUnstable.subscribe(()=>{wi.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}}).pipe((0,U.B)()))}function ip(t){return t.ownerDocument}function Ea(t){return t instanceof Function?t():t}let zu=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=kt({token:t,providedIn:"root",factory:()=>new t})}return t})();function wd(t){for(;t;){t[hn]|=64;const n=_a(t);if(ve(t)&&!n)return t;t=n}return null}const Dm=new xn("",{providedIn:"root",factory:()=>!1});let kd=null;function Am(t,n){return t[n]??Rm()}function Sm(t,n){const r=Rm();r.producerNode?.length&&(t[n]=kd,r.lView=t,kd=Im())}const Db={...la,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{wd(t.lView)},lView:null};function Im(){return Object.create(Db)}function Rm(){return kd??=Im(),kd}const Fn={};function Fm(t){Nm(gn(),_t(),Ir()+t,!1)}function Nm(t,n,r,l){if(!l)if(3==(3&n[hn])){const f=t.preOrderCheckHooks;null!==f&&yl(n,f,r)}else{const f=t.preOrderHooks;null!==f&&sc(n,f,0,r)}Ra(r)}function dl(t,n=Wt.Default){const r=_t();return null===r?xt(t,n):ha(Ko(),r,ce(t),n)}function Lm(){throw new Error("invalid")}function $u(t,n,r,l,u,f,m,C,E,N,Y){const he=n.blueprint.slice();return he[Yn]=u,he[hn]=140|l,(null!==N||t&&2048&t[hn])&&(he[hn]|=2048),pi(he),he[Vn]=he[Ni]=t,he[fo]=r,he[Fi]=m||t&&t[Fi],he[fn]=C||t&&t[fn],he[sr]=E||t&&t[sr]||null,he[ho]=f,he[Bi]=function ug(){return Zh++}(),he[vo]=Y,he[as]=N,he[bo]=2==n.type?t[bo]:he,he}function ul(t,n,r,l,u){let f=t.data[n];if(null===f)f=function rp(t,n,r,l,u){const f=da(),m=$(),E=t.data[n]=function z(t,n,r,l,u,f){let m=n?n.injectorIndex:-1,C=0;return Do()&&(C|=128),{type:r,index:l,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,r,n,l,u);return null===t.firstChild&&(t.firstChild=E),null!==f&&(m?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E,E.prev=f)),E}(t,n,r,l,u),function Qe(){return rn.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=r,f.value=l,f.attrs=u;const m=function le(){const t=rn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return G(f,!0),f}function hl(t,n,r,l){if(0===r)return-1;const u=n.length;for(let f=0;f<r;f++)n.push(l),t.blueprint.push(l),t.data.push(null);return u}function sp(t,n,r,l,u){const f=Am(n,Yr),m=Ir(),C=2&l;try{Ra(-1),C&&n.length>Cn&&Nm(t,n,Cn,!1),He(C?2:0,u);const N=C?f:null,Y=xo(N);try{null!==N&&(N.dirty=!1),r(l,u)}finally{li(N,Y)}}finally{C&&null===n[Yr]&&Sm(n,Yr),Ra(m),He(C?3:1,u)}}function Gu(t,n,r){if(L(n)){const l=ii(null);try{const f=n.directiveEnd;for(let m=n.directiveStart;m<f;m++){const C=t.data[m];C.contentQueries&&C.contentQueries(1,r[m],m)}}finally{ii(l)}}}function s(t,n,r){zn()&&(function Bt(t,n,r,l){const u=r.directiveStart,f=r.directiveEnd;j(r)&&function ki(t,n,r){const l=Ht(n,t),u=e(r);let m=16;r.signals?m=4096:r.onPush&&(m=64);const C=Oa(t,$u(t,u,null,m,l,n,null,t[Fi].rendererFactory.createRenderer(l,r),null,null,null));t[n.index]=C}(n,r,t.data[u+r.componentOffset]),t.firstCreatePass||lc(r,n),dr(l,n);const m=r.initialInputs;for(let C=u;C<f;C++){const E=t.data[C],N=fa(n,t,C,r);dr(N,n),null!==m&&Ac(0,C-u,N,E,0,m),Q(E)&&(Dn(r.index,n)[fo]=fa(n,t,C,r))}}(t,n,r,Ht(r,n)),64==(64&r.flags)&&nn(t,n,r))}function a(t,n,r=Ht){const l=n.localNames;if(null!==l){let u=n.index+1;for(let f=0;f<l.length;f+=2){const m=l[f+1],C=-1===m?r(n,t):t[m];t[u++]=C}}}function e(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=i(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function i(t,n,r,l,u,f,m,C,E,N,Y){const he=Cn+l,Ie=he+u,Ve=function c(t,n){const r=[];for(let l=0;l<n;l++)r.push(l<t?null:Fn);return r}(he,Ie),lt="function"==typeof N?N():N;return Ve[Ft]={type:t,blueprint:Ve,template:r,queries:null,viewQuery:C,declTNode:n,data:Ve.slice().fill(null,he),bindingStartIndex:he,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:lt,incompleteFirstPass:!1,ssrId:Y}}let p=t=>null;function ee(t,n,r,l){for(let u in t)if(t.hasOwnProperty(u)){r=null===r?{}:r;const f=t[u];null===l?ie(r,n,u,f):l.hasOwnProperty(u)&&ie(r,n,l[u],f)}return r}function ie(t,n,r,l){t.hasOwnProperty(r)?t[r].push(n,l):t[r]=[n,l]}function Ee(t,n,r,l,u,f,m,C){const E=Ht(n,r);let Y,N=n.inputs;!C&&null!=N&&(Y=N[l])?(Bm(t,r,Y,l,u),j(n)&&function nt(t,n){const r=Dn(n,t);16&r[hn]||(r[hn]|=64)}(r,n.index)):3&n.type&&(l=function we(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(l),u=null!=m?m(u,n.value||"",l):u,f.setProperty(E,l,u))}function St(t,n,r,l){if(zn()){const u=null===l?null:{"":-1},f=function $n(t,n){const r=t.directiveRegistry;let l=null,u=null;if(r)for(let f=0;f<r.length;f++){const m=r[f];if(Nr(n,m.selectors,!1))if(l||(l=[]),Q(m))if(null!==m.findHostDirectiveDefs){const C=[];u=u||new Map,m.findHostDirectiveDefs(m,C,u),l.unshift(...C,m),to(t,n,C.length)}else l.unshift(m),to(t,n,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,l,u),l.push(m)}return null===l?null:[l,u]}(t,r);let m,C;null===f?m=C=null:[m,C]=f,null!==m&&bt(t,n,r,m,u,C),u&&function ur(t,n,r){if(n){const l=t.localNames=[];for(let u=0;u<n.length;u+=2){const f=r[n[u+1]];if(null==f)throw new Ne(-301,!1);l.push(n[u],f)}}}(r,l,u)}r.mergedAttrs=Gi(r.mergedAttrs,r.attrs)}function bt(t,n,r,l,u,f){for(let N=0;N<l.length;N++)$d(lc(r,n),t,l[N].type);!function Ro(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,l.length);for(let N=0;N<l.length;N++){const Y=l[N];Y.providersResolver&&Y.providersResolver(Y)}let m=!1,C=!1,E=hl(t,n,l.length,null);for(let N=0;N<l.length;N++){const Y=l[N];r.mergedAttrs=Gi(r.mergedAttrs,Y.hostAttrs),ri(t,r,n,E,Y),ns(E,Y,u),null!==Y.contentQueries&&(r.flags|=4),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(r.flags|=64);const he=Y.type.prototype;!m&&(he.ngOnChanges||he.ngOnInit||he.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),m=!0),!C&&(he.ngOnChanges||he.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),C=!0),E++}!function Me(t,n,r){const u=n.directiveEnd,f=t.data,m=n.attrs,C=[];let E=null,N=null;for(let Y=n.directiveStart;Y<u;Y++){const he=f[Y],Ie=r?r.get(he):null,lt=Ie?Ie.outputs:null;E=ee(he.inputs,Y,E,Ie?Ie.inputs:null),N=ee(he.outputs,Y,N,lt);const Pt=null===E||null===m||ai(n)?null:Sc(E,Y,m);C.push(Pt)}null!==E&&(E.hasOwnProperty("class")&&(n.flags|=8),E.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=C,n.inputs=E,n.outputs=N}(t,r,f)}function nn(t,n,r){const l=r.directiveStart,u=r.directiveEnd,f=r.index,m=function mn(){return rn.lFrame.currentDirectiveIndex}();try{Ra(f);for(let C=l;C<u;C++){const E=t.data[C],N=n[C];lo(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Wn(E,N)}}finally{Ra(-1),lo(m)}}function Wn(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function to(t,n,r){n.componentOffset=r,(t.components??=[]).push(n.index)}function ns(t,n,r){if(r){if(n.exportAs)for(let l=0;l<n.exportAs.length;l++)r[n.exportAs[l]]=t;Q(n)&&(r[""]=t)}}function ri(t,n,r,l,u){t.data[l]=u;const f=u.factory||(u.factory=ji(u.type)),m=new Lc(f,Q(u),dl);t.blueprint[l]=m,r[l]=m,function At(t,n,r,l,u){const f=u.hostBindings;if(f){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const C=~n.index;(function Jt(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(m)!=C&&m.push(C),m.push(r,l,f)}}(t,n,l,hl(t,r,u.hostVars,Fn),u)}function Ti(t,n,r,l,u,f){const m=Ht(t,n);!function nr(t,n,r,l,u,f,m){if(null==f)t.removeAttribute(n,u,r);else{const C=null==m?vt(f):m(f,l||"",u);t.setAttribute(n,u,C,r)}}(n[fn],m,f,t.value,r,l,u)}function Ac(t,n,r,l,u,f){const m=f[n];if(null!==m)for(let C=0;C<m.length;)fl(l,r,m[C++],m[C++],m[C++])}function fl(t,n,r,l,u){const f=ii(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(l)&&(u=m[l].call(n,u)),null!==t.setInput?t.setInput(n,u,r,l):n[l]=u}finally{ii(f)}}function Sc(t,n,r){let l=null,u=0;for(;u<r.length;){const f=r[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(t.hasOwnProperty(f)){null===l&&(l=[]);const m=t[f];for(let C=0;C<m.length;C+=2)if(m[C]===n){l.push(f,m[C+1],r[u+1]);break}}u+=2}else u+=2;else u+=4}return l}function Ic(t,n,r,l){return[t,!0,!1,n,null,0,l,r,null,null,null]}function Da(t,n){const r=t.contentQueries;if(null!==r)for(let l=0;l<r.length;l+=2){const f=r[l+1];if(-1!==f){const m=t.data[f];hs(r[l]),m.contentQueries(2,n[f],f)}}}function Oa(t,n){return t[Ci]?t[ss][oi]=n:t[Ci]=n,t[ss]=n,n}function ta(t,n,r){hs(0);const l=ii(null);try{n(t,r)}finally{ii(l)}}function Tb(t){return t[Yi]||(t[Yi]=[])}function Pb(t){return t.cleanup||(t.cleanup=[])}function Sb(t,n){const r=t[sr],l=r?r.get(wa,null):null;l&&l.handleError(n)}function Bm(t,n,r,l,u){for(let f=0;f<r.length;){const m=r[f++],C=r[f++];fl(t.data[m],n[m],l,C,u)}}function Xa(t,n,r){const l=tn(n,t);!function bc(t,n,r){t.setValue(n,r)}(t[fn],l,r)}function Ox(t,n){const r=Dn(n,t),l=r[Ft];!function Tx(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(l,r);const u=r[Yn];null!==u&&null===r[vo]&&(r[vo]=Ka(u,r[sr])),Um(l,r,r[fo])}function Um(t,n,r){Ns(n);try{const l=t.viewQuery;null!==l&&ta(1,l,r);const u=t.template;null!==u&&sp(t,n,u,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Da(t,n),t.staticViewQueries&&ta(2,t.viewQuery,r);const f=t.components;null!==f&&function Px(t,n){for(let r=0;r<n.length;r++)Ox(t,n[r])}(n,f)}catch(l){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),l}finally{n[hn]&=-5,Ia()}}let Ib=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(r,l,u){const f=typeof Zone>"u"?null:Zone.current,m=function Hr(t,n,r){const l=Object.create(Vi);r&&(l.consumerAllowSignalWrites=!0),l.fn=t,l.schedule=n;const u=m=>{l.cleanupFn=m};return l.ref={notify:()=>In(l),run:()=>{if(l.dirty=!1,l.hasRun&&!bn(l))return;l.hasRun=!0;const m=xo(l);try{l.cleanupFn(),l.cleanupFn=Jn,l.fn(u)}finally{li(l,m)}},cleanup:()=>l.cleanupFn()},l.ref}(r,N=>{this.all.has(N)&&this.queue.set(N,f)},u);let C;this.all.add(m),m.notify();const E=()=>{m.cleanup(),C?.(),this.all.delete(m),this.queue.delete(m)};return C=l?.onDestroy(E),{destroy:E}}flush(){if(0!==this.queue.size)for(const[r,l]of this.queue)this.queue.delete(r),l?l.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=kt({token:t,providedIn:"root",factory:()=>new t})}return t})();function ap(t,n,r){let l=r?t.styles:null,u=r?t.classes:null,f=0;if(null!==n)for(let m=0;m<n.length;m++){const C=n[m];"number"==typeof C?f=C:1==f?u=ue(u,C):2==f&&(l=ue(l,C+": "+n[++m]+";"))}r?t.styles=l:t.stylesWithoutHost=l,r?t.classes=u:t.classesWithoutHost=u}function Wu(t,n,r,l,u=!1){for(;null!==r;){const f=n[r.index];null!==f&&l.push(Et(f)),Hn(f)&&Rb(f,l);const m=r.type;if(8&m)Wu(t,n,r.child,l);else if(32&m){const C=cu(r,n);let E;for(;E=C();)l.push(E)}else if(16&m){const C=_u(n,r);if(Array.isArray(C))l.push(...C);else{const E=_a(n[bo]);Wu(E[Ft],E,C,l,!0)}}r=u?r.projectionNext:r.next}return l}function Rb(t,n){for(let r=yo;r<t.length;r++){const l=t[r],u=l[Ft].firstChild;null!==u&&Wu(l[Ft],l,u,n)}t[To]!==t[Yn]&&n.push(t[To])}function cp(t,n,r,l=!0){const u=n[Fi],f=u.rendererFactory,m=u.afterRenderEventManager;f.begin?.(),m?.begin();try{Fb(t,n,t.template,r)}catch(E){throw l&&Sb(n,E),E}finally{f.end?.(),u.effectManager?.flush(),m?.end()}}function Fb(t,n,r,l){const u=n[hn];if(256!=(256&u)){n[Fi].effectManager?.flush(),Ns(n);try{pi(n),function F(t){return rn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&sp(t,n,r,2,l);const m=3==(3&u);if(m){const N=t.preOrderCheckHooks;null!==N&&yl(n,N,null)}else{const N=t.preOrderHooks;null!==N&&sc(n,N,0,null),xl(n,0)}if(function Ix(t){for(let n=lu(t);null!==n;n=du(n)){if(!n[Os])continue;const r=n[yr];for(let l=0;l<r.length;l++){Cr(r[l])}}}(n),Nb(n,2),null!==t.contentQueries&&Da(t,n),m){const N=t.contentCheckHooks;null!==N&&yl(n,N)}else{const N=t.contentHooks;null!==N&&sc(n,N,1),xl(n,1)}!function Ob(t,n){const r=t.hostBindingOpCodes;if(null===r)return;const l=Am(n,Ji);try{for(let u=0;u<r.length;u++){const f=r[u];if(f<0)Ra(~f);else{const m=f,C=r[++u],E=r[++u];Rt(C,m),l.dirty=!1;const N=xo(l);try{E(2,n[m])}finally{li(l,N)}}}}finally{null===n[Ji]&&Sm(n,Ji),Ra(-1)}}(t,n);const C=t.components;null!==C&&Bb(n,C,0);const E=t.viewQuery;if(null!==E&&ta(2,E,l),m){const N=t.viewCheckHooks;null!==N&&yl(n,N)}else{const N=t.viewHooks;null!==N&&sc(n,N,2),xl(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[hn]&=-73,Hi(n)}finally{Ia()}}}function Nb(t,n){for(let r=lu(t);null!==r;r=du(r))for(let l=yo;l<r.length;l++)Lb(r[l],n)}function Rx(t,n,r){Lb(Dn(n,t),r)}function Lb(t,n){if(!function di(t){return 128==(128&t[hn])}(t))return;const r=t[Ft],l=t[hn];if(80&l&&0===n||1024&l||2===n)Fb(r,t,r.template,t[fo]);else if(t[qi]>0){Nb(t,1);const u=r.components;null!==u&&Bb(t,u,1)}}function Bb(t,n,r){for(let l=0;l<n.length;l++)Rx(t,n[l],r)}class qu{get rootNodes(){const n=this._lView,r=n[Ft];return Wu(r,n,r.firstChild,[])}constructor(n,r){this._lView=n,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fo]}set context(n){this._lView[fo]=n}get destroyed(){return 256==(256&this._lView[hn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Vn];if(Hn(n)){const r=n[8],l=r?r.indexOf(this):-1;l>-1&&(Wl(n,l),zc(r,l))}this._attachedToViewContainer=!1}hu(this._lView[Ft],this._lView)}onDestroy(n){!function Qs(t,n){if(256==(256&t[hn]))throw new Ne(911,!1);null===t[Ki]&&(t[Ki]=[]),t[Ki].push(n)}(this._lView,n)}markForCheck(){wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[hn]&=-129}reattach(){this._lView[hn]|=128}detectChanges(){cp(this._lView[Ft],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wg(t,n){Yc(t,n,n[fn],2,null,null)}(this._lView[Ft],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=n}}class Fx extends qu{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;cp(n[Ft],n,n[fo],!1)}checkNoChanges(){}get context(){return null}}class Ub extends vd{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=kn(n);return new Yu(r,this.ngModule)}}function jb(t){const n=[];for(let r in t)t.hasOwnProperty(r)&&n.push({propName:t[r],templateName:r});return n}class Lx{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,l){l=Nn(l);const u=this.injector.get(n,Nu,l);return u!==Nu||r===Nu?u:this.parentInjector.get(n,r,l)}}class Yu extends Hf{get inputs(){const n=this.componentDef,r=n.inputTransforms,l=jb(n.inputs);if(null!==r)for(const u of l)r.hasOwnProperty(u.propName)&&(u.transform=r[u.propName]);return l}get outputs(){return jb(this.componentDef.outputs)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function Si(t){return t.map(is).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,l,u){let f=(u=u||this.ngModule)instanceof js?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new Lx(n,f):n,C=m.get(Zf,null);if(null===C)throw new Ne(407,!1);const he={rendererFactory:C,sanitizer:m.get($f,null),effectManager:m.get(Ib,null),afterRenderEventManager:m.get(zu,null)},Ie=C.createRenderer(null,this.componentDef),Ve=this.componentDef.selectors[0][0]||"div",lt=l?function d(t,n,r,l){const f=l.get(Dm,!1)||r===wn.ShadowDom,m=t.selectRootElement(n,f);return function h(t){p(t)}(m),m}(Ie,l,this.componentDef.encapsulation,m):$l(Ie,Ve,function Nx(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Ve)),ln=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ct=null;null!==lt&&(Ct=Ka(lt,m,!0));const An=i(0,null,null,1,0,null,null,null,null,null,null),no=$u(null,An,null,ln,null,null,he,Ie,m,null,Ct);let zo,_s;Ns(no);try{const ec=this.componentDef;let Hd,$_=null;ec.findHostDirectiveDefs?(Hd=[],$_=new Map,ec.findHostDirectiveDefs(ec,Hd,$_),Hd.push(ec)):Hd=[ec];const Gk=function Ux(t,n){const r=t[Ft],l=Cn;return t[l]=n,ul(r,l,2,"#host",null)}(no,lt),Wk=function jx(t,n,r,l,u,f,m){const C=u[Ft];!function Vx(t,n,r,l){for(const u of t)n.mergedAttrs=Gi(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(ap(n,n.mergedAttrs,!0),null!==r&&cf(l,r,n))}(l,t,n,m);let E=null;null!==n&&(E=Ka(n,u[sr]));const N=f.rendererFactory.createRenderer(n,r);let Y=16;r.signals?Y=4096:r.onPush&&(Y=64);const he=$u(u,e(r),null,Y,u[t.index],t,f,N,null,null,E);return C.firstCreatePass&&to(C,t,l.length-1),Oa(u,he),u[t.index]=he}(Gk,lt,ec,Hd,no,he,Ie);_s=Co(An,Cn),lt&&function zx(t,n,r,l){if(l)ei(t,r,["ng-version",Gf.full]);else{const{attrs:u,classes:f}=function Io(t){const n=[],r=[];let l=1,u=2;for(;l<t.length;){let f=t[l];if("string"==typeof f)2===u?""!==f&&n.push(f,t[++l]):8===u&&r.push(f);else{if(!_o(u))break;u=f}l++}return{attrs:n,classes:r}}(n.selectors[0]);u&&ei(t,r,u),f&&f.length>0&&bu(t,r,f.join(" "))}}(Ie,ec,lt,l),void 0!==r&&function Zx(t,n,r){const l=t.projection=[];for(let u=0;u<n.length;u++){const f=r[u];l.push(null!=f?Array.from(f):null)}}(_s,this.ngContentSelectors,r),zo=function Hx(t,n,r,l,u,f){const m=Ko(),C=u[Ft],E=Ht(m,u);bt(C,u,m,r,null,l);for(let Y=0;Y<r.length;Y++)dr(fa(u,C,m.directiveStart+Y,m),u);nn(C,u,m),E&&dr(E,u);const N=fa(u,C,m.directiveStart+m.componentOffset,m);if(t[fo]=u[fo]=N,null!==f)for(const Y of f)Y(N,n);return Gu(C,m,t),N}(Wk,ec,Hd,$_,no,[$x]),Um(An,no,null)}finally{Ia()}return new Bx(this.componentType,zo,Ja(_s,no),no,_s)}}class Bx extends um{constructor(n,r,l,u,f){super(),this.location=l,this._rootLView=u,this._tNode=f,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Fx(u),this.componentType=n}setInput(n,r){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const f=this._rootLView;Bm(f[Ft],f,u,n,r),this.previousInputValues.set(n,r),wd(Dn(this._tNode.index,f))}}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function $x(){const t=Ko();Nc(_t()[Ft],t)}function jm(t){let n=function Vb(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const l=[t];for(;n;){let u;if(Q(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ne(903,!1);u=n.\u0275dir}if(u){if(r){l.push(u);const m=t;m.inputs=lp(t.inputs),m.inputTransforms=lp(t.inputTransforms),m.declaredInputs=lp(t.declaredInputs),m.outputs=lp(t.outputs);const C=u.hostBindings;C&&Yx(t,C);const E=u.viewQuery,N=u.contentQueries;if(E&&Wx(t,E),N&&qx(t,N),it(t.inputs,u.inputs),it(t.declaredInputs,u.declaredInputs),it(t.outputs,u.outputs),null!==u.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),it(m.inputTransforms,u.inputTransforms)),Q(u)&&u.data.animation){const Y=t.data;Y.animation=(Y.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let m=0;m<f.length;m++){const C=f[m];C&&C.ngInherit&&C(t),C===jm&&(r=!1)}}n=Object.getPrototypeOf(n)}!function Gx(t){let n=0,r=null;for(let l=t.length-1;l>=0;l--){const u=t[l];u.hostVars=n+=u.hostVars,u.hostAttrs=Gi(u.hostAttrs,r=Gi(r,u.hostAttrs))}}(l)}function lp(t){return t===On?{}:t===_n?[]:t}function Wx(t,n){const r=t.viewQuery;t.viewQuery=r?(l,u)=>{n(l,u),r(l,u)}:n}function qx(t,n){const r=t.contentQueries;t.contentQueries=r?(l,u,f)=>{n(l,u,f),r(l,u,f)}:n}function Yx(t,n){const r=t.hostBindings;t.hostBindings=r?(l,u)=>{n(l,u),r(l,u)}:n}function $b(t){const n=t.inputConfig,r={};for(const l in n)if(n.hasOwnProperty(l)){const u=n[l];Array.isArray(u)&&u[2]&&(r[l]=u[2])}t.inputTransforms=r}function dp(t){return!!Vm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Vm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ta(t,n,r){return t[n]=r}function Gr(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function pl(t,n,r,l){const u=Gr(t,n,r);return Gr(t,n+1,l)||u}function Hm(t,n,r,l){const u=_t();return Gr(u,W(),n)&&(gn(),Ti(ti(),u,t,n,r,l)),Hm}function Dd(t,n,r,l){return Gr(t,W(),r)?n+vt(r)+l:Fn}function Od(t,n,r,l,u,f){const C=pl(t,function D(){return rn.lFrame.bindingIndex}(),r,u);return ge(2),C?n+vt(r)+l+vt(u)+f:Fn}function r0(t,n,r,l,u,f,m,C){const E=_t(),N=gn(),Y=t+Cn,he=N.firstCreatePass?function yC(t,n,r,l,u,f,m,C,E){const N=n.consts,Y=ul(n,t,4,m||null,ui(N,C));St(n,r,Y,ui(N,E)),Nc(n,Y);const he=Y.tView=i(2,Y,l,u,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,N,null);return null!==n.queries&&(n.queries.template(n,Y),he.queries=n.queries.embeddedTView(Y)),Y}(Y,N,E,n,r,l,u,f,m):N.data[Y];G(he,!1);const Ie=s0(N,E,he,t);xs()&&Jl(N,E,Ie,he),dr(Ie,E),Oa(E,E[Y]=Ic(Ie,E,Ie,he)),P(he)&&s(N,E,he),null!=m&&a(E,he,C)}let s0=function a0(t,n,r,l){return Ls(!0),n[fn].createComment("")};function c0(t){return Qn(function Ze(){return rn.lFrame.contextLView}(),Cn+t)}function qm(t,n,r){const l=_t();return Gr(l,W(),n)&&Ee(gn(),ti(),l,t,n,l[fn],r,!1),qm}function Ym(t,n,r,l,u){const m=u?"class":"style";Bm(t,r,n.inputs[m],m,l)}function gp(t,n,r,l){const u=_t(),f=gn(),m=Cn+t,C=u[fn],E=f.firstCreatePass?function wC(t,n,r,l,u,f){const m=n.consts,E=ul(n,t,2,l,ui(m,u));return St(n,r,E,ui(m,f)),null!==E.attrs&&ap(E,E.attrs,!1),null!==E.mergedAttrs&&ap(E,E.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,E),E}(m,f,u,n,r,l):f.data[m],N=l0(f,u,E,C,n,t);u[m]=N;const Y=P(E);return G(E,!0),cf(C,N,E),32!=(32&E.flags)&&xs()&&Jl(f,u,N,E),0===function en(){return rn.lFrame.elementDepthCount}()&&dr(N,u),function cn(){rn.lFrame.elementDepthCount++}(),Y&&(s(f,u,E),Gu(f,E,u)),null!==l&&a(u,E),gp}function mp(){let t=Ko();$()?re():(t=t.parent,G(t,!1));const n=t;(function Mr(t){return rn.skipHydrationRootTNode===t})(n)&&function Xs(){rn.skipHydrationRootTNode=null}(),function pn(){rn.lFrame.elementDepthCount--}();const r=gn();return r.firstCreatePass&&(Nc(r,t),L(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function jp(t){return 0!=(8&t.flags)}(n)&&Ym(r,n,_t(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function bh(t){return 0!=(16&t.flags)}(n)&&Ym(r,n,_t(),n.stylesWithoutHost,!1),mp}function Km(t,n,r,l){return gp(t,n,r,l),mp(),Km}let l0=(t,n,r,l,u,f)=>(Ls(!0),$l(l,u,function ic(){return rn.lFrame.currentNamespace}()));function _p(t,n,r){const l=_t(),u=gn(),f=t+Cn,m=u.firstCreatePass?function DC(t,n,r,l,u){const f=n.consts,m=ui(f,l),C=ul(n,t,8,"ng-container",m);return null!==m&&ap(C,m,!0),St(n,r,C,ui(f,u)),null!==n.queries&&n.queries.elementStart(n,C),C}(f,u,l,n,r):u.data[f];G(m,!0);const C=u0(u,l,m,t);return l[f]=C,xs()&&Jl(u,l,C,m),dr(C,l),P(m)&&(s(u,l,m),Gu(u,m,l)),null!=r&&a(l,m),_p}function bp(){let t=Ko();const n=gn();return $()?re():(t=t.parent,G(t,!1)),n.firstCreatePass&&(Nc(n,t),L(t)&&n.queries.elementEnd(t)),bp}let u0=(t,n,r,l)=>(Ls(!0),Zl(n[fn],""));function h0(){return _t()}function Jm(t){return!!t&&"function"==typeof t.then}function f0(t){return!!t&&"function"==typeof t.subscribe}function Qm(t,n,r,l){const u=_t(),f=gn(),m=Ko();return function g0(t,n,r,l,u,f,m){const C=P(l),N=t.firstCreatePass&&Pb(t),Y=n[fo],he=Tb(n);let Ie=!0;if(3&l.type||m){const Pt=Ht(l,n),$t=m?m(Pt):Pt,ln=he.length,Ct=m?no=>m(Et(no[l.index])):l.index;let An=null;if(!m&&C&&(An=function PC(t,n,r,l){const u=t.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const m=u[f];if(m===r&&u[f+1]===l){const C=n[Yi],E=u[f+2];return C.length>E?C[E]:null}"string"==typeof m&&(f+=2)}return null}(t,n,u,l.index)),null!==An)(An.__ngLastListenerFn__||An).__ngNextListenerFn__=f,An.__ngLastListenerFn__=f,Ie=!1;else{f=_0(l,n,Y,f,!1);const no=r.listen($t,u,f);he.push(f,no),N&&N.push(u,Ct,ln,ln+1)}}else f=_0(l,n,Y,f,!1);const Ve=l.outputs;let lt;if(Ie&&null!==Ve&&(lt=Ve[u])){const Pt=lt.length;if(Pt)for(let $t=0;$t<Pt;$t+=2){const zo=n[lt[$t]][lt[$t+1]].subscribe(f),_s=he.length;he.push(f,zo),N&&N.push(u,l.index,_s,-(_s+1))}}}(f,u,u[fn],m,t,n,l),Qm}function m0(t,n,r,l){try{return He(6,n,r),!1!==r(l)}catch(u){return Sb(t,u),!1}finally{He(7,n,r)}}function _0(t,n,r,l,u){return function f(m){if(m===Function)return l;wd(t.componentOffset>-1?Dn(t.index,n):n);let E=m0(n,r,l,m),N=f.__ngNextListenerFn__;for(;N;)E=m0(n,r,N,m)&&E,N=N.__ngNextListenerFn__;return u&&!1===E&&m.preventDefault(),E}}function b0(t=1){return function Np(t){return(rn.lFrame.contextLView=function Lp(t,n){for(;t>0;)n=n[Ni],t--;return n}(t,rn.lFrame.contextLView))[fo]}(t)}function AC(t,n){let r=null;const l=function or(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let u=0;u<n.length;u++){const f=n[u];if("*"!==f){if(null===l?Nr(t,f,!0):gr(l,f))return u}else r=u}return r}function v0(t){const n=_t()[bo][ho];if(!n.projection){const l=n.projection=pc(t?t.length:1,null),u=l.slice();let f=n.child;for(;null!==f;){const m=t?AC(f,t):0;null!==m&&(u[m]?u[m].projectionNext=f:l[m]=f,u[m]=f),f=f.next}}}function y0(t,n=0,r){const l=_t(),u=gn(),f=ul(u,Cn+t,16,null,r||null);null===f.projection&&(f.projection=n),re(),(!l[vo]||Do())&&32!=(32&f.flags)&&function Pg(t,n,r){rf(n[fn],0,n,r,fu(t,r,n),gu(r.parent||n[ho],r,n))}(u,l,f)}function Xm(t,n,r){return e_(t,"",n,"",r),Xm}function e_(t,n,r,l,u){const f=_t(),m=Dd(f,n,r,l);return m!==Fn&&Ee(gn(),ti(),f,t,m,f[fn],u,!1),e_}function vp(t,n){return t<<17|n<<2}function Rc(t){return t>>17&32767}function t_(t){return 2|t}function gl(t){return(131068&t)>>2}function n_(t,n){return-131069&t|n<<2}function o_(t){return 1|t}function T0(t,n,r,l,u){const f=t[r+1],m=null===n;let C=l?Rc(f):gl(f),E=!1;for(;0!==C&&(!1===E||m);){const Y=t[C+1];LC(t[C],n)&&(E=!0,t[C+1]=l?o_(Y):t_(Y)),C=l?Rc(Y):gl(Y)}E&&(t[r+1]=l?t_(f):o_(f))}function LC(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Va(t,n)>=0}const hr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function P0(t){return t.substring(hr.key,hr.keyEnd)}function A0(t,n){const r=hr.textEnd;return r===n?-1:(n=hr.keyEnd=function VC(t,n,r){for(;n<r&&t.charCodeAt(n)>32;)n++;return n}(t,hr.key=n,r),Fd(t,n,r))}function Fd(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function i_(t,n,r){return na(t,n,r,!1),i_}function r_(t,n){return na(t,n,null,!0),r_}function N0(t){!function oa(t,n,r,l){const u=gn(),f=ge(2);u.firstUpdatePass&&B0(u,null,f,l);const m=_t();if(r!==Fn&&Gr(m,f,r)){const C=u.data[Ir()];if(H0(C,l)&&!L0(u,f)){let E=l?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(r=ue(E,r||"")),Ym(u,C,m,r,l)}else!function JC(t,n,r,l,u,f,m,C){u===Fn&&(u=_n);let E=0,N=0,Y=0<u.length?u[0]:null,he=0<f.length?f[0]:null;for(;null!==Y||null!==he;){const Ie=E<u.length?u[E+1]:void 0,Ve=N<f.length?f[N+1]:void 0;let Pt,lt=null;Y===he?(E+=2,N+=2,Ie!==Ve&&(lt=he,Pt=Ve)):null===he||null!==Y&&Y<he?(E+=2,lt=Y):(N+=2,lt=he,Pt=Ve),null!==lt&&j0(t,n,r,l,lt,Pt,m,C),Y=E<u.length?u[E]:null,he=N<f.length?f[N]:null}}(u,C,m,m[fn],m[f+1],m[f+1]=function YC(t,n,r){if(null==r||""===r)return _n;const l=[],u=Cs(r);if(Array.isArray(u))for(let f=0;f<u.length;f++)t(l,u[f],!0);else if("object"==typeof u)for(const f in u)u.hasOwnProperty(f)&&t(l,f,u[f]);else"string"==typeof u&&n(l,u);return l}(t,n,r),l,f)}}(KC,Aa,t,!0)}function Aa(t,n){for(let r=function UC(t){return function I0(t){hr.key=0,hr.keyEnd=0,hr.value=0,hr.valueEnd=0,hr.textEnd=t.length}(t),A0(t,Fd(t,0,hr.textEnd))}(n);r>=0;r=A0(n,r))ts(t,P0(n),!0)}function na(t,n,r,l){const u=_t(),f=gn(),m=ge(2);f.firstUpdatePass&&B0(f,t,m,l),n!==Fn&&Gr(u,m,n)&&j0(f,f.data[Ir()],u,u[fn],t,u[m+1]=function QC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=de(Cs(t)))),t}(n,r),l,m)}function L0(t,n){return n>=t.expandoStartIndex}function B0(t,n,r,l){const u=t.data;if(null===u[r+1]){const f=u[Ir()],m=L0(t,r);H0(f,l)&&null===n&&!m&&(n=!1),n=function $C(t,n,r,l){const u=function Zn(t){const n=rn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let f=l?n.residualClasses:n.residualStyles;if(null===u)0===(l?n.classBindings:n.styleBindings)&&(r=eh(r=s_(null,t,n,r,l),n.attrs,l),f=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==u)if(r=s_(u,t,n,r,l),null===f){let E=function GC(t,n,r){const l=r?n.classBindings:n.styleBindings;if(0!==gl(l))return t[Rc(l)]}(t,n,l);void 0!==E&&Array.isArray(E)&&(E=s_(null,t,n,E[1],l),E=eh(E,n.attrs,l),function WC(t,n,r,l){t[Rc(r?n.classBindings:n.styleBindings)]=l}(t,n,l,E))}else f=function qC(t,n,r){let l;const u=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<u;f++)l=eh(l,t[f].hostAttrs,r);return eh(l,n.attrs,r)}(t,n,l)}return void 0!==f&&(l?n.residualClasses=f:n.residualStyles=f),r}(u,f,n,l),function FC(t,n,r,l,u,f){let m=f?n.classBindings:n.styleBindings,C=Rc(m),E=gl(m);t[l]=r;let Y,N=!1;if(Array.isArray(r)?(Y=r[1],(null===Y||Va(r,Y)>0)&&(N=!0)):Y=r,u)if(0!==E){const Ie=Rc(t[C+1]);t[l+1]=vp(Ie,C),0!==Ie&&(t[Ie+1]=n_(t[Ie+1],l)),t[C+1]=function IC(t,n){return 131071&t|n<<17}(t[C+1],l)}else t[l+1]=vp(C,0),0!==C&&(t[C+1]=n_(t[C+1],l)),C=l;else t[l+1]=vp(E,0),0===C?C=l:t[E+1]=n_(t[E+1],l),E=l;N&&(t[l+1]=t_(t[l+1])),T0(t,Y,l,!0),T0(t,Y,l,!1),function NC(t,n,r,l,u){const f=u?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof n&&Va(f,n)>=0&&(r[l+1]=o_(r[l+1]))}(n,Y,t,l,f),m=vp(C,E),f?n.classBindings=m:n.styleBindings=m}(u,f,n,r,m,l)}}function s_(t,n,r,l,u){let f=null;const m=r.directiveEnd;let C=r.directiveStylingLast;for(-1===C?C=r.directiveStart:C++;C<m&&(f=n[C],l=eh(l,f.hostAttrs,u),f!==t);)C++;return null!==t&&(r.directiveStylingLast=C),l}function eh(t,n,r){const l=r?1:2;let u=-1;if(null!==n)for(let f=0;f<n.length;f++){const m=n[f];"number"==typeof m?u=m:u===l&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ts(t,m,!!r||n[++f]))}return void 0===t?null:t}function KC(t,n,r){const l=String(n);""!==l&&!l.includes(" ")&&ts(t,l,r)}function j0(t,n,r,l,u,f,m,C){if(!(3&n.type))return;const E=t.data,N=E[C+1],Y=function RC(t){return 1==(1&t)}(N)?V0(E,n,r,u,gl(N),m):void 0;yp(Y)||(yp(f)||function SC(t){return 2==(2&t)}(N)&&(f=V0(E,null,r,u,C,m)),function sf(t,n,r,l,u){if(n)u?t.addClass(r,l):t.removeClass(r,l);else{let f=-1===l.indexOf("-")?void 0:Wc.DashCase;null==u?t.removeStyle(r,l,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=Wc.Important),t.setStyle(r,l,u,f))}}(l,m,tn(Ir(),r),u,f))}function V0(t,n,r,l,u,f){const m=null===n;let C;for(;u>0;){const E=t[u],N=Array.isArray(E),Y=N?E[1]:E,he=null===Y;let Ie=r[u+1];Ie===Fn&&(Ie=he?_n:void 0);let Ve=he?Pl(Ie,l):Y===l?Ie:void 0;if(N&&!yp(Ve)&&(Ve=Pl(E,l)),yp(Ve)&&(C=Ve,m))return C;const lt=t[u+1];u=m?Rc(lt):gl(lt)}if(null!==n){let E=f?n.residualClasses:n.residualStyles;null!=E&&(C=Pl(E,l))}return C}function yp(t){return void 0!==t}function H0(t,n){return 0!=(t.flags&(n?8:16))}function z0(t,n=""){const r=_t(),l=gn(),u=t+Cn,f=l.firstCreatePass?ul(l,u,1,n,null):l.data[u],m=Z0(l,r,f,n,t);r[u]=m,xs()&&Jl(l,r,m,f),G(f,!1)}let Z0=(t,n,r,l,u)=>(Ls(!0),function zl(t,n){return t.createText(n)}(n[fn],l));function a_(t){return xp("",t,""),a_}function xp(t,n,r){const l=_t(),u=Dd(l,t,n,r);return u!==Fn&&Xa(l,Ir(),u),xp}function c_(t,n,r,l,u){const f=_t(),m=Od(f,t,n,r,l,u);return m!==Fn&&Xa(f,Ir(),m),c_}const ml=void 0;var x1=["en",[["a","p"],["AM","PM"],ml],[["AM","PM"],ml,ml],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ml,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ml,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ml,"{1} 'at' {0}",ml],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function y1(t){const r=Math.floor(Math.abs(t)),l=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===l?1:5}];let Nd={};function l_(t){const n=function C1(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=dv(n);if(r)return r;const l=n.split("-")[0];if(r=dv(l),r)return r;if("en"===l)return x1;throw new Ne(701,!1)}function lv(t){return l_(t)[Ld.PluralCase]}function dv(t){return t in Nd||(Nd[t]=Gn.ng&&Gn.ng.common&&Gn.ng.common.locales&&Gn.ng.common.locales[t]),Nd[t]}var Ld=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ld||{});const Bd="en-US";let uv=Bd;function h_(t,n,r,l,u){if(t=ce(t),Array.isArray(t))for(let f=0;f<t.length;f++)h_(t[f],n,r,l,u);else{const f=gn(),m=_t(),C=Ko();let E=xa(t)?t:ce(t.provide);const N=Bf(t),Y=1048575&C.providerIndexes,he=C.directiveStart,Ie=C.providerIndexes>>20;if(xa(t)||!t.multi){const Ve=new Lc(N,u,dl),lt=p_(E,n,u?Y:Y+Ie,he);-1===lt?($d(lc(C,m),f,E),f_(f,t,n.length),n.push(E),C.directiveStart++,C.directiveEnd++,u&&(C.providerIndexes+=1048576),r.push(Ve),m.push(Ve)):(r[lt]=Ve,m[lt]=Ve)}else{const Ve=p_(E,n,Y+Ie,he),lt=p_(E,n,Y,Y+Ie),$t=lt>=0&&r[lt];if(u&&!$t||!u&&!(Ve>=0&&r[Ve])){$d(lc(C,m),f,E);const ln=function yM(t,n,r,l,u){const f=new Lc(t,r,dl);return f.multi=[],f.index=n,f.componentProviders=0,Nv(f,u,l&&!r),f}(u?vM:bM,r.length,u,l,N);!u&&$t&&(r[lt].providerFactory=ln),f_(f,t,n.length,0),n.push(E),C.directiveStart++,C.directiveEnd++,u&&(C.providerIndexes+=1048576),r.push(ln),m.push(ln)}else f_(f,t,Ve>-1?Ve:lt,Nv(r[u?lt:Ve],N,!u&&l));!u&&l&&$t&&r[lt].componentProviders++}}}function f_(t,n,r,l){const u=xa(n),f=function Qg(t){return!!t.useClass}(n);if(u||f){const E=(f?ce(n.useClass):n).prototype.ngOnDestroy;if(E){const N=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const Y=N.indexOf(r);-1===Y?N.push(r,[l,E]):N[Y+1].push(l,E)}else N.push(r,E)}}}function Nv(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function p_(t,n,r,l){for(let u=r;u<l;u++)if(n[u]===t)return u;return-1}function bM(t,n,r,l){return g_(this.multi,[])}function vM(t,n,r,l){const u=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=fa(r,r[Ft],this.providerFactory.index,l);f=C.slice(0,m),g_(u,f);for(let E=m;E<C.length;E++)f.push(C[E])}else f=[],g_(u,f);return f}function g_(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function Lv(t,n=[]){return r=>{r.providersResolver=(l,u)=>function _M(t,n,r){const l=gn();if(l.firstCreatePass){const u=Q(t);h_(r,l.data,l.blueprint,u,!0),h_(n,l.data,l.blueprint,u,!1)}}(l,u?u(t):t,n)}}class _l{}class Bv{}function xM(t,n){return new m_(t,n??null,[])}class m_ extends _l{constructor(n,r,l){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ub(this);const u=ko(n);this._bootstrapComponents=Ea(u.bootstrap),this._r3Injector=Jf(n,r,[{provide:_l,useValue:this},{provide:vd,useValue:this.componentFactoryResolver},...l],de(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class __ extends Bv{constructor(n){super(),this.moduleType=n}create(n){return new m_(this.moduleType,n,[])}}class Uv extends _l{constructor(n){super(),this.componentFactoryResolver=new Ub(this),this.instance=null;const r=new kc([...n.providers,{provide:_l,useValue:this},{provide:vd,useValue:this.componentFactoryResolver}],n.parent||nl(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function jv(t,n,r=null){return new Uv({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let MM=(()=>{class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const l=Mu(0,r.type),u=l.length>0?jv([l],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,u)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=kt({token:t,providedIn:"environment",factory:()=>new t(xt(js))})}return t})();function Vv(t){t.getStandaloneInjector=n=>n.get(MM).getOrCreateStandaloneInjector(t)}function qv(t,n,r){const l=y()+t,u=_t();return u[l]===Fn?Ta(u,l,r?n.call(r):n()):function Ku(t,n){return t[n]}(u,l)}function Yv(t,n,r,l,u){return Qv(_t(),y(),t,n,r,l,u)}function Kv(t,n,r,l,u,f,m){return function ey(t,n,r,l,u,f,m,C,E){const N=n+r;return function zs(t,n,r,l,u,f){const m=pl(t,n,r,l);return pl(t,n+2,u,f)||m}(t,N,u,f,m,C)?Ta(t,N+4,E?l.call(E,u,f,m,C):l(u,f,m,C)):sh(t,N+4)}(_t(),y(),t,n,r,l,u,f,m)}function sh(t,n){const r=t[n];return r===Fn?void 0:r}function Qv(t,n,r,l,u,f,m){const C=n+r;return pl(t,C,u,f)?Ta(t,C+2,m?l.call(m,u,f):l(u,f)):sh(t,C+2)}function ny(t,n){const r=gn();let l;const u=t+Cn;r.firstCreatePass?(l=function UM(t,n){if(n)for(let r=n.length-1;r>=0;r--){const l=n[r];if(t===l.name)return l}}(n,r.pipeRegistry),r.data[u]=l,l.onDestroy&&(r.destroyHooks??=[]).push(u,l.onDestroy)):l=r.data[u];const f=l.factory||(l.factory=ji(l.type)),C=$o(dl);try{const E=wl(!1),N=f();return wl(E),function MC(t,n,r,l){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=l}(r,_t(),u,N),N}finally{$o(C)}}function oy(t,n,r){const l=t+Cn,u=_t(),f=Qn(u,l);return ah(u,l)?function Jv(t,n,r,l,u,f){const m=n+r;return Gr(t,m,u)?Ta(t,m+1,f?l.call(f,u):l(u)):sh(t,m+1)}(u,y(),n,f.transform,r,f):f.transform(r)}function iy(t,n,r,l){const u=t+Cn,f=_t(),m=Qn(f,u);return ah(f,u)?Qv(f,y(),n,m.transform,r,l,m):m.transform(r,l)}function ah(t,n){return t[Ft].data[n].pure}function zM(){return this._results[Symbol.iterator]()}class v_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ps)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=v_.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=zM)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){const l=this;l.dirty=!1;const u=function es(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Jp(t,n,r){if(t.length!==n.length)return!1;for(let l=0;l<t.length;l++){let u=t[l],f=n[l];if(r&&(u=r(u),f=r(f)),f!==u)return!1}return!0}(l._results,u,r))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function $M(t,n,r,l=!0){const u=n[Ft];if(function Gl(t,n,r,l){const u=yo+l,f=r.length;l>0&&(r[u-1][oi]=n),l<f-yo?(n[oi]=r[u],Dh(r,yo+l,n)):(r.push(n),n[oi]=null),n[Vn]=r;const m=n[br];null!==m&&r!==m&&function kg(t,n){const r=t[yr];n[bo]!==n[Vn][Vn][bo]&&(t[Os]=!0),null===r?t[yr]=[n]:r.push(n)}(m,n);const C=n[Li];null!==C&&C.insertView(t),n[hn]|=128}(u,n,t,r),l){const f=yc(r,t),m=n[fn],C=Yl(m,t[To]);null!==C&&function Mg(t,n,r,l,u,f){l[Yn]=u,l[ho]=n,Yc(t,l,r,1,u,f)}(u,t[ho],m,n,C,f)}}let ch=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=qM}return t})();const GM=ch,WM=class extends GM{constructor(n,r,l){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,l){const u=function ZM(t,n,r,l){const u=n.tView,C=$u(t,u,r,4096&t[hn]?4096:16,null,n,null,null,null,l?.injector??null,l?.hydrationInfo??null);C[br]=t[n.index];const N=t[Li];return null!==N&&(C[Li]=N.createEmbeddedView(u)),Um(u,C,r),C}(this._declarationLView,this._declarationTContainer,n,{injector:r,hydrationInfo:l});return new qu(u)}};function qM(){return Ep(Ko(),_t())}function Ep(t,n){return 4&t.type?new WM(n,t,Ja(t,n)):null}let Op=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ew}return t})();function ew(){return uy(Ko(),_t())}const tw=Op,ly=class extends tw{constructor(n,r,l){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=l}get element(){return Ja(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){const n=kl(this._hostTNode,this._hostLView);if(Ml(n)){const r=cc(n,this._hostLView),l=Bc(n);return new Rr(r[Ft].data[l+8],r)}return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=dy(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-yo}createEmbeddedView(n,r,l){let u,f;"number"==typeof l?u=l:null!=l&&(u=l.index,f=l.injector);const C=n.createEmbeddedViewImpl(r||{},f,null);return this.insertImpl(C,u,false),C}createComponent(n,r,l,u,f){const m=n&&!function Hc(t){return"function"==typeof t}(n);let C;if(m)C=r;else{const Pt=r||{};C=Pt.index,l=Pt.injector,u=Pt.projectableNodes,f=Pt.environmentInjector||Pt.ngModuleRef}const E=m?n:new Yu(kn(n)),N=l||this.parentInjector;if(!f&&null==E.ngModule){const $t=(m?N:this.parentInjector).get(js,null);$t&&(f=$t)}kn(E.componentType??{});const Ve=E.create(N,u,null,f);return this.insertImpl(Ve.hostView,C,false),Ve}insert(n,r){return this.insertImpl(n,r,!1)}insertImpl(n,r,l){const u=n._lView;if(function Qr(t){return Hn(t[Vn])}(u)){const E=this.indexOf(n);if(-1!==E)this.detach(E);else{const N=u[Vn],Y=new ly(N,N[ho],N[Vn]);Y.detach(Y.indexOf(n))}}const m=this._adjustIndex(r),C=this._lContainer;return $M(C,u,m,!l),n.attachToViewContainerRef(),Dh(y_(C),m,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=dy(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),l=Wl(this._lContainer,r);l&&(zc(y_(this._lContainer),r),hu(l[Ft],l))}detach(n){const r=this._adjustIndex(n,-1),l=Wl(this._lContainer,r);return l&&null!=zc(y_(this._lContainer),r)?new qu(l):null}_adjustIndex(n,r=0){return n??this.length+r}};function dy(t){return t[8]}function y_(t){return t[8]||(t[8]=[])}function uy(t,n){let r;const l=n[t.index];return Hn(l)?r=l:(r=Ic(l,n,null,t),n[t.index]=r,Oa(n,r)),hy(r,n,t,l),new ly(r,t,n)}let hy=function fy(t,n,r,l){if(t[To])return;let u;u=8&r.type?Et(l):function nw(t,n){const r=t[fn],l=r.createComment(""),u=Ht(n,t);return Wa(r,Yl(r,u),l,function pu(t,n){return t.nextSibling(n)}(r,u),!1),l}(n,r),t[To]=u};class x_{constructor(n){this.queryList=n,this.matches=null}clone(){return new x_(this.queryList)}setDirty(){this.queryList.setDirty()}}class C_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const l=null!==n.contentQueries?n.contentQueries[0]:r.length,u=[];for(let f=0;f<l;f++){const m=r.getByIndex(f);u.push(this.queries[m.indexInDeclarationView].clone())}return new C_(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==xy(n,r).matches&&this.queries[r].setDirty()}}class py{constructor(n,r,l=null){this.predicate=n,this.flags=r,this.read=l}}class M_{constructor(n=[]){this.queries=n}elementStart(n,r){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let l=0;l<this.length;l++){const u=null!==r?r.length:0,f=this.getByIndex(l).embeddedTView(n,u);f&&(f.indexInDeclarationView=l,null!==r?r.push(f):r=[f])}return null!==r?new M_(r):null}template(n,r){for(let l=0;l<this.queries.length;l++)this.queries[l].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class w_{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new w_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let l=n.parent;for(;null!==l&&8&l.type&&l.index!==r;)l=l.parent;return r===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const f=l[u];this.matchTNodeWithReadOption(n,r,rw(r,f)),this.matchTNodeWithReadOption(n,r,Dl(r,n,f,!1,!1))}else l===ch?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Dl(r,n,l,!1,!1))}matchTNodeWithReadOption(n,r,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===sl||u===Op||u===ch&&4&r.type)this.addMatch(r.index,-2);else{const f=Dl(r,n,u,!1,!1);null!==f&&this.addMatch(r.index,f)}else this.addMatch(r.index,l)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function rw(t,n){const r=t.localNames;if(null!==r)for(let l=0;l<r.length;l+=2)if(r[l]===n)return r[l+1];return null}function aw(t,n,r,l){return-1===r?function sw(t,n){return 11&t.type?Ja(t,n):4&t.type?Ep(t,n):null}(n,t):-2===r?function cw(t,n,r){return r===sl?Ja(n,t):r===ch?Ep(n,t):r===Op?uy(n,t):void 0}(t,n,l):fa(t,t[Ft],r,n)}function gy(t,n,r,l){const u=n[Li].queries[l];if(null===u.matches){const f=t.data,m=r.matches,C=[];for(let E=0;E<m.length;E+=2){const N=m[E];C.push(N<0?null:aw(n,f[N],m[E+1],r.metadata.read))}u.matches=C}return u.matches}function k_(t,n,r,l){const u=t.queries.getByIndex(r),f=u.matches;if(null!==f){const m=gy(t,n,u,r);for(let C=0;C<f.length;C+=2){const E=f[C];if(E>0)l.push(m[C/2]);else{const N=f[C+1],Y=n[-E];for(let he=yo;he<Y.length;he++){const Ie=Y[he];Ie[br]===Ie[Vn]&&k_(Ie[Ft],Ie,N,l)}if(null!==Y[yr]){const he=Y[yr];for(let Ie=0;Ie<he.length;Ie++){const Ve=he[Ie];k_(Ve[Ft],Ve,N,l)}}}}}return l}function my(t){const n=_t(),r=gn(),l=hi();hs(l+1);const u=xy(r,l);if(t.dirty&&function Eo(t){return 4==(4&t[hn])}(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const f=u.crossesNgTemplate?k_(r,n,l,[]):gy(r,n,u,l);t.reset(f,gm),t.notifyOnChanges()}return!0}return!1}function _y(t,n,r,l){const u=gn();if(u.firstCreatePass){const f=Ko();(function yy(t,n,r){null===t.queries&&(t.queries=new M_),t.queries.track(new w_(n,r))})(u,new py(n,r,l),f.index),function uw(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(u,t),2==(2&r)&&(u.staticContentQueries=!0)}!function vy(t,n,r){const l=new v_(4==(4&r));(function I(t,n,r,l){const u=Tb(n);u.push(r),t.firstCreatePass&&Pb(t).push(l,u.length-1)})(t,n,l,l.destroy),null===n[Li]&&(n[Li]=new C_),n[Li].queries.push(new x_(l))}(u,_t(),r)}function by(){return function dw(t,n){return t[Li].queries[n].queryList}(_t(),hi())}function xy(t,n){return t.queries.getByIndex(n)}function Cy(t,n){return Ep(t,n)}function E_(t){return!!ko(t)}const Uy=new xn("Application Initializer");let A_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,l)=>{this.resolve=r,this.reject=l}),this.appInits=gt(Uy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const u of this.appInits){const f=u();if(Jm(f))r.push(f);else if(f0(f)){const m=new Promise((C,E)=>{f.subscribe({complete:C,error:E})});r.push(m)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{l()}).catch(u=>{this.reject(u)}),0===r.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=kt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jy=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=kt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Pp=new xn("LocaleId",{providedIn:"root",factory:()=>gt(Pp,Wt.Optional|Wt.SkipSelf)||function Sw(){return typeof $localize<"u"&&$localize.locale||Bd}()}),Iw=new xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Vy=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new oe.X(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=kt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Fw{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let Nw=(()=>{class t{compileModuleSync(r){return new __(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const l=this.compileModuleSync(r),f=Ea(ko(r).declarations).reduce((m,C)=>{const E=kn(C);return E&&m.push(new Yu(E)),m},[]);return new Fw(l,f)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=kt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $y=new xn(""),Gy=new xn("");let R_,ik=(()=>{class t{constructor(r,l,u){this._ngZone=r,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,R_||(function rk(t){R_=t}(u),u.addToWindow(l)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(r)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,l,u){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),r(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:r,timeoutId:f,updateCb:u})}whenStable(r,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,l,u){return[]}static#e=this.\u0275fac=function(l){return new(l||t)(xt(wi),xt(Wy),xt(Gy))};static#t=this.\u0275prov=kt({token:t,factory:t.\u0275fac})}return t})(),Wy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(r,l){this._applications.set(r,l)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,l=!0){return R_?.findTestabilityInTree(this,r,l)??null}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=kt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Fc=null;const qy=new xn("AllowMultipleToken"),F_=new xn("PlatformDestroyListeners"),N_=new xn("appBootstrapListener");class ck{constructor(n,r){this.name=n,this.token=r}}function Jy(t,n,r=[]){const l=`Platform: ${n}`,u=new xn(l);return(f=[])=>{let m=L_();if(!m||m.injector.get(qy,!1)){const C=[...r,...f,{provide:u,useValue:!0}];t?t(C):function lk(t){if(Fc&&!Fc.get(qy,!1))throw new Ne(400,!1);(function Yy(){!function me(t){S=t}(()=>{throw new Ne(600,!1)})})(),Fc=t;const n=t.get(Xy);(function Ky(t){t.get(Hs,null)?.forEach(r=>r())})(t)}(function Qy(t=[],n){return ws.create({name:n,providers:[{provide:ad,useValue:"platform"},{provide:F_,useValue:new Set([()=>Fc=null])},...t]})}(C,l))}return function uk(t){const n=L_();if(!n)throw new Ne(401,!1);return n}()}}function L_(){return Fc?.get(Xy)??null}let Xy=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,l){const u=function hk(t="zone.js",n){return"noop"===t?new Hu:"zone.js"===t?new wi(n):t}(l?.ngZone,function ex(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return u.run(()=>{const f=function CM(t,n,r){return new m_(t,n,r)}(r.moduleType,this.injector,function rx(t){return[{provide:wi,useFactory:t},{provide:el,multi:!0,useFactory:()=>{const n=gt(pk,{optional:!0});return()=>n.initialize()}},{provide:ix,useFactory:fk},{provide:np,useFactory:Cm}]}(()=>u)),m=f.injector.get(wa,null);return u.runOutsideAngular(()=>{const C=u.onError.subscribe({next:E=>{m.handleError(E)}});f.onDestroy(()=>{Sp(this._modules,f),C.unsubscribe()})}),function tx(t,n,r){try{const l=r();return Jm(l)?l.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):l}catch(l){throw n.runOutsideAngular(()=>t.handleError(l)),l}}(m,u,()=>{const C=f.injector.get(A_);return C.runInitializers(),C.donePromise.then(()=>(function hv(t){dt(t,"Expected localeId to be defined"),"string"==typeof t&&(uv=t.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Pp,Bd)||Bd),this._moduleDoBootstrap(f),f))})})}bootstrapModule(r,l=[]){const u=nx({},l);return function sk(t,n,r){const l=new __(r);return Promise.resolve(l)}(0,0,r).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(r){const l=r.injector.get(Vd);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Ne(-403,!1);r.instance.ngDoBootstrap(l)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const r=this._injector.get(F_,null);r&&(r.forEach(l=>l()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(l){return new(l||t)(xt(ws))};static#t=this.\u0275prov=kt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function nx(t,n){return Array.isArray(n)?n.reduce(nx,t):{...t,...n}}let Vd=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=gt(ix),this.zoneIsStable=gt(np),this.componentTypes=[],this.components=[],this.isStable=gt(Vy).hasPendingTasks.pipe((0,Ce.w)(r=>r?(0,se.of)(!1):this.zoneIsStable),function rt(t,n=Oe.y){return t=t??Mt,(0,We.e)((r,l)=>{let u,f=!0;r.subscribe((0,Ke.x)(l,m=>{const C=n(m);(f||!t(u,C))&&(f=!1,u=C,l.next(m))}))})}(),(0,U.B)()),this._injector=gt(js)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,l){const u=r instanceof Hf;if(!this._injector.get(A_).done)throw!u&&Ii(r),new Ne(405,!1);let m;m=u?r:this._injector.get(vd).resolveComponentFactory(r),this.componentTypes.push(m.componentType);const C=function ak(t){return t.isBoundToModule}(m)?void 0:this._injector.get(_l),N=m.create(ws.NULL,[],l||m.selector,C),Y=N.location.nativeElement,he=N.injector.get($y,null);return he?.registerApplication(Y),N.onDestroy(()=>{this.detachView(N.hostView),Sp(this.components,N),he?.unregisterApplication(Y)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new Ne(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const l=r;this._views.push(l),l.attachToAppRef(this)}detachView(r){const l=r;Sp(this._views,l),l.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const l=this._injector.get(N_,[]);l.push(...this._bootstrapListeners),l.forEach(u=>u(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Sp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Ne(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=kt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sp(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}const ix=new xn("",{providedIn:"root",factory:()=>gt(wa).handleError.bind(void 0)});function fk(){const t=gt(wi),n=gt(wa);return r=>t.runOutsideAngular(()=>n.handleError(r))}let pk=(()=>{class t{constructor(){this.zone=gt(wi),this.applicationRef=gt(Vd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=kt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let mk=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=_k}return t})();function _k(t){return function bk(t,n,r){if(j(t)&&!r){const l=Dn(t.index,n);return new qu(l,l)}return 47&t.type?new qu(n[bo],n):null}(Ko(),_t(),16==(16&t))}class lx{constructor(){}supports(n){return dp(n)}create(n){return new wk(n)}}const Mk=(t,n)=>n;class wk{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Mk}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,l=this._removalsHead,u=0,f=null;for(;r||l;){const m=!l||r&&r.currentIndex<ux(l,u,f)?r:l,C=ux(m,u,f),E=m.currentIndex;if(m===l)u--,l=l._nextRemoved;else if(r=r._next,null==m.previousIndex)u++;else{f||(f=[]);const N=C-u,Y=E-u;if(N!=Y){for(let Ie=0;Ie<N;Ie++){const Ve=Ie<f.length?f[Ie]:f[Ie]=0,lt=Ve+Ie;Y<=lt&&lt<N&&(f[Ie]=Ve+1)}f[m.previousIndex]=Y-N}}C!==E&&n(m,C,E)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!dp(n))throw new Ne(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,f,m,r=this._itHead,l=!1;if(Array.isArray(n)){this.length=n.length;for(let C=0;C<this.length;C++)f=n[C],m=this._trackByFn(C,f),null!==r&&Object.is(r.trackById,m)?(l&&(r=this._verifyReinsertion(r,f,m,C)),Object.is(r.item,f)||this._addIdentityChange(r,f)):(r=this._mismatch(r,f,m,C),l=!0),r=r._next}else u=0,function nC(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let l;for(;!(l=r.next()).done;)n(l.value)}}(n,C=>{m=this._trackByFn(u,C),null!==r&&Object.is(r.trackById,m)?(l&&(r=this._verifyReinsertion(r,C,m,u)),Object.is(r.item,C)||this._addIdentityChange(r,C)):(r=this._mismatch(r,C,m,u),l=!0),r=r._next,u++}),this.length=u;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,l,u){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,f,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,f,u)):n=this._addAfter(new kk(r,l),f,u),n}_verifyReinsertion(n,r,l,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?n=this._reinsertAfter(f,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,f=n._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(n,r,l),this._addToMoves(n,l),n}_moveAfter(n,r,l){return this._unlink(n),this._insertAfter(n,r,l),this._addToMoves(n,l),n}_addAfter(n,r,l){return this._insertAfter(n,r,l),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,l){const u=null===r?this._itHead:r._next;return n._next=u,n._prev=r,null===u?this._itTail=n:u._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new dx),this._linkedRecords.put(n),n.currentIndex=l,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,l=n._next;return null===r?this._itHead=l:r._next=l,null===l?this._itTail=r:l._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dx),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class kk{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ek{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===r||r<=l.currentIndex)&&Object.is(l.trackById,n))return l;return null}remove(n){const r=n._prevDup,l=n._nextDup;return null===r?this._head=l:r._nextDup=l,null===l?this._tail=r:l._prevDup=r,null===this._head}}class dx{constructor(){this.map=new Map}put(n){const r=n.trackById;let l=this.map.get(r);l||(l=new Ek,this.map.set(r,l)),l.add(n)}get(n,r){const u=this.map.get(n);return u?u.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ux(t,n,r){const l=t.previousIndex;if(null===l)return l;let u=0;return r&&l<r.length&&(u=r[l]),l+n+u}class hx{constructor(){}supports(n){return n instanceof Map||Vm(n)}create(){return new Dk}}class Dk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||Vm(n)))throw new Ne(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(l,u)=>{if(r&&r.key===u)this._maybeAddToChanges(r,l),this._appendAfter=r,r=r._next;else{const f=this._getOrCreateRecordForKey(u,l);r=this._insertBeforeOrAppend(r,f)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let l=r;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const l=n._prev;return r._next=n,r._prev=l,n._prev=r,l&&(l._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,r);const f=u._prev,m=u._next;return f&&(f._next=m),m&&(m._prev=f),u._next=null,u._prev=null,u}const l=new Ok(n);return this._records.set(n,l),l.currentValue=r,this._addToAdditions(l),l}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(l=>r(n[l],l))}}class Ok{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fx(){return new H_([new lx])}let H_=(()=>{class t{static#e=this.\u0275prov=kt({token:t,providedIn:"root",factory:fx});constructor(r){this.factories=r}static create(r,l){if(null!=l){const u=l.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:l=>t.create(r,l||fx()),deps:[[t,new $c,new Sl]]}}find(r){const l=this.factories.find(u=>u.supports(r));if(null!=l)return l;throw new Ne(901,!1)}}return t})();function px(){return new z_([new hx])}let z_=(()=>{class t{static#e=this.\u0275prov=kt({token:t,providedIn:"root",factory:px});constructor(r){this.factories=r}static create(r,l){if(l){const u=l.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:l=>t.create(r,l||px()),deps:[[t,new $c,new Sl]]}}find(r){const l=this.factories.find(u=>u.supports(r));if(l)return l;throw new Ne(901,!1)}}return t})();const Ak=Jy(null,"core",[]);let Sk=(()=>{class t{constructor(r){}static#e=this.\u0275fac=function(l){return new(l||t)(xt(Vd))};static#t=this.\u0275mod=ci({type:t});static#n=this.\u0275inj=Gt({})}return t})();function zk(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function $k(t){const n=kn(t);if(!n)return null;const r=new Yu(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},6223:(Fe,De,O)=>{"use strict";O.d(De,{EJ:()=>Ri,F:()=>Xo,Fj:()=>Oe,JJ:()=>Dt,JL:()=>Ot,Kr:()=>Vn,On:()=>_o,UX:()=>Hn,Wl:()=>oe,YN:()=>_r,_Y:()=>Es,eT:()=>Io,kI:()=>it,qu:()=>yr,sg:()=>ci,u:()=>ro,u5:()=>fi});var g=O(9291),B=O(6814),X=O(7715),J=O(9315),o=O(7398);let K=(()=>{class L{constructor(P,Q){this._renderer=P,this._elementRef=Q,this.onChange=ve=>{},this.onTouched=()=>{}}setProperty(P,Q){this._renderer.setProperty(this._elementRef.nativeElement,P,Q)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(Q){return new(Q||L)(g.Y36(g.Qsj),g.Y36(g.SBq))};static#t=this.\u0275dir=g.lG2({type:L})}return L})(),ne=(()=>{class L extends K{static#e=this.\u0275fac=function(){let P;return function(ve){return(P||(P=g.n5z(L)))(ve||L)}}();static#t=this.\u0275dir=g.lG2({type:L,features:[g.qOj]})}return L})();const be=new g.OlP("NgValueAccessor"),ae={provide:be,useExisting:(0,g.Gpc)(()=>oe),multi:!0};let oe=(()=>{class L extends ne{writeValue(P){this.setProperty("checked",P)}static#e=this.\u0275fac=function(){let P;return function(ve){return(P||(P=g.n5z(L)))(ve||L)}}();static#t=this.\u0275dir=g.lG2({type:L,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(Q,ve){1&Q&&g.NdJ("change",function(En){return ve.onChange(En.target.checked)})("blur",function(){return ve.onTouched()})},features:[g._Bn([ae]),g.qOj]})}return L})();const se={provide:be,useExisting:(0,g.Gpc)(()=>Oe),multi:!0},Ce=new g.OlP("CompositionEventMode");let Oe=(()=>{class L extends K{constructor(P,Q,ve){super(P,Q),this._compositionMode=ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function U(){const L=(0,B.q)()?(0,B.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(Q){return new(Q||L)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Ce,8))};static#t=this.\u0275dir=g.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Q,ve){1&Q&&g.NdJ("input",function(En){return ve._handleInput(En.target.value)})("blur",function(){return ve.onTouched()})("compositionstart",function(){return ve._compositionStart()})("compositionend",function(En){return ve._compositionEnd(En.target.value)})},features:[g._Bn([se]),g.qOj]})}return L})();function We(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function Ke(L){return null!=L&&"number"==typeof L.length}const rt=new g.OlP("NgValidators"),Mt=new g.OlP("NgAsyncValidators"),Pe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class it{static min(j){return function de(L){return j=>{if(We(j.value)||We(L))return null;const P=parseFloat(j.value);return!isNaN(P)&&P<L?{min:{min:L,actual:j.value}}:null}}(j)}static max(j){return function ue(L){return j=>{if(We(j.value)||We(L))return null;const P=parseFloat(j.value);return!isNaN(P)&&P>L?{max:{max:L,actual:j.value}}:null}}(j)}static required(j){return function Le(L){return We(L.value)?{required:!0}:null}(j)}static requiredTrue(j){return function pe(L){return!0===L.value?null:{required:!0}}(j)}static email(j){return function ce(L){return We(L.value)||Pe.test(L.value)?null:{email:!0}}(j)}static minLength(j){return function Re(L){return j=>We(j.value)||!Ke(j.value)?null:j.value.length<L?{minlength:{requiredLength:L,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function ze(L){return j=>Ke(j.value)&&j.value.length>L?{maxlength:{requiredLength:L,actualLength:j.value.length}}:null}(j)}static pattern(j){return function at(L){if(!L)return Je;let j,P;return"string"==typeof L?(P="","^"!==L.charAt(0)&&(P+="^"),P+=L,"$"!==L.charAt(L.length-1)&&(P+="$"),j=new RegExp(P)):(P=L.toString(),j=L),Q=>{if(We(Q.value))return null;const ve=Q.value;return j.test(ve)?null:{pattern:{requiredPattern:P,actualValue:ve}}}}(j)}static nullValidator(j){return null}static compose(j){return je(j)}static composeAsync(j){return Xe(j)}}function Je(L){return null}function Ne(L){return null!=L}function ft(L){return(0,g.QGY)(L)?(0,X.D)(L):L}function vt(L){let j={};return L.forEach(P=>{j=null!=P?{...j,...P}:j}),0===Object.keys(j).length?null:j}function Ut(L,j){return j.map(P=>P(L))}function qn(L){return L.map(j=>function vn(L){return!L.validate}(j)?j:P=>j.validate(P))}function je(L){if(!L)return null;const j=L.filter(Ne);return 0==j.length?null:function(P){return vt(Ut(P,j))}}function Se(L){return null!=L?je(qn(L)):null}function Xe(L){if(!L)return null;const j=L.filter(Ne);return 0==j.length?null:function(P){const Q=Ut(P,j).map(ft);return(0,J.D)(Q).pipe((0,o.U)(vt))}}function et(L){return null!=L?Xe(qn(L)):null}function mt(L,j){return null===L?[j]:Array.isArray(L)?[...L,j]:[L,j]}function yt(L){return L._rawValidators}function Zt(L){return L._rawAsyncValidators}function on(L){return L?Array.isArray(L)?L:[L]:[]}function Bn(L,j){return Array.isArray(L)?L.includes(j):L===j}function Qt(L,j){const P=on(j);return on(L).forEach(ve=>{Bn(P,ve)||P.push(ve)}),P}function Un(L,j){return on(j).filter(P=>!Bn(L,P))}class Vt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=Se(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=et(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,P){return!!this.control&&this.control.hasError(j,P)}getError(j,P){return this.control?this.control.getError(j,P):null}}class fe extends Vt{get formDirective(){return null}get path(){return null}}class Ue extends Vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pt{constructor(j){this._cd=j}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Dt=(()=>{class L extends pt{constructor(P){super(P)}static#e=this.\u0275fac=function(Q){return new(Q||L)(g.Y36(Ue,2))};static#t=this.\u0275dir=g.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Q,ve){2&Q&&g.ekj("ng-untouched",ve.isUntouched)("ng-touched",ve.isTouched)("ng-pristine",ve.isPristine)("ng-dirty",ve.isDirty)("ng-valid",ve.isValid)("ng-invalid",ve.isInvalid)("ng-pending",ve.isPending)},features:[g.qOj]})}return L})(),Ot=(()=>{class L extends pt{constructor(P){super(P)}static#e=this.\u0275fac=function(Q){return new(Q||L)(g.Y36(fe,10))};static#t=this.\u0275dir=g.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Q,ve){2&Q&&g.ekj("ng-untouched",ve.isUntouched)("ng-touched",ve.isTouched)("ng-pristine",ve.isPristine)("ng-dirty",ve.isDirty)("ng-valid",ve.isValid)("ng-invalid",ve.isInvalid)("ng-pending",ve.isPending)("ng-submitted",ve.isSubmitted)},features:[g.qOj]})}return L})();const Qo="VALID",Pi="INVALID",Gn="PENDING",Fo="DISABLED";function No(L){return(_i(L)?L.validators:L)||null}function Oo(L,j){return(_i(j)?j.asyncValidators:L)||null}function _i(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function bi(L,j,P){const Q=L.controls;if(!(j?Object.keys(Q):Q).length)throw new g.vHH(1e3,"");if(!Q[P])throw new g.vHH(1001,"")}function fr(L,j,P){L._forEachChild((Q,ve)=>{if(void 0===P[ve])throw new g.vHH(1002,"")})}class Mo{constructor(j,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===Qo}get invalid(){return this.status===Pi}get pending(){return this.status==Gn}get disabled(){return this.status===Fo}get enabled(){return this.status!==Fo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(Qt(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(Qt(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(Un(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(Un(j,this._rawAsyncValidators))}hasValidator(j){return Bn(this._rawValidators,j)}hasAsyncValidator(j){return Bn(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=Gn,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const P=this._parentMarkedDirty(j.onlySelf);this.status=Fo,this.errors=null,this._forEachChild(Q=>{Q.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:P}),this._onDisabledChange.forEach(Q=>Q(!0))}enable(j={}){const P=this._parentMarkedDirty(j.onlySelf);this.status=Qo,this._forEachChild(Q=>{Q.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:P}),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qo||this.status===Gn)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fo:Qo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=Gn,this._hasOwnPendingAsyncValidator=!0;const P=ft(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,P={}){this.errors=j,this._updateControlsErrors(!1!==P.emitEvent)}get(j){let P=j;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((Q,ve)=>Q&&Q._find(ve),this)}getError(j,P){const Q=P?this.get(P):this;return Q&&Q.errors?Q.errors[j]:null}hasError(j,P){return!!this.getError(j,P)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Fo:this.errors?Pi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gn)?Gn:this._anyControlsHaveStatus(Pi)?Pi:Qo}_anyControlsHaveStatus(j){return this._anyControls(P=>P.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){_i(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function xn(L){return Array.isArray(L)?Se(L):L||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function Ai(L){return Array.isArray(L)?et(L):L||null}(this._rawAsyncValidators)}}class tt extends Mo{constructor(j,P,Q){super(No(P),Oo(Q,P)),this.controls=j,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,P){return this.controls[j]?this.controls[j]:(this.controls[j]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(j,P,Q={}){this.registerControl(j,P),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(j,P={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(j,P,Q={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],P&&this.registerControl(j,P),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,P={}){fr(this,0,j),Object.keys(j).forEach(Q=>{bi(this,!0,Q),this.controls[Q].setValue(j[Q],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(j,P={}){null!=j&&(Object.keys(j).forEach(Q=>{const ve=this.controls[Q];ve&&ve.patchValue(j[Q],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(j={},P={}){this._forEachChild((Q,ve)=>{Q.reset(j?j[ve]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(j,P,Q)=>(j[Q]=P.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(P,Q)=>!!Q._syncPendingControls()||P);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(P=>{const Q=this.controls[P];Q&&j(Q,P)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[P,Q]of Object.entries(this.controls))if(this.contains(P)&&j(Q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,Q,ve)=>((Q.enabled||this.disabled)&&(P[ve]=Q.value),P))}_reduceChildren(j,P){let Q=j;return this._forEachChild((ve,zt)=>{Q=P(Q,ve,zt)}),Q}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}class Ae extends tt{}const It=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Xt}),Xt="always";function Sn(L,j){return[...j.path,L]}function Pn(L,j,P=Xt){Be(L,j),j.valueAccessor.writeValue(L.value),(L.disabled||"always"===P)&&j.valueAccessor.setDisabledState?.(L.disabled),function Te(L,j){j.valueAccessor.registerOnChange(P=>{L._pendingValue=P,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&xt(L,j)})}(L,j),function Nt(L,j){const P=(Q,ve)=>{j.valueAccessor.writeValue(Q),ve&&j.viewToModelUpdate(Q)};L.registerOnChange(P),j._registerOnDestroy(()=>{L._unregisterOnChange(P)})}(L,j),function ht(L,j){j.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&xt(L,j),"submit"!==L.updateOn&&L.markAsTouched()})}(L,j),function Ei(L,j){if(j.valueAccessor.setDisabledState){const P=Q=>{j.valueAccessor.setDisabledState(Q)};L.registerOnDisabledChange(P),j._registerOnDestroy(()=>{L._unregisterOnDisabledChange(P)})}}(L,j)}function ao(L,j,P=!0){const Q=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(Q),j.valueAccessor.registerOnTouched(Q)),ke(L,j),L&&(j._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function Go(L,j){L.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(j)})}function Be(L,j){const P=yt(L);null!==j.validator?L.setValidators(mt(P,j.validator)):"function"==typeof P&&L.setValidators([P]);const Q=Zt(L);null!==j.asyncValidator?L.setAsyncValidators(mt(Q,j.asyncValidator)):"function"==typeof Q&&L.setAsyncValidators([Q]);const ve=()=>L.updateValueAndValidity();Go(j._rawValidators,ve),Go(j._rawAsyncValidators,ve)}function ke(L,j){let P=!1;if(null!==L){if(null!==j.validator){const ve=yt(L);if(Array.isArray(ve)&&ve.length>0){const zt=ve.filter(En=>En!==j.validator);zt.length!==ve.length&&(P=!0,L.setValidators(zt))}}if(null!==j.asyncValidator){const ve=Zt(L);if(Array.isArray(ve)&&ve.length>0){const zt=ve.filter(En=>En!==j.asyncValidator);zt.length!==ve.length&&(P=!0,L.setAsyncValidators(zt))}}}const Q=()=>{};return Go(j._rawValidators,Q),Go(j._rawAsyncValidators,Q),P}function xt(L,j){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function gt(L,j){Be(L,j)}function Lo(L,j){if(!L.hasOwnProperty("model"))return!1;const P=L.model;return!!P.isFirstChange()||!Object.is(j,P.currentValue)}function wn(L,j){L._syncPendingControls(),j.forEach(P=>{const Q=P.control;"submit"===Q.updateOn&&Q._pendingChange&&(P.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}function On(L,j){if(!j)return null;let P,Q,ve;return Array.isArray(j),j.forEach(zt=>{zt.constructor===Oe?P=zt:function vi(L){return Object.getPrototypeOf(L.constructor)===ne}(zt)?Q=zt:ve=zt}),ve||Q||P||null}const oo={provide:fe,useExisting:(0,g.Gpc)(()=>Xo)},mo=(()=>Promise.resolve())();let Xo=(()=>{class L extends fe{constructor(P,Q,ve){super(),this.callSetDisabledState=ve,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new tt({},Se(P),et(Q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){mo.then(()=>{const Q=this._findContainer(P.path);P.control=Q.registerControl(P.name,P.control),Pn(P.control,P,this.callSetDisabledState),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){mo.then(()=>{const Q=this._findContainer(P.path);Q&&Q.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){mo.then(()=>{const Q=this._findContainer(P.path),ve=new tt({});gt(ve,P),Q.registerControl(P.name,ve),ve.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){mo.then(()=>{const Q=this._findContainer(P.path);Q&&Q.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,Q){mo.then(()=>{this.form.get(P.path).setValue(Q)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submitted=!0,wn(this.form,this._directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}static#e=this.\u0275fac=function(Q){return new(Q||L)(g.Y36(rt,10),g.Y36(Mt,10),g.Y36(It,8))};static#t=this.\u0275dir=g.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Q,ve){1&Q&&g.NdJ("submit",function(En){return ve.onSubmit(En)})("reset",function(){return ve.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([oo]),g.qOj]})}return L})();function Bo(L,j){const P=L.indexOf(j);P>-1&&L.splice(P,1)}function yi(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const Uo=class extends Mo{constructor(j=null,P,Q){super(No(P),Oo(Q,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_i(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=yi(j)?j.value:j)}setValue(j,P={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(j,P={}){this.setValue(j,P)}reset(j=this.defaultValue,P={}){this._applyFormState(j),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){Bo(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){Bo(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){yi(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}},ks={provide:Ue,useExisting:(0,g.Gpc)(()=>_o)},Gs=(()=>Promise.resolve())();let _o=(()=>{class L extends Ue{constructor(P,Q,ve,zt,En,Tr){super(),this._changeDetectorRef=En,this.callSetDisabledState=Tr,this.control=new Uo,this._registered=!1,this.name="",this.update=new g.vpe,this._parent=P,this._setValidators(Q),this._setAsyncValidators(ve),this.valueAccessor=On(0,zt)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const Q=P.name.previousValue;this.formDirective.removeControl({name:Q,path:this._getPath(Q)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),Lo(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){Gs.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const Q=P.isDisabled.currentValue,ve=0!==Q&&(0,g.VuI)(Q);Gs.then(()=>{ve&&!this.control.disabled?this.control.disable():!ve&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?Sn(P,this._parent):[P]}static#e=this.\u0275fac=function(Q){return new(Q||L)(g.Y36(fe,9),g.Y36(rt,10),g.Y36(Mt,10),g.Y36(be,10),g.Y36(g.sBO,8),g.Y36(It,8))};static#t=this.\u0275dir=g.lG2({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([ks]),g.qOj,g.TTD]})}return L})(),Es=(()=>{class L{static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275dir=g.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return L})(),gr=(()=>{class L{static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275mod=g.oAB({type:L});static#n=this.\u0275inj=g.cJS({})}return L})();const Si={provide:be,useExisting:(0,g.Gpc)(()=>Io),multi:!0};let Io=(()=>{class L extends ne{writeValue(P){this.setProperty("value",parseFloat(P))}registerOnChange(P){this.onChange=Q=>{P(""==Q?null:parseFloat(Q))}}static#e=this.\u0275fac=function(){let P;return function(ve){return(P||(P=g.n5z(L)))(ve||L)}}();static#t=this.\u0275dir=g.lG2({type:L,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(Q,ve){1&Q&&g.NdJ("change",function(En){return ve.onChange(En.target.value)})("input",function(En){return ve.onChange(En.target.value)})("blur",function(){return ve.onTouched()})},features:[g._Bn([Si]),g.qOj]})}return L})();const ir=new g.OlP("NgModelWithFormControlWarning"),uo={provide:fe,useExisting:(0,g.Gpc)(()=>ci)};let ci=(()=>{class L extends fe{constructor(P,Q,ve){super(),this.callSetDisabledState=ve,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(P),this._setAsyncValidators(Q)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ke(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const Q=this.form.get(P.path);return Pn(Q,P,this.callSetDisabledState),Q.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),Q}getControl(P){return this.form.get(P.path)}removeControl(P){ao(P.control||null,P,!1),function _n(L,j){const P=L.indexOf(j);P>-1&&L.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,Q){this.form.get(P.path).setValue(Q)}onSubmit(P){return this.submitted=!0,wn(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const Q=P.control,ve=this.form.get(P.path);Q!==ve&&(ao(Q||null,P),(L=>L instanceof Uo)(ve)&&(Pn(ve,P,this.callSetDisabledState),P.control=ve))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const Q=this.form.get(P.path);gt(Q,P),Q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const Q=this.form.get(P.path);Q&&function Nn(L,j){return ke(L,j)}(Q,P)&&Q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Be(this.form,this),this._oldForm&&ke(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Q){return new(Q||L)(g.Y36(rt,10),g.Y36(Mt,10),g.Y36(It,8))};static#t=this.\u0275dir=g.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(Q,ve){1&Q&&g.NdJ("submit",function(En){return ve.onSubmit(En)})("reset",function(){return ve.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([uo]),g.qOj,g.TTD]})}return L})();const jo={provide:Ue,useExisting:(0,g.Gpc)(()=>ro)};let ro=(()=>{class L extends Ue{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,Q,ve,zt,En){super(),this._ngModelWarningConfig=En,this._added=!1,this.name=null,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(Q),this._setAsyncValidators(ve),this.valueAccessor=On(0,zt)}ngOnChanges(P){this._added||this._setUpControl(),Lo(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return Sn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Q){return new(Q||L)(g.Y36(fe,13),g.Y36(rt,10),g.Y36(Mt,10),g.Y36(be,10),g.Y36(ir,8))};static#n=this.\u0275dir=g.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([jo]),g.qOj,g.TTD]})}return L})();const Ii={provide:be,useExisting:(0,g.Gpc)(()=>Ri),multi:!0};function ko(L,j){return null==L?`${j}`:(j&&"object"==typeof j&&(j="Object"),`${L}: ${j}`.slice(0,50))}let Ri=(()=>{class L extends ne{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(P){this._compareWith=P}writeValue(P){this.value=P;const ve=ko(this._getOptionId(P),P);this.setProperty("value",ve)}registerOnChange(P){this.onChange=Q=>{this.value=this._getOptionValue(Q),P(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(P){for(const Q of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Q),P))return Q;return null}_getOptionValue(P){const Q=function Wi(L){return L.split(":")[0]}(P);return this._optionMap.has(Q)?this._optionMap.get(Q):P}static#e=this.\u0275fac=function(){let P;return function(ve){return(P||(P=g.n5z(L)))(ve||L)}}();static#t=this.\u0275dir=g.lG2({type:L,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Q,ve){1&Q&&g.NdJ("change",function(En){return ve.onChange(En.target.value)})("blur",function(){return ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Ii]),g.qOj]})}return L})(),_r=(()=>{class L{constructor(P,Q,ve){this._element=P,this._renderer=Q,this._select=ve,this._select&&(this.id=this._select._registerOption())}set ngValue(P){null!=this._select&&(this._select._optionMap.set(this.id,P),this._setElementValue(ko(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._setElementValue(P),this._select&&this._select.writeValue(this._select.value)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Q){return new(Q||L)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Ri,9))};static#t=this.\u0275dir=g.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return L})();const qr={provide:be,useExisting:(0,g.Gpc)(()=>hn),multi:!0};function Lr(L,j){return null==L?`${j}`:("string"==typeof j&&(j=`'${j}'`),j&&"object"==typeof j&&(j="Object"),`${L}: ${j}`.slice(0,50))}let hn=(()=>{class L extends ne{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(P){this._compareWith=P}writeValue(P){let Q;if(this.value=P,Array.isArray(P)){const ve=P.map(zt=>this._getOptionId(zt));Q=(zt,En)=>{zt._setSelected(ve.indexOf(En.toString())>-1)}}else Q=(ve,zt)=>{ve._setSelected(!1)};this._optionMap.forEach(Q)}registerOnChange(P){this.onChange=Q=>{const ve=[],zt=Q.selectedOptions;if(void 0!==zt){const En=zt;for(let Tr=0;Tr<En.length;Tr++){const Br=this._getOptionValue(En[Tr].value);ve.push(Br)}}else{const En=Q.options;for(let Tr=0;Tr<En.length;Tr++){const Pr=En[Tr];if(Pr.selected){const Br=this._getOptionValue(Pr.value);ve.push(Br)}}}this.value=ve,P(ve)}}_registerOption(P){const Q=(this._idCounter++).toString();return this._optionMap.set(Q,P),Q}_getOptionId(P){for(const Q of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Q)._value,P))return Q;return null}_getOptionValue(P){const Q=function Yn(L){return L.split(":")[0]}(P);return this._optionMap.has(Q)?this._optionMap.get(Q)._value:P}static#e=this.\u0275fac=function(){let P;return function(ve){return(P||(P=g.n5z(L)))(ve||L)}}();static#t=this.\u0275dir=g.lG2({type:L,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Q,ve){1&Q&&g.NdJ("change",function(En){return ve.onChange(En.target)})("blur",function(){return ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([qr]),g.qOj]})}return L})(),Vn=(()=>{class L{constructor(P,Q,ve){this._element=P,this._renderer=Q,this._select=ve,this._select&&(this.id=this._select._registerOption(this))}set ngValue(P){null!=this._select&&(this._value=P,this._setElementValue(Lr(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._select?(this._value=P,this._setElementValue(Lr(this.id,P)),this._select.writeValue(this._select.value)):this._setElementValue(P)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}_setSelected(P){this._renderer.setProperty(this._element.nativeElement,"selected",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Q){return new(Q||L)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(hn,9))};static#t=this.\u0275dir=g.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return L})(),Ui=(()=>{class L{static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275mod=g.oAB({type:L});static#n=this.\u0275inj=g.cJS({imports:[gr]})}return L})();class Qi extends Mo{constructor(j,P,Q){super(No(P),Oo(Q,P)),this.controls=j,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[this._adjustIndex(j)]}push(j,P={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(j,P,Q={}){this.controls.splice(j,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:Q.emitEvent})}removeAt(j,P={}){let Q=this._adjustIndex(j);Q<0&&(Q=0),this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),this.controls.splice(Q,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(j,P,Q={}){let ve=this._adjustIndex(j);ve<0&&(ve=0),this.controls[ve]&&this.controls[ve]._registerOnCollectionChange(()=>{}),this.controls.splice(ve,1),P&&(this.controls.splice(ve,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,P={}){fr(this,0,j),j.forEach((Q,ve)=>{bi(this,!1,ve),this.at(ve).setValue(Q,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(j,P={}){null!=j&&(j.forEach((Q,ve)=>{this.at(ve)&&this.at(ve).patchValue(Q,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(j=[],P={}){this._forEachChild((Q,ve)=>{Q.reset(j[ve],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(j=>j.getRawValue())}clear(j={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_adjustIndex(j){return j<0?j+this.length:j}_syncPendingControls(){let j=this.controls.reduce((P,Q)=>!!Q._syncPendingControls()||P,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((P,Q)=>{j(P,Q)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(P=>P.enabled&&j(P))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}_find(j){return this.at(j)??null}}function Mi(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let yr=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new L;return P.useNonNullable=!0,P}group(P,Q=null){const ve=this._reduceControls(P);let zt={};return Mi(Q)?zt=Q:null!==Q&&(zt.validators=Q.validator,zt.asyncValidators=Q.asyncValidator),new tt(ve,zt)}record(P,Q=null){const ve=this._reduceControls(P);return new Ae(ve,Q)}control(P,Q,ve){let zt={};return this.useNonNullable?(Mi(Q)?zt=Q:(zt.validators=Q,zt.asyncValidators=ve),new Uo(P,{...zt,nonNullable:!0})):new Uo(P,Q,ve)}array(P,Q,ve){const zt=P.map(En=>this._createControl(En));return new Qi(zt,Q,ve)}_reduceControls(P){const Q={};return Object.keys(P).forEach(ve=>{Q[ve]=this._createControl(P[ve])}),Q}_createControl(P){return P instanceof Uo||P instanceof Mo?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275prov=g.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),fi=(()=>{class L{static withConfig(P){return{ngModule:L,providers:[{provide:It,useValue:P.callSetDisabledState??Xt}]}}static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275mod=g.oAB({type:L});static#n=this.\u0275inj=g.cJS({imports:[Ui]})}return L})(),Hn=(()=>{class L{static withConfig(P){return{ngModule:L,providers:[{provide:ir,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:It,useValue:P.callSetDisabledState??Xt}]}}static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275mod=g.oAB({type:L});static#n=this.\u0275inj=g.cJS({imports:[Ui]})}return L})()},1809:(Fe,De,O)=>{"use strict";O.d(De,{BQ:()=>Rn,si:()=>Hi});var g=O(9291),B=O(6814);let X;try{X=typeof Intl<"u"&&Intl.v8BreakIterator}catch{X=!1}let ae,J=(()=>{class le{constructor($){this._platformId=$,this.isBrowser=this._platformId?(0,B.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!X)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(re){return new(re||le)(g.LFG(g.Lbi))};static#t=this.\u0275prov=g.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function se(le){return function oe(){if(null==ae&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ae=!0}))}finally{ae=ae||!1}return ae}()?le:!!le.capture}function mr(le){return Array.isArray(le)?le:[le]}var Or=O(8645),rs=O(2572),Di=O(5211),kn=O(5592),jo=O(8180),ro=O(2181),ko=O(7394);class Wi extends ko.w0{constructor(G,$){super()}schedule(G,$=0){return this}}const Ri={setInterval(le,G,...$){const{delegate:re}=Ri;return re?.setInterval?re.setInterval(le,G,...$):setInterval(le,G,...$)},clearInterval(le){const{delegate:G}=Ri;return(G?.clearInterval||clearInterval)(le)},delegate:void 0};var _r=O(9039);const Lr={now:()=>(Lr.delegate||Date).now(),delegate:void 0};class Yn{constructor(G,$=Yn.now){this.schedulerActionCtor=G,this.now=$}schedule(G,$=0,re){return new this.schedulerActionCtor(this,G).schedule(re,$)}}Yn.now=Lr.now;const hn=new class Ft extends Yn{constructor(G,$=Yn.now){super(G,$),this.actions=[],this._active=!1}flush(G){const{actions:$}=this;if(this._active)return void $.push(G);let re;this._active=!0;do{if(re=G.execute(G.state,G.delay))break}while(G=$.shift());if(this._active=!1,re){for(;G=$.shift();)G.unsubscribe();throw re}}}(class qr extends Wi{constructor(G,$){super(G,$),this.scheduler=G,this.work=$,this.pending=!1}schedule(G,$=0){var re;if(this.closed)return this;this.state=G;const Ze=this.id,v=this.scheduler;return null!=Ze&&(this.id=this.recycleAsyncId(v,Ze,$)),this.pending=!0,this.delay=$,this.id=null!==(re=this.id)&&void 0!==re?re:this.requestAsyncId(v,this.id,$),this}requestAsyncId(G,$,re=0){return Ri.setInterval(G.flush.bind(G,this),re)}recycleAsyncId(G,$,re=0){if(null!=re&&this.delay===re&&!1===this.pending)return $;null!=$&&Ri.clearInterval($)}execute(G,$){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(G,$);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(G,$){let Ze,re=!1;try{this.work(G)}catch(v){re=!0,Ze=v||new Error("Scheduled action threw falsy error")}if(re)return this.unsubscribe(),Ze}unsubscribe(){if(!this.closed){const{id:G,scheduler:$}=this,{actions:re}=$;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_r.P)(re,this),null!=G&&(this.id=this.recycleAsyncId($,G,null)),this.delay=null,super.unsubscribe()}}});var oi=O(9360),qi=O(8251),Yi=O(7398),fo=O(7921),sr=O(9773);const fn=new Set;let Ci,ss=(()=>{class le{constructor($,re){this._platform=$,this._nonce=re,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bo}matchMedia($){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ni(le,G){if(!fn.has(le))try{Ci||(Ci=document.createElement("style"),G&&(Ci.nonce=G),Ci.setAttribute("type","text/css"),document.head.appendChild(Ci)),Ci.sheet&&(Ci.sheet.insertRule(`@media ${le} {body{ }}`,0),fn.add(le))}catch($){console.error($)}}($,this._nonce),this._matchMedia($)}static#e=this.\u0275fac=function(re){return new(re||le)(g.LFG(J),g.LFG(g.Ojb,8))};static#t=this.\u0275prov=g.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function bo(le){return{matches:"all"===le||""===le,media:le,addListener:()=>{},removeListener:()=>{}}}let br=(()=>{class le{constructor($,re){this._mediaMatcher=$,this._zone=re,this._queries=new Map,this._destroySubject=new Or.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched($){return vr(mr($)).some(Ze=>this._registerQuery(Ze).mql.matches)}observe($){const Ze=vr(mr($)).map(w=>this._registerQuery(w).observable);let v=(0,rs.a)(Ze);return v=(0,Di.z)(v.pipe((0,jo.q)(1)),v.pipe(function Ii(le){return(0,ro.h)((G,$)=>le<=$)}(1),function ho(le,G=hn){return(0,oi.e)(($,re)=>{let Ze=null,v=null,w=null;const y=()=>{if(Ze){Ze.unsubscribe(),Ze=null;const F=v;v=null,re.next(F)}};function D(){const F=w+le,W=G.now();if(W<F)return Ze=this.schedule(void 0,F-W),void re.add(Ze);y()}$.subscribe((0,qi.x)(re,F=>{v=F,w=G.now(),Ze||(Ze=G.schedule(D,le),re.add(Ze))},()=>{y(),re.complete()},void 0,()=>{v=Ze=null}))})}(0))),v.pipe((0,Yi.U)(w=>{const y={matches:!1,breakpoints:{}};return w.forEach(({matches:D,query:F})=>{y.matches=y.matches||D,y.breakpoints[F]=D}),y}))}_registerQuery($){if(this._queries.has($))return this._queries.get($);const re=this._mediaMatcher.matchMedia($),v={observable:new kn.y(w=>{const y=D=>this._zone.run(()=>w.next(D));return re.addListener(y),()=>{re.removeListener(y)}}).pipe((0,fo.O)(re),(0,Yi.U)(({matches:w})=>({query:$,matches:w})),(0,sr.R)(this._destroySubject)),mql:re};return this._queries.set($,v),v}static#e=this.\u0275fac=function(re){return new(re||le)(g.LFG(ss),g.LFG(g.R0b))};static#t=this.\u0275prov=g.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function vr(le){return le.map(G=>G.split(",")).reduce((G,$)=>G.concat($)).map(G=>G.trim())}const Xi="cdk-high-contrast-black-on-white",Ss="cdk-high-contrast-white-on-black",Mn="cdk-high-contrast-active";let io=(()=>{class le{constructor($,re){this._platform=$,this._document=re,this._breakpointSubscription=(0,g.f3M)(br).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const $=this._document.createElement("div");$.style.backgroundColor="rgb(1,2,3)",$.style.position="absolute",this._document.body.appendChild($);const re=this._document.defaultView||window,Ze=re&&re.getComputedStyle?re.getComputedStyle($):null,v=(Ze&&Ze.backgroundColor||"").replace(/ /g,"");switch($.remove(),v){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const $=this._document.body.classList;$.remove(Mn,Xi,Ss),this._hasCheckedHighContrastMode=!0;const re=this.getHighContrastMode();1===re?$.add(Mn,Xi):2===re&&$.add(Mn,Ss)}}static#e=this.\u0275fac=function(re){return new(re||le)(g.LFG(J),g.LFG(B.K0))};static#t=this.\u0275prov=g.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),Kn=(()=>{class le{static#e=this.\u0275fac=function(re){return new(re||le)};static#t=this.\u0275mod=g.oAB({type:le});static#n=this.\u0275inj=g.cJS({})}return le})();const qt=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function ut(){return!0}});let Rn=(()=>{class le{constructor($,re,Ze){this._sanityChecks=re,this._document=Ze,this._hasDoneGlobalChecks=!1,$._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled($){return!function de(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[$])}static#e=this.\u0275fac=function(re){return new(re||le)(g.LFG(io),g.LFG(qt,8),g.LFG(B.K0))};static#t=this.\u0275mod=g.oAB({type:le});static#n=this.\u0275inj=g.cJS({imports:[Kn,Kn]})}return le})();const Ht=se({passive:!0,capture:!0});class Kt{constructor(){this._events=new Map,this._delegateEventHandler=G=>{const $=function it(le){return le.composedPath?le.composedPath()[0]:le.target}(G);$&&this._events.get(G.type)?.forEach((re,Ze)=>{(Ze===$||Ze.contains($))&&re.forEach(v=>v.handleEvent(G))})}}addHandler(G,$,re,Ze){const v=this._events.get($);if(v){const w=v.get(re);w?w.add(Ze):v.set(re,new Set([Ze]))}else this._events.set($,new Map([[re,new Set([Ze])]])),G.runOutsideAngular(()=>{document.addEventListener($,this._delegateEventHandler,Ht)})}removeHandler(G,$,re){const Ze=this._events.get(G);if(!Ze)return;const v=Ze.get($);v&&(v.delete(re),0===v.size&&Ze.delete($),0===Ze.size&&(this._events.delete(G),document.removeEventListener(G,this._delegateEventHandler,Ht)))}}class Qr{static#e=this._eventManager=new Kt;constructor(G,$,re,Ze){this._target=G,this._ngZone=$,this._platform=Ze,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ze.isBrowser&&(this._containerElement=ci(re))}fadeInRipple(G,$,re={}){const Ze=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),v={...Co,...re.animation},w=re.radius||function ui(le,G,$){const re=Math.max(Math.abs(le-$.left),Math.abs(le-$.right)),Ze=Math.max(Math.abs(G-$.top),Math.abs(G-$.bottom));return Math.sqrt(re*re+Ze*Ze)}(G,$,Ze),y=G-Ze.left,D=$-Ze.top,F=v.enterDuration,W=document.createElement("div");W.classList.add("mat-ripple-element"),W.style.left=y-w+"px",W.style.top=D-w+"px",W.style.height=2*w+"px",W.style.width=2*w+"px",null!=re.color&&(W.style.backgroundColor=re.color),W.style.transitionDuration=`${F}ms`,this._containerElement.appendChild(W);const ge=window.getComputedStyle(W),qe=ge.transitionDuration,Rt="none"===ge.transitionProperty||"0s"===qe||"0s, 0s"===qe||0===Ze.width&&0===Ze.height,mn=new tn(this,W,re,Rt);W.style.transform="scale3d(1, 1, 1)",mn.state=0,re.persistent||(this._mostRecentTransientRipple=mn);return!Rt&&(F||v.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Zn=()=>this._finishRippleTransition(mn),hi=()=>this._destroyRipple(mn);W.addEventListener("transitionend",Zn),W.addEventListener("transitioncancel",hi)}),this._activeRipples.set(mn,null),(Rt||!F)&&this._finishRippleTransition(mn),mn}fadeOutRipple(G){if(2===G.state||3===G.state)return;const $=G.element,re={...Co,...G.config.animation};$.style.transitionDuration=`${re.exitDuration}ms`,$.style.opacity="0",G.state=2,(G._animationForciblyDisabledThroughCss||!re.exitDuration)&&this._finishRippleTransition(G)}fadeOutAll(){this._getActiveRipples().forEach(G=>G.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(G=>{G.config.persistent||G.fadeOut()})}setupTriggerEvents(G){const $=ci(G);!this._platform.isBrowser||!$||$===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=$,Eo.forEach(re=>{Qr._eventManager.addHandler(this._ngZone,re,$,this)}))}handleEvent(G){"mousedown"===G.type?this._onMousedown(G):"touchstart"===G.type?this._onTouchStart(G):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{di.forEach($=>{this._triggerElement.addEventListener($,this,Dn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(G){0===G.state?this._startFadeOutTransition(G):2===G.state&&this._destroyRipple(G)}_startFadeOutTransition(G){const $=G===this._mostRecentTransientRipple,{persistent:re}=G.config;G.state=1,!re&&(!$||!this._isPointerDown)&&G.fadeOut()}_destroyRipple(G){const $=this._activeRipples.get(G)??null;this._activeRipples.delete(G),this._activeRipples.size||(this._containerRect=null),G===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),G.state=3,null!==$&&(G.element.removeEventListener("transitionend",$.onTransitionEnd),G.element.removeEventListener("transitioncancel",$.onTransitionCancel)),G.element.remove()}_onMousedown(G){const $=function Ws(le){return 0===le.buttons||0===le.detail}(G),re=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!$&&!re&&(this._isPointerDown=!0,this.fadeInRipple(G.clientX,G.clientY,this._target.rippleConfig))}_onTouchStart(G){if(!this._target.rippleDisabled&&!function ds(le){const G=le.touches&&le.touches[0]||le.changedTouches&&le.changedTouches[0];return!(!G||-1!==G.identifier||null!=G.radiusX&&1!==G.radiusX||null!=G.radiusY&&1!==G.radiusY)}(G)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const $=G.changedTouches;if($)for(let re=0;re<$.length;re++)this.fadeInRipple($[re].clientX,$[re].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(G=>{!G.config.persistent&&(1===G.state||G.config.terminateOnPointerUp&&0===G.state)&&G.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const G=this._triggerElement;G&&(Eo.forEach($=>Qr._eventManager.removeHandler($,G,this)),this._pointerUpEventsRegistered&&di.forEach($=>G.removeEventListener($,this,Dn)))}}let Hi=(()=>{class le{static#e=this.\u0275fac=function(re){return new(re||le)};static#t=this.\u0275mod=g.oAB({type:le});static#n=this.\u0275inj=g.cJS({imports:[Rn,Rn]})}return le})()},5940:(Fe,De,O)=>{"use strict";O.d(De,{Cq:()=>Ce});var g=O(9291),B=O(1809),X=O(6814);let Ce=(()=>{class Oe{static#e=this.\u0275fac=function(rt){return new(rt||Oe)};static#t=this.\u0275mod=g.oAB({type:Oe});static#n=this.\u0275inj=g.cJS({imports:[X.ez,B.BQ]})}return Oe})()},6593:(Fe,De,O)=>{"use strict";O.d(De,{Dx:()=>kt,H7:()=>Pi,b2:()=>dt,q6:()=>Vt,se:()=>Re});var g=O(9291),B=O(6814);class X extends B.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class J extends X{static makeCurrent(){(0,B.HT)(new J)}onAndCancel(Ye,_e,Ae){return Ye.addEventListener(_e,Ae),()=>{Ye.removeEventListener(_e,Ae)}}dispatchEvent(Ye,_e){Ye.dispatchEvent(_e)}remove(Ye){Ye.parentNode&&Ye.parentNode.removeChild(Ye)}createElement(Ye,_e){return(_e=_e||this.getDefaultDocument()).createElement(Ye)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ye){return Ye.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ye){return Ye instanceof DocumentFragment}getGlobalEventTarget(Ye,_e){return"window"===_e?window:"document"===_e?Ye:"body"===_e?Ye.body:null}getBaseHref(Ye){const _e=function K(){return o=o||document.querySelector("base"),o?o.getAttribute("href"):null}();return null==_e?null:function be(tt){ne=ne||document.createElement("a"),ne.setAttribute("href",tt);const Ye=ne.pathname;return"/"===Ye.charAt(0)?Ye:`/${Ye}`}(_e)}resetBaseElement(){o=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ye){return(0,B.Mx)(document.cookie,Ye)}}let ne,o=null,oe=(()=>{class tt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Ae){return new(Ae||tt)};static#t=this.\u0275prov=g.Yz7({token:tt,factory:tt.\u0275fac})}return tt})();const se=new g.OlP("EventManagerPlugins");let U=(()=>{class tt{constructor(_e,Ae){this._zone=Ae,this._eventNameToPlugin=new Map,_e.forEach(ct=>{ct.manager=this}),this._plugins=_e.slice().reverse()}addEventListener(_e,Ae,ct){return this._findPluginFor(Ae).addEventListener(_e,Ae,ct)}getZone(){return this._zone}_findPluginFor(_e){let Ae=this._eventNameToPlugin.get(_e);if(Ae)return Ae;if(Ae=this._plugins.find(It=>It.supports(_e)),!Ae)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(_e,Ae),Ae}static#e=this.\u0275fac=function(Ae){return new(Ae||tt)(g.LFG(se),g.LFG(g.R0b))};static#t=this.\u0275prov=g.Yz7({token:tt,factory:tt.\u0275fac})}return tt})();class Ce{constructor(Ye){this._doc=Ye}}const Oe="ng-app-id";let We=(()=>{class tt{constructor(_e,Ae,ct,It={}){this.doc=_e,this.appId=Ae,this.nonce=ct,this.platformId=It,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,B.PM)(It),this.resetHostNodes()}addStyles(_e){for(const Ae of _e)1===this.changeUsageCount(Ae,1)&&this.onStyleAdded(Ae)}removeStyles(_e){for(const Ae of _e)this.changeUsageCount(Ae,-1)<=0&&this.onStyleRemoved(Ae)}ngOnDestroy(){const _e=this.styleNodesInDOM;_e&&(_e.forEach(Ae=>Ae.remove()),_e.clear());for(const Ae of this.getAllStyles())this.onStyleRemoved(Ae);this.resetHostNodes()}addHost(_e){this.hostNodes.add(_e);for(const Ae of this.getAllStyles())this.addStyleToHost(_e,Ae)}removeHost(_e){this.hostNodes.delete(_e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(_e){for(const Ae of this.hostNodes)this.addStyleToHost(Ae,_e)}onStyleRemoved(_e){const Ae=this.styleRef;Ae.get(_e)?.elements?.forEach(ct=>ct.remove()),Ae.delete(_e)}collectServerRenderedStyles(){const _e=this.doc.head?.querySelectorAll(`style[${Oe}="${this.appId}"]`);if(_e?.length){const Ae=new Map;return _e.forEach(ct=>{null!=ct.textContent&&Ae.set(ct.textContent,ct)}),Ae}return null}changeUsageCount(_e,Ae){const ct=this.styleRef;if(ct.has(_e)){const It=ct.get(_e);return It.usage+=Ae,It.usage}return ct.set(_e,{usage:Ae,elements:[]}),Ae}getStyleElement(_e,Ae){const ct=this.styleNodesInDOM,It=ct?.get(Ae);if(It?.parentNode===_e)return ct.delete(Ae),It.removeAttribute(Oe),It;{const Xt=this.doc.createElement("style");return this.nonce&&Xt.setAttribute("nonce",this.nonce),Xt.textContent=Ae,this.platformIsServer&&Xt.setAttribute(Oe,this.appId),Xt}}addStyleToHost(_e,Ae){const ct=this.getStyleElement(_e,Ae);_e.appendChild(ct);const It=this.styleRef,Xt=It.get(Ae)?.elements;Xt?Xt.push(ct):It.set(Ae,{elements:[ct],usage:1})}resetHostNodes(){const _e=this.hostNodes;_e.clear(),_e.add(this.doc.head)}static#e=this.\u0275fac=function(Ae){return new(Ae||tt)(g.LFG(B.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))};static#t=this.\u0275prov=g.Yz7({token:tt,factory:tt.\u0275fac})}return tt})();const Ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rt=/%COMP%/g,ue=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ce(tt,Ye){return Ye.map(_e=>_e.replace(rt,tt))}let Re=(()=>{class tt{constructor(_e,Ae,ct,It,Xt,Sn,Pn,ao=null){this.eventManager=_e,this.sharedStylesHost=Ae,this.appId=ct,this.removeStylesOnCompDestroy=It,this.doc=Xt,this.platformId=Sn,this.ngZone=Pn,this.nonce=ao,this.rendererByCompId=new Map,this.platformIsServer=(0,B.PM)(Sn),this.defaultRenderer=new ze(_e,Xt,Pn,this.platformIsServer)}createRenderer(_e,Ae){if(!_e||!Ae)return this.defaultRenderer;this.platformIsServer&&Ae.encapsulation===g.ifc.ShadowDom&&(Ae={...Ae,encapsulation:g.ifc.Emulated});const ct=this.getOrCreateRenderer(_e,Ae);return ct instanceof Ut?ct.applyToHost(_e):ct instanceof vt&&ct.applyStyles(),ct}getOrCreateRenderer(_e,Ae){const ct=this.rendererByCompId;let It=ct.get(Ae.id);if(!It){const Xt=this.doc,Sn=this.ngZone,Pn=this.eventManager,ao=this.sharedStylesHost,Go=this.removeStylesOnCompDestroy,Ei=this.platformIsServer;switch(Ae.encapsulation){case g.ifc.Emulated:It=new Ut(Pn,ao,Ae,this.appId,Go,Xt,Sn,Ei);break;case g.ifc.ShadowDom:return new ft(Pn,ao,_e,Ae,Xt,Sn,this.nonce,Ei);default:It=new vt(Pn,ao,Ae,Go,Xt,Sn,Ei)}ct.set(Ae.id,It)}return It}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Ae){return new(Ae||tt)(g.LFG(U),g.LFG(We),g.LFG(g.AFp),g.LFG(ue),g.LFG(B.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))};static#t=this.\u0275prov=g.Yz7({token:tt,factory:tt.\u0275fac})}return tt})();class ze{constructor(Ye,_e,Ae,ct){this.eventManager=Ye,this.doc=_e,this.ngZone=Ae,this.platformIsServer=ct,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ye,_e){return _e?this.doc.createElementNS(Ke[_e]||_e,Ye):this.doc.createElement(Ye)}createComment(Ye){return this.doc.createComment(Ye)}createText(Ye){return this.doc.createTextNode(Ye)}appendChild(Ye,_e){(Ne(Ye)?Ye.content:Ye).appendChild(_e)}insertBefore(Ye,_e,Ae){Ye&&(Ne(Ye)?Ye.content:Ye).insertBefore(_e,Ae)}removeChild(Ye,_e){Ye&&Ye.removeChild(_e)}selectRootElement(Ye,_e){let Ae="string"==typeof Ye?this.doc.querySelector(Ye):Ye;if(!Ae)throw new g.vHH(-5104,!1);return _e||(Ae.textContent=""),Ae}parentNode(Ye){return Ye.parentNode}nextSibling(Ye){return Ye.nextSibling}setAttribute(Ye,_e,Ae,ct){if(ct){_e=ct+":"+_e;const It=Ke[ct];It?Ye.setAttributeNS(It,_e,Ae):Ye.setAttribute(_e,Ae)}else Ye.setAttribute(_e,Ae)}removeAttribute(Ye,_e,Ae){if(Ae){const ct=Ke[Ae];ct?Ye.removeAttributeNS(ct,_e):Ye.removeAttribute(`${Ae}:${_e}`)}else Ye.removeAttribute(_e)}addClass(Ye,_e){Ye.classList.add(_e)}removeClass(Ye,_e){Ye.classList.remove(_e)}setStyle(Ye,_e,Ae,ct){ct&(g.JOm.DashCase|g.JOm.Important)?Ye.style.setProperty(_e,Ae,ct&g.JOm.Important?"important":""):Ye.style[_e]=Ae}removeStyle(Ye,_e,Ae){Ae&g.JOm.DashCase?Ye.style.removeProperty(_e):Ye.style[_e]=""}setProperty(Ye,_e,Ae){Ye[_e]=Ae}setValue(Ye,_e){Ye.nodeValue=_e}listen(Ye,_e,Ae){if("string"==typeof Ye&&!(Ye=(0,B.q)().getGlobalEventTarget(this.doc,Ye)))throw new Error(`Unsupported event target ${Ye} for event ${_e}`);return this.eventManager.addEventListener(Ye,_e,this.decoratePreventDefault(Ae))}decoratePreventDefault(Ye){return _e=>{if("__ngUnwrap__"===_e)return Ye;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ye(_e)):Ye(_e))&&_e.preventDefault()}}}function Ne(tt){return"TEMPLATE"===tt.tagName&&void 0!==tt.content}class ft extends ze{constructor(Ye,_e,Ae,ct,It,Xt,Sn,Pn){super(Ye,It,Xt,Pn),this.sharedStylesHost=_e,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ao=ce(ct.id,ct.styles);for(const Go of ao){const Ei=document.createElement("style");Sn&&Ei.setAttribute("nonce",Sn),Ei.textContent=Go,this.shadowRoot.appendChild(Ei)}}nodeOrShadowRoot(Ye){return Ye===this.hostEl?this.shadowRoot:Ye}appendChild(Ye,_e){return super.appendChild(this.nodeOrShadowRoot(Ye),_e)}insertBefore(Ye,_e,Ae){return super.insertBefore(this.nodeOrShadowRoot(Ye),_e,Ae)}removeChild(Ye,_e){return super.removeChild(this.nodeOrShadowRoot(Ye),_e)}parentNode(Ye){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ye)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vt extends ze{constructor(Ye,_e,Ae,ct,It,Xt,Sn,Pn){super(Ye,It,Xt,Sn),this.sharedStylesHost=_e,this.removeStylesOnCompDestroy=ct,this.styles=Pn?ce(Pn,Ae.styles):Ae.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ut extends vt{constructor(Ye,_e,Ae,ct,It,Xt,Sn,Pn){const ao=ct+"-"+Ae.id;super(Ye,_e,Ae,It,Xt,Sn,Pn,ao),this.contentAttr=function Le(tt){return"_ngcontent-%COMP%".replace(rt,tt)}(ao),this.hostAttr=function pe(tt){return"_nghost-%COMP%".replace(rt,tt)}(ao)}applyToHost(Ye){this.applyStyles(),this.setAttribute(Ye,this.hostAttr,"")}createElement(Ye,_e){const Ae=super.createElement(Ye,_e);return super.setAttribute(Ae,this.contentAttr,""),Ae}}let vn=(()=>{class tt extends Ce{constructor(_e){super(_e)}supports(_e){return!0}addEventListener(_e,Ae,ct){return _e.addEventListener(Ae,ct,!1),()=>this.removeEventListener(_e,Ae,ct)}removeEventListener(_e,Ae,ct){return _e.removeEventListener(Ae,ct)}static#e=this.\u0275fac=function(Ae){return new(Ae||tt)(g.LFG(B.K0))};static#t=this.\u0275prov=g.Yz7({token:tt,factory:tt.\u0275fac})}return tt})();const qn=["alt","control","meta","shift"],je={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Se={alt:tt=>tt.altKey,control:tt=>tt.ctrlKey,meta:tt=>tt.metaKey,shift:tt=>tt.shiftKey};let Xe=(()=>{class tt extends Ce{constructor(_e){super(_e)}supports(_e){return null!=tt.parseEventName(_e)}addEventListener(_e,Ae,ct){const It=tt.parseEventName(Ae),Xt=tt.eventCallback(It.fullKey,ct,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,B.q)().onAndCancel(_e,It.domEventName,Xt))}static parseEventName(_e){const Ae=_e.toLowerCase().split("."),ct=Ae.shift();if(0===Ae.length||"keydown"!==ct&&"keyup"!==ct)return null;const It=tt._normalizeKey(Ae.pop());let Xt="",Sn=Ae.indexOf("code");if(Sn>-1&&(Ae.splice(Sn,1),Xt="code."),qn.forEach(ao=>{const Go=Ae.indexOf(ao);Go>-1&&(Ae.splice(Go,1),Xt+=ao+".")}),Xt+=It,0!=Ae.length||0===It.length)return null;const Pn={};return Pn.domEventName=ct,Pn.fullKey=Xt,Pn}static matchEventFullKeyCode(_e,Ae){let ct=je[_e.key]||_e.key,It="";return Ae.indexOf("code.")>-1&&(ct=_e.code,It="code."),!(null==ct||!ct)&&(ct=ct.toLowerCase()," "===ct?ct="space":"."===ct&&(ct="dot"),qn.forEach(Xt=>{Xt!==ct&&(0,Se[Xt])(_e)&&(It+=Xt+".")}),It+=ct,It===Ae)}static eventCallback(_e,Ae,ct){return It=>{tt.matchEventFullKeyCode(It,_e)&&ct.runGuarded(()=>Ae(It))}}static _normalizeKey(_e){return"esc"===_e?"escape":_e}static#e=this.\u0275fac=function(Ae){return new(Ae||tt)(g.LFG(B.K0))};static#t=this.\u0275prov=g.Yz7({token:tt,factory:tt.\u0275fac})}return tt})();const Vt=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:B.bD},{provide:g.g9A,useValue:function on(){J.makeCurrent()},multi:!0},{provide:B.K0,useFactory:function Qt(){return(0,g.RDi)(document),document},deps:[]}]),fe=new g.OlP(""),Ue=[{provide:g.rWj,useClass:class ae{addToWindow(Ye){g.dqk.getAngularTestability=(Ae,ct=!0)=>{const It=Ye.findTestabilityInTree(Ae,ct);if(null==It)throw new g.vHH(5103,!1);return It},g.dqk.getAllAngularTestabilities=()=>Ye.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>Ye.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(Ae=>{const ct=g.dqk.getAllAngularTestabilities();let It=ct.length,Xt=!1;const Sn=function(Pn){Xt=Xt||Pn,It--,0==It&&Ae(Xt)};ct.forEach(Pn=>{Pn.whenStable(Sn)})})}findTestabilityInTree(Ye,_e,Ae){return null==_e?null:Ye.getTestability(_e)??(Ae?(0,B.q)().isShadowRoot(_e)?this.findTestabilityInTree(Ye,_e.host,!0):this.findTestabilityInTree(Ye,_e.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],pt=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Bn(){return new g.qLn},deps:[]},{provide:se,useClass:vn,multi:!0,deps:[B.K0,g.R0b,g.Lbi]},{provide:se,useClass:Xe,multi:!0,deps:[B.K0]},Re,We,U,{provide:g.FYo,useExisting:Re},{provide:B.JF,useClass:oe,deps:[]},[]];let dt=(()=>{class tt{constructor(_e){}static withServerTransition(_e){return{ngModule:tt,providers:[{provide:g.AFp,useValue:_e.appId}]}}static#e=this.\u0275fac=function(Ae){return new(Ae||tt)(g.LFG(fe,12))};static#t=this.\u0275mod=g.oAB({type:tt});static#n=this.\u0275inj=g.cJS({providers:[...pt,...Ue],imports:[B.ez,g.hGG]})}return tt})(),kt=(()=>{class tt{constructor(_e){this._doc=_e}getTitle(){return this._doc.title}setTitle(_e){this._doc.title=_e||""}static#e=this.\u0275fac=function(Ae){return new(Ae||tt)(g.LFG(B.K0))};static#t=this.\u0275prov=g.Yz7({token:tt,factory:function(Ae){let ct=null;return ct=Ae?new Ae:function wt(){return new kt((0,g.LFG)(B.K0))}(),ct},providedIn:"root"})}return tt})();typeof window<"u"&&window;let Pi=(()=>{class tt{static#e=this.\u0275fac=function(Ae){return new(Ae||tt)};static#t=this.\u0275prov=g.Yz7({token:tt,factory:function(Ae){let ct=null;return ct=Ae?new(Ae||tt):g.LFG(Fo),ct},providedIn:"root"})}return tt})(),Fo=(()=>{class tt extends Pi{constructor(_e){super(),this._doc=_e}sanitize(_e,Ae){if(null==Ae)return null;switch(_e){case g.q3G.NONE:return Ae;case g.q3G.HTML:return(0,g.qzn)(Ae,"HTML")?(0,g.z3N)(Ae):(0,g.EiD)(this._doc,String(Ae)).toString();case g.q3G.STYLE:return(0,g.qzn)(Ae,"Style")?(0,g.z3N)(Ae):Ae;case g.q3G.SCRIPT:if((0,g.qzn)(Ae,"Script"))return(0,g.z3N)(Ae);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(Ae,"URL")?(0,g.z3N)(Ae):(0,g.mCW)(String(Ae));case g.q3G.RESOURCE_URL:if((0,g.qzn)(Ae,"ResourceURL"))return(0,g.z3N)(Ae);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml(_e){return(0,g.JVY)(_e)}bypassSecurityTrustStyle(_e){return(0,g.L6k)(_e)}bypassSecurityTrustScript(_e){return(0,g.eBb)(_e)}bypassSecurityTrustUrl(_e){return(0,g.LAX)(_e)}bypassSecurityTrustResourceUrl(_e){return(0,g.pB0)(_e)}static#e=this.\u0275fac=function(Ae){return new(Ae||tt)(g.LFG(B.K0))};static#t=this.\u0275prov=g.Yz7({token:tt,factory:function(Ae){let ct=null;return ct=Ae?new Ae:function Gn(tt){return new Fo(tt.get(B.K0))}(g.LFG(g.zs3)),ct},providedIn:"root"})}return tt})()},2058:(Fe,De,O)=>{"use strict";O.d(De,{gz:()=>Di,F0:()=>V,rH:()=>xe,Od:()=>He,Bz:()=>Sr,lC:()=>qr});var g=O(9291),B=O(5592),X=O(4674),o=O(7715),K=O(2096),ne=O(5619),be=O(2572);const oe=(0,O(2306).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var se=O(5211),U=O(4829);function Ce(v){return new B.y(w=>{(0,U.Xf)(v()).subscribe(w)})}var Oe=O(8407),We=O(8504),Ke=O(6232),rt=O(7394),Mt=O(9360),Pe=O(8251);function it(){return(0,Mt.e)((v,w)=>{let y=null;v._refCount++;const D=(0,Pe.x)(w,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(y=null);const F=v._connection,W=y;y=null,F&&(!W||F===W)&&F.unsubscribe(),w.unsubscribe()});v.subscribe(D),D.closed||(y=v.connect())})}class de extends B.y{constructor(w,y){super(),this.source=w,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Mt.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new rt.w0;const y=this.getSubject();w.add(this.source.subscribe((0,Pe.x)(y,void 0,()=>{this._teardown(),y.complete()},D=>{this._teardown(),y.error(D)},()=>this._teardown()))),w.closed&&(this._connection=null,w=rt.w0.EMPTY)}return w}refCount(){return it()(this)}}var ue=O(8645),Le=O(6814),pe=O(7398),ce=O(4664),Re=O(8180),ze=O(7921),at=O(2181),Je=O(1631);function Ne(v){return(0,Mt.e)((w,y)=>{let D=!1;w.subscribe((0,Pe.x)(y,F=>{D=!0,y.next(F)},()=>{D||y.next(v),y.complete()}))})}function ft(v=vt){return(0,Mt.e)((w,y)=>{let D=!1;w.subscribe((0,Pe.x)(y,F=>{D=!0,y.next(F)},()=>D?y.complete():y.error(v())))})}function vt(){return new oe}var Ut=O(2737);function vn(v,w){const y=arguments.length>=2;return D=>D.pipe(v?(0,at.h)((F,W)=>v(F,W,D)):Ut.y,(0,Re.q)(1),y?Ne(w):ft(()=>new oe))}var qn=O(6328),je=O(9397),Se=O(6306);function mt(v){return v<=0?()=>Ke.E:(0,Mt.e)((w,y)=>{let D=[];w.subscribe((0,Pe.x)(y,F=>{D.push(F),v<D.length&&D.shift()},()=>{for(const F of D)y.next(F);y.complete()},void 0,()=>{D=null}))})}var on=O(4716),Bn=O(9773),Qt=O(7537),Un=O(6593);const Vt="primary",fe=Symbol("RouteTitle");class Ue{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const y=this.params[w];return Array.isArray(y)?y[0]:y}return null}getAll(w){if(this.has(w)){const y=this.params[w];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function pt(v){return new Ue(v)}function dt(v,w,y){const D=y.path.split("/");if(D.length>v.length||"full"===y.pathMatch&&(w.hasChildren()||D.length<v.length))return null;const F={};for(let W=0;W<D.length;W++){const ge=D[W],Qe=v[W];if(ge.startsWith(":"))F[ge.substring(1)]=Qe;else if(ge!==Qe.path)return null}return{consumed:v.slice(0,D.length),posParams:F}}function Dt(v,w){const y=v?Object.keys(v):void 0,D=w?Object.keys(w):void 0;if(!y||!D||y.length!=D.length)return!1;let F;for(let W=0;W<y.length;W++)if(F=y[W],!Ot(v[F],w[F]))return!1;return!0}function Ot(v,w){if(Array.isArray(v)&&Array.isArray(w)){if(v.length!==w.length)return!1;const y=[...v].sort(),D=[...w].sort();return y.every((F,W)=>D[W]===F)}return v===w}function wt(v){return v.length>0?v[v.length-1]:null}function kt(v){return function J(v){return!!v&&(v instanceof B.y||(0,X.m)(v.lift)&&(0,X.m)(v.subscribe))}(v)?v:(0,g.QGY)(v)?(0,o.D)(Promise.resolve(v)):(0,K.of)(v)}const jt={exact:function dn(v,w,y){if(!Tn(v.segments,w.segments)||!mi(v.segments,w.segments,y)||v.numberOfChildren!==w.numberOfChildren)return!1;for(const D in w.children)if(!v.children[D]||!dn(v.children[D],w.children[D],y))return!1;return!0},subset:Jo},Gt={exact:function un(v,w){return Dt(v,w)},subset:function Zo(v,w){return Object.keys(w).length<=Object.keys(v).length&&Object.keys(w).every(y=>Ot(v[y],w[y]))},ignored:()=>!0};function an(v,w,y){return jt[y.paths](v.root,w.root,y.matrixParams)&&Gt[y.queryParams](v.queryParams,w.queryParams)&&!("exact"===y.fragment&&v.fragment!==w.fragment)}function Jo(v,w,y){return ni(v,w,w.segments,y)}function ni(v,w,y,D){if(v.segments.length>y.length){const F=v.segments.slice(0,y.length);return!(!Tn(F,y)||w.hasChildren()||!mi(F,y,D))}if(v.segments.length===y.length){if(!Tn(v.segments,y)||!mi(v.segments,y,D))return!1;for(const F in w.children)if(!v.children[F]||!Jo(v.children[F],w.children[F],D))return!1;return!0}{const F=y.slice(0,v.segments.length),W=y.slice(v.segments.length);return!!(Tn(v.segments,F)&&mi(v.segments,F,D)&&v.children[Vt])&&ni(v.children[Vt],w,W,D)}}function mi(v,w,y){return w.every((D,F)=>Gt[y](v[F].parameters,D.parameters))}class so{constructor(w=new jn([],{}),y={},D=null){this.root=w,this.queryParams=y,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pt(this.queryParams)),this._queryParamMap}toString(){return Gn.serialize(this)}}class jn{constructor(w,y){this.segments=w,this.children=y,this.parent=null,Object.values(y).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fo(this)}}class Wt{constructor(w,y){this.path=w,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=pt(this.parameters)),this._parameterMap}toString(){return Mo(this)}}function Tn(v,w){return v.length===w.length&&v.every((y,D)=>y.path===w[D].path)}let Qo=(()=>{class v{static#e=this.\u0275fac=function(D){return new(D||v)};static#t=this.\u0275prov=g.Yz7({token:v,factory:function(){return new Pi},providedIn:"root"})}return v})();class Pi{parse(w){const y=new Go(w);return new so(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(w){const y=`/${No(w.root,!0)}`,D=function Ye(v){const w=Object.keys(v).map(y=>{const D=v[y];return Array.isArray(D)?D.map(F=>`${Oo(y)}=${Oo(F)}`).join("&"):`${Oo(y)}=${Oo(D)}`}).filter(y=>!!y);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${y}${D}${"string"==typeof w.fragment?`#${function Ai(v){return encodeURI(v)}(w.fragment)}`:""}`}}const Gn=new Pi;function Fo(v){return v.segments.map(w=>Mo(w)).join("/")}function No(v,w){if(!v.hasChildren())return Fo(v);if(w){const y=v.children[Vt]?No(v.children[Vt],!1):"",D=[];return Object.entries(v.children).forEach(([F,W])=>{F!==Vt&&D.push(`${F}:${No(W,!1)}`)}),D.length>0?`${y}(${D.join("//")})`:y}{const y=function $o(v,w){let y=[];return Object.entries(v.children).forEach(([D,F])=>{D===Vt&&(y=y.concat(w(F,D)))}),Object.entries(v.children).forEach(([D,F])=>{D!==Vt&&(y=y.concat(w(F,D)))}),y}(v,(D,F)=>F===Vt?[No(v.children[Vt],!1)]:[`${F}:${No(D,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Vt]?`${Fo(v)}/${y[0]}`:`${Fo(v)}/(${y.join("//")})`}}function xn(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oo(v){return xn(v).replace(/%3B/gi,";")}function _i(v){return xn(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bi(v){return decodeURIComponent(v)}function fr(v){return bi(v.replace(/\+/g,"%20"))}function Mo(v){return`${_i(v.path)}${function tt(v){return Object.keys(v).map(w=>`;${_i(w)}=${_i(v[w])}`).join("")}(v.parameters)}`}const _e=/^[^\/()?;#]+/;function Ae(v){const w=v.match(_e);return w?w[0]:""}const ct=/^[^\/()?;=#]+/,Xt=/^[^=?&#]+/,Pn=/^[^&#]+/;class Go{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jn([],{}):new jn([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(w.length>0||Object.keys(y).length>0)&&(D[Vt]=new jn(w,y)),D}parseSegment(){const w=Ae(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(w),new Wt(bi(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const y=function It(v){const w=v.match(ct);return w?w[0]:""}(this.remaining);if(!y)return;this.capture(y);let D="";if(this.consumeOptional("=")){const F=Ae(this.remaining);F&&(D=F,this.capture(D))}w[bi(y)]=bi(D)}parseQueryParam(w){const y=function Sn(v){const w=v.match(Xt);return w?w[0]:""}(this.remaining);if(!y)return;this.capture(y);let D="";if(this.consumeOptional("=")){const ge=function ao(v){const w=v.match(Pn);return w?w[0]:""}(this.remaining);ge&&(D=ge,this.capture(D))}const F=fr(y),W=fr(D);if(w.hasOwnProperty(F)){let ge=w[F];Array.isArray(ge)||(ge=[ge],w[F]=ge),ge.push(W)}else w[F]=W}parseParens(w){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=Ae(this.remaining),F=this.remaining[D.length];if("/"!==F&&")"!==F&&";"!==F)throw new g.vHH(4010,!1);let W;D.indexOf(":")>-1?(W=D.slice(0,D.indexOf(":")),this.capture(W),this.capture(":")):w&&(W=Vt);const ge=this.parseChildren();y[W]=1===Object.keys(ge).length?ge[Vt]:new jn([],ge),this.consumeOptional("//")}return y}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new g.vHH(4011,!1)}}function Ei(v){return v.segments.length>0?new jn([],{[Vt]:v}):v}function Be(v){const w={};for(const D of Object.keys(v.children)){const W=Be(v.children[D]);if(D===Vt&&0===W.segments.length&&W.hasChildren())for(const[ge,Qe]of Object.entries(W.children))w[ge]=Qe;else(W.segments.length>0||W.hasChildren())&&(w[D]=W)}return function ke(v){if(1===v.numberOfChildren&&v.children[Vt]){const w=v.children[Vt];return new jn(v.segments.concat(w.segments),w.children)}return v}(new jn(v.segments,w))}function Te(v){return v instanceof so}function xt(v){let w;const F=Ei(function y(W){const ge={};for(const qe of W.children){const Rt=y(qe);ge[qe.outlet]=Rt}const Qe=new jn(W.url,ge);return W===v&&(w=Qe),Qe}(v.root));return w??F}function Nt(v,w,y,D){let F=v;for(;F.parent;)F=F.parent;if(0===w.length)return sn(F,F,F,y,D);const W=function wo(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new si(!0,0,v);let w=0,y=!1;const D=v.reduce((F,W,ge)=>{if("object"==typeof W&&null!=W){if(W.outlets){const Qe={};return Object.entries(W.outlets).forEach(([qe,Rt])=>{Qe[qe]="string"==typeof Rt?Rt.split("/"):Rt}),[...F,{outlets:Qe}]}if(W.segmentPath)return[...F,W.segmentPath]}return"string"!=typeof W?[...F,W]:0===ge?(W.split("/").forEach((Qe,qe)=>{0==qe&&"."===Qe||(0==qe&&""===Qe?y=!0:".."===Qe?w++:""!=Qe&&F.push(Qe))}),F):[...F,W]},[]);return new si(y,w,D)}(w);if(W.toRoot())return sn(F,F,new jn([],{}),y,D);const ge=function Lo(v,w,y){if(v.isAbsolute)return new Wo(w,!0,0);if(!y)return new Wo(w,!1,NaN);if(null===y.parent)return new Wo(y,!0,0);const D=gt(v.commands[0])?0:1;return function vi(v,w,y){let D=v,F=w,W=y;for(;W>F;){if(W-=F,D=D.parent,!D)throw new g.vHH(4005,!1);F=D.segments.length}return new Wo(D,!1,F-W)}(y,y.segments.length-1+D,v.numberOfDoubleDots)}(W,F,v),Qe=ge.processChildren?_n(ge.segmentGroup,ge.index,W.commands):On(ge.segmentGroup,ge.index,W.commands);return sn(F,ge.segmentGroup,Qe,y,D)}function gt(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Nn(v){return"object"==typeof v&&null!=v&&v.outlets}function sn(v,w,y,D,F){let ge,W={};D&&Object.entries(D).forEach(([qe,Rt])=>{W[qe]=Array.isArray(Rt)?Rt.map(mn=>`${mn}`):`${Rt}`}),ge=v===w?y:po(v,w,y);const Qe=Ei(Be(ge));return new so(Qe,W,F)}function po(v,w,y){const D={};return Object.entries(v.children).forEach(([F,W])=>{D[F]=W===w?y:po(W,w,y)}),new jn(v.segments,D)}class si{constructor(w,y,D){if(this.isAbsolute=w,this.numberOfDoubleDots=y,this.commands=D,w&&D.length>0&&gt(D[0]))throw new g.vHH(4003,!1);const F=D.find(Nn);if(F&&F!==wt(D))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wo{constructor(w,y,D){this.segmentGroup=w,this.processChildren=y,this.index=D}}function On(v,w,y){if(v||(v=new jn([],{})),0===v.segments.length&&v.hasChildren())return _n(v,w,y);const D=function So(v,w,y){let D=0,F=w;const W={match:!1,pathIndex:0,commandIndex:0};for(;F<v.segments.length;){if(D>=y.length)return W;const ge=v.segments[F],Qe=y[D];if(Nn(Qe))break;const qe=`${Qe}`,Rt=D<y.length-1?y[D+1]:null;if(F>0&&void 0===qe)break;if(qe&&Rt&&"object"==typeof Rt&&void 0===Rt.outlets){if(!Bo(qe,Rt,ge))return W;D+=2}else{if(!Bo(qe,{},ge))return W;D++}F++}return{match:!0,pathIndex:F,commandIndex:D}}(v,w,y),F=y.slice(D.commandIndex);if(D.match&&D.pathIndex<v.segments.length){const W=new jn(v.segments.slice(0,D.pathIndex),{});return W.children[Vt]=new jn(v.segments.slice(D.pathIndex),v.children),_n(W,0,F)}return D.match&&0===F.length?new jn(v.segments,{}):D.match&&!v.hasChildren()?oo(v,w,y):D.match?_n(v,0,F):oo(v,w,y)}function _n(v,w,y){if(0===y.length)return new jn(v.segments,{});{const D=function wn(v){return Nn(v[0])?v[0].outlets:{[Vt]:v}}(y),F={};if(Object.keys(D).some(W=>W!==Vt)&&v.children[Vt]&&1===v.numberOfChildren&&0===v.children[Vt].segments.length){const W=_n(v.children[Vt],w,y);return new jn(v.segments,W.children)}return Object.entries(D).forEach(([W,ge])=>{"string"==typeof ge&&(ge=[ge]),null!==ge&&(F[W]=On(v.children[W],w,ge))}),Object.entries(v.children).forEach(([W,ge])=>{void 0===D[W]&&(F[W]=ge)}),new jn(v.segments,F)}}function oo(v,w,y){const D=v.segments.slice(0,w);let F=0;for(;F<y.length;){const W=y[F];if(Nn(W)){const qe=mo(W.outlets);return new jn(D,qe)}if(0===F&&gt(y[0])){D.push(new Wt(v.segments[w].path,Xo(y[0]))),F++;continue}const ge=Nn(W)?W.outlets[Vt]:`${W}`,Qe=F<y.length-1?y[F+1]:null;ge&&Qe&&gt(Qe)?(D.push(new Wt(ge,Xo(Qe))),F+=2):(D.push(new Wt(ge,{})),F++)}return new jn(D,{})}function mo(v){const w={};return Object.entries(v).forEach(([y,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(w[y]=oo(new jn([],{}),0,D))}),w}function Xo(v){const w={};return Object.entries(v).forEach(([y,D])=>w[y]=`${D}`),w}function Bo(v,w,y){return v==y.path&&Dt(w,y.parameters)}const yi="imperative";class Uo{constructor(w,y){this.id=w,this.url=y}}class Er extends Uo{constructor(w,y,D="imperative",F=null){super(w,y),this.type=0,this.navigationTrigger=D,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ei extends Uo{constructor(w,y,D){super(w,y),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xi extends Uo{constructor(w,y,D,F){super(w,y),this.reason=D,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dr extends Uo{constructor(w,y,D,F){super(w,y),this.reason=D,this.code=F,this.type=16}}class Gi extends Uo{constructor(w,y,D,F){super(w,y),this.error=D,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zs extends Uo{constructor(w,y,D,F){super(w,y),this.urlAfterRedirects=D,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bs extends Uo{constructor(w,y,D,F){super(w,y),this.urlAfterRedirects=D,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $s extends Uo{constructor(w,y,D,F,W){super(w,y),this.urlAfterRedirects=D,this.state=F,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ai extends Uo{constructor(w,y,D,F){super(w,y),this.urlAfterRedirects=D,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ks extends Uo{constructor(w,y,D,F){super(w,y),this.urlAfterRedirects=D,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gs{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _o{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Es{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class or{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ds{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(w,y,D){this.routerEvent=w,this.position=y,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gr{}class Wr{constructor(w){this.url=w}}class Si{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Io,this.attachRef=null}}let Io=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(y,D){const F=this.getOrCreateContext(y);F.outlet=D,this.contexts.set(y,F)}onChildOutletDestroyed(y){const D=this.getContext(y);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let D=this.getContext(y);return D||(D=new Si,this.contexts.set(y,D)),D}getContext(y){return this.contexts.get(y)||null}static#e=this.\u0275fac=function(D){return new(D||v)};static#t=this.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();class ir{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const y=this.pathFromRoot(w);return y.length>1?y[y.length-2]:null}children(w){const y=rr(w,this._root);return y?y.children.map(D=>D.value):[]}firstChild(w){const y=rr(w,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(w){const y=mr(w,this._root);return y.length<2?[]:y[y.length-2].children.map(F=>F.value).filter(F=>F!==w)}pathFromRoot(w){return mr(w,this._root).map(y=>y.value)}}function rr(v,w){if(v===w.value)return w;for(const y of w.children){const D=rr(v,y);if(D)return D}return null}function mr(v,w){if(v===w.value)return[w];for(const y of w.children){const D=mr(v,y);if(D.length)return D.unshift(w),D}return[]}class uo{constructor(w,y){this.value=w,this.children=y}toString(){return`TreeNode(${this.value})`}}function ci(v){const w={};return v&&v.children.forEach(y=>w[y.value.outlet]=y),w}class vs extends ir{constructor(w,y){super(w),this.snapshot=y,ko(this,w)}toString(){return this.snapshot.toString()}}function Or(v,w){const y=function rs(v,w){const ge=new ro([],{},{},"",{},Vt,w,null,{});return new Ii("",new uo(ge,[]))}(0,w),D=new ne.X([new Wt("",{})]),F=new ne.X({}),W=new ne.X({}),ge=new ne.X({}),Qe=new ne.X(""),qe=new Di(D,F,ge,Qe,W,Vt,w,y.root);return qe.snapshot=y.root,new vs(new uo(qe,[]),y)}class Di{constructor(w,y,D,F,W,ge,Qe,qe){this.urlSubject=w,this.paramsSubject=y,this.queryParamsSubject=D,this.fragmentSubject=F,this.dataSubject=W,this.outlet=ge,this.component=Qe,this._futureSnapshot=qe,this.title=this.dataSubject?.pipe((0,pe.U)(Rt=>Rt[fe]))??(0,K.of)(void 0),this.url=w,this.params=y,this.queryParams=D,this.fragment=F,this.data=W}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pe.U)(w=>pt(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pe.U)(w=>pt(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kn(v,w="emptyOnly"){const y=v.pathFromRoot;let D=0;if("always"!==w)for(D=y.length-1;D>=1;){const F=y[D],W=y[D-1];if(F.routeConfig&&""===F.routeConfig.path)D--;else{if(W.component)break;D--}}return function jo(v){return v.reduce((w,y)=>({params:{...w.params,...y.params},data:{...w.data,...y.data},resolve:{...y.data,...w.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(D))}class ro{get title(){return this.data?.[fe]}constructor(w,y,D,F,W,ge,Qe,qe,Rt){this.url=w,this.params=y,this.queryParams=D,this.fragment=F,this.data=W,this.outlet=ge,this.component=Qe,this.routeConfig=qe,this._resolve=Rt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ii extends ir{constructor(w,y){super(y),this.url=w,ko(this,y)}toString(){return Wi(this._root)}}function ko(v,w){w.value._routerState=v,w.children.forEach(y=>ko(v,y))}function Wi(v){const w=v.children.length>0?` { ${v.children.map(Wi).join(", ")} } `:"";return`${v.value}${w}`}function Ri(v){if(v.snapshot){const w=v.snapshot,y=v._futureSnapshot;v.snapshot=y,Dt(w.queryParams,y.queryParams)||v.queryParamsSubject.next(y.queryParams),w.fragment!==y.fragment&&v.fragmentSubject.next(y.fragment),Dt(w.params,y.params)||v.paramsSubject.next(y.params),function $e(v,w){if(v.length!==w.length)return!1;for(let y=0;y<v.length;++y)if(!Dt(v[y],w[y]))return!1;return!0}(w.url,y.url)||v.urlSubject.next(y.url),Dt(w.data,y.data)||v.dataSubject.next(y.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function _r(v,w){const y=Dt(v.params,w.params)&&function Fr(v,w){return Tn(v,w)&&v.every((y,D)=>Dt(y.parameters,w[D].parameters))}(v.url,w.url);return y&&!(!v.parent!=!w.parent)&&(!v.parent||_r(v.parent,w.parent))}let qr=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Io),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(Yn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:D,previousValue:F}=y.name;if(D)return;this.isTrackedInParentContexts(F)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(F)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,D){this.activated=y,this._activatedRoute=D,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,D){if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=y;const F=this.location,ge=y.snapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,qe=new Lr(y,Qe,F.injector);this.activated=F.createComponent(ge,{index:F.length,injector:qe,environmentInjector:D??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(D){return new(D||v)};static#t=this.\u0275dir=g.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]})}return v})();class Lr{constructor(w,y,D){this.route=w,this.childContexts=y,this.parent=D}get(w,y){return w===Di?this.route:w===Io?this.childContexts:this.parent.get(w,y)}}const Yn=new g.OlP("");let Ft=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:D}=y,F=(0,be.a)([D.queryParams,D.params,D.data]).pipe((0,ce.w)(([W,ge,Qe],qe)=>(Qe={...W,...ge,...Qe},0===qe?(0,K.of)(Qe):Promise.resolve(Qe)))).subscribe(W=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==D||null===D.component)return void this.unsubscribeFromRouteData(y);const ge=(0,g.qFp)(D.component);if(ge)for(const{templateName:Qe}of ge.inputs)y.activatedComponentRef.setInput(Qe,W[Qe]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,F)}static#e=this.\u0275fac=function(D){return new(D||v)};static#t=this.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac})}return v})();function Vn(v,w,y){if(y&&v.shouldReuseRoute(w.value,y.value.snapshot)){const D=y.value;D._futureSnapshot=w.value;const F=function oi(v,w,y){return w.children.map(D=>{for(const F of y.children)if(v.shouldReuseRoute(D.value,F.value.snapshot))return Vn(v,D,F);return Vn(v,D)})}(v,w,y);return new uo(D,F)}{if(v.shouldAttach(w.value)){const W=v.retrieve(w.value);if(null!==W){const ge=W.route;return ge.value._futureSnapshot=w.value,ge.children=w.children.map(Qe=>Vn(v,Qe)),ge}}const D=function qi(v){return new Di(new ne.X(v.url),new ne.X(v.params),new ne.X(v.queryParams),new ne.X(v.fragment),new ne.X(v.data),v.outlet,v.component,v)}(w.value),F=w.children.map(W=>Vn(v,W));return new uo(D,F)}}const ho="ngNavigationCancelingError";function Yi(v,w){const{redirectTo:y,navigationBehaviorOptions:D}=Te(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,F=fo(!1,0,w);return F.url=y,F.navigationBehaviorOptions=D,F}function fo(v,w,y){const D=new Error("NavigationCancelingError: "+(v||""));return D[ho]=!0,D.cancellationCode=w,y&&(D.url=y),D}function Fi(v){return v&&v[ho]}let fn=(()=>{class v{static#e=this.\u0275fac=function(D){return new(D||v)};static#t=this.\u0275cmp=g.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(D,F){1&D&&g._UZ(0,"router-outlet")},dependencies:[qr],encapsulation:2})}return v})();function Ki(v){const w=v.children&&v.children.map(Ki),y=w?{...v,children:w}:{...v};return!y.component&&!y.loadComponent&&(w||y.loadChildren)&&y.outlet&&y.outlet!==Vt&&(y.component=fn),y}function vo(v){return v.outlet||Vt}function Ji(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let w=v.parent;w;w=w.parent){const y=w.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Qi{constructor(w,y,D,F,W){this.routeReuseStrategy=w,this.futureState=y,this.currState=D,this.forwardEvent=F,this.inputBindingEnabled=W}activate(w){const y=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,D,w),Ri(this.futureState.root),this.activateChildRoutes(y,D,w)}deactivateChildRoutes(w,y,D){const F=ci(y);w.children.forEach(W=>{const ge=W.value.outlet;this.deactivateRoutes(W,F[ge],D),delete F[ge]}),Object.values(F).forEach(W=>{this.deactivateRouteAndItsChildren(W,D)})}deactivateRoutes(w,y,D){const F=w.value,W=y?y.value:null;if(F===W)if(F.component){const ge=D.getContext(F.outlet);ge&&this.deactivateChildRoutes(w,y,ge.children)}else this.deactivateChildRoutes(w,y,D);else W&&this.deactivateRouteAndItsChildren(y,D)}deactivateRouteAndItsChildren(w,y){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,y):this.deactivateRouteAndOutlet(w,y)}detachAndStoreRouteSubtree(w,y){const D=y.getContext(w.value.outlet),F=D&&w.value.component?D.children:y,W=ci(w);for(const ge of Object.keys(W))this.deactivateRouteAndItsChildren(W[ge],F);if(D&&D.outlet){const ge=D.outlet.detach(),Qe=D.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:ge,route:w,contexts:Qe})}}deactivateRouteAndOutlet(w,y){const D=y.getContext(w.value.outlet),F=D&&w.value.component?D.children:y,W=ci(w);for(const ge of Object.keys(W))this.deactivateRouteAndItsChildren(W[ge],F);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(w,y,D){const F=ci(y);w.children.forEach(W=>{this.activateRoutes(W,F[W.value.outlet],D),this.forwardEvent(new Ds(W.value.snapshot))}),w.children.length&&this.forwardEvent(new Nr(w.value.snapshot))}activateRoutes(w,y,D){const F=w.value,W=y?y.value:null;if(Ri(F),F===W)if(F.component){const ge=D.getOrCreateContext(F.outlet);this.activateChildRoutes(w,y,ge.children)}else this.activateChildRoutes(w,y,D);else if(F.component){const ge=D.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const Qe=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),ge.children.onOutletReAttached(Qe.contexts),ge.attachRef=Qe.componentRef,ge.route=Qe.route.value,ge.outlet&&ge.outlet.attach(Qe.componentRef,Qe.route.value),Ri(Qe.route.value),this.activateChildRoutes(w,null,ge.children)}else{const Qe=Ji(F.snapshot);ge.attachRef=null,ge.route=F,ge.injector=Qe,ge.outlet&&ge.outlet.activateWith(F,ge.injector),this.activateChildRoutes(w,null,ge.children)}}else this.activateChildRoutes(w,null,D)}}class Os{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class To{constructor(w,y){this.component=w,this.route=y}}function Mi(v,w,y){const D=v._root;return yo(D,w?w._root:null,y,[D.value])}function Po(v,w){const y=Symbol(),D=w.get(v,y);return D===y?"function"!=typeof v||(0,g.Z0I)(v)?w.get(v):v:D}function yo(v,w,y,D,F={canDeactivateChecks:[],canActivateChecks:[]}){const W=ci(w);return v.children.forEach(ge=>{(function ia(v,w,y,D,F={canDeactivateChecks:[],canActivateChecks:[]}){const W=v.value,ge=w?w.value:null,Qe=y?y.getContext(v.value.outlet):null;if(ge&&W.routeConfig===ge.routeConfig){const qe=function fi(v,w,y){if("function"==typeof y)return y(v,w);switch(y){case"pathParamsChange":return!Tn(v.url,w.url);case"pathParamsOrQueryParamsChange":return!Tn(v.url,w.url)||!Dt(v.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_r(v,w)||!Dt(v.queryParams,w.queryParams);default:return!_r(v,w)}}(ge,W,W.routeConfig.runGuardsAndResolvers);qe?F.canActivateChecks.push(new Os(D)):(W.data=ge.data,W._resolvedData=ge._resolvedData),yo(v,w,W.component?Qe?Qe.children:null:y,D,F),qe&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&F.canDeactivateChecks.push(new To(Qe.outlet.component,ge))}else ge&&Hn(w,Qe,F),F.canActivateChecks.push(new Os(D)),yo(v,null,W.component?Qe?Qe.children:null:y,D,F)})(ge,W[ge.value.outlet],y,D.concat([ge.value]),F),delete W[ge.value.outlet]}),Object.entries(W).forEach(([ge,Qe])=>Hn(Qe,y.getContext(ge),F)),F}function Hn(v,w,y){const D=ci(v),F=v.value;Object.entries(D).forEach(([W,ge])=>{Hn(ge,F.component?w?w.children.getContext(W):null:w,y)}),y.canDeactivateChecks.push(new To(F.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,F))}function L(v){return"function"==typeof v}function Br(v){return v instanceof oe||"EmptyError"===v?.name}const cs=Symbol("INITIAL_VALUE");function Ur(){return(0,ce.w)(v=>(0,be.a)(v.map(w=>w.pipe((0,Re.q)(1),(0,ze.O)(cs)))).pipe((0,pe.U)(w=>{for(const y of w)if(!0!==y){if(y===cs)return cs;if(!1===y||y instanceof so)return y}return!0}),(0,at.h)(w=>w!==cs),(0,Re.q)(1)))}function Ts(v){return(0,Oe.z)((0,je.b)(w=>{if(Te(w))throw Yi(0,w)}),(0,pe.U)(w=>!0===w))}class Ar{constructor(w){this.segmentGroup=w||null}}class qs{constructor(w){this.urlTree=w}}function us(v){return(0,We._)(new Ar(v))}function Ps(v){return(0,We._)(new qs(v))}class Ys{constructor(w,y){this.urlSerializer=w,this.urlTree=y}noMatchError(w){return new g.vHH(4002,!1)}lineralizeSegments(w,y){let D=[],F=y.root;for(;;){if(D=D.concat(F.segments),0===F.numberOfChildren)return(0,K.of)(D);if(F.numberOfChildren>1||!F.children[Vt])return(0,We._)(new g.vHH(4e3,!1));F=F.children[Vt]}}applyRedirectCommands(w,y,D){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),w,D)}applyRedirectCreateUrlTree(w,y,D,F){const W=this.createSegmentGroup(w,y.root,D,F);return new so(W,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(w,y){const D={};return Object.entries(w).forEach(([F,W])=>{if("string"==typeof W&&W.startsWith(":")){const Qe=W.substring(1);D[F]=y[Qe]}else D[F]=W}),D}createSegmentGroup(w,y,D,F){const W=this.createSegments(w,y.segments,D,F);let ge={};return Object.entries(y.children).forEach(([Qe,qe])=>{ge[Qe]=this.createSegmentGroup(w,qe,D,F)}),new jn(W,ge)}createSegments(w,y,D,F){return y.map(W=>W.path.startsWith(":")?this.findPosParam(w,W,F):this.findOrReturn(W,D))}findPosParam(w,y,D){const F=D[y.path.substring(1)];if(!F)throw new g.vHH(4001,!1);return F}findOrReturn(w,y){let D=0;for(const F of y){if(F.path===w.path)return y.splice(D),F;D++}return w}}const As={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vo(v,w,y,D,F){const W=Kr(v,w,y);return W.matched?(D=function Ci(v,w){return v.providers&&!v._injector&&(v._injector=(0,g.MMx)(v.providers,w,`Route: ${v.path}`)),v._injector??w}(w,D),function ca(v,w,y,D){const F=w.canMatch;if(!F||0===F.length)return(0,K.of)(!0);const W=F.map(ge=>{const Qe=Po(ge,v);return kt(function En(v){return v&&L(v.canMatch)}(Qe)?Qe.canMatch(w,y):v.runInContext(()=>Qe(w,y)))});return(0,K.of)(W).pipe(Ur(),Ts())}(D,w,y).pipe((0,pe.U)(ge=>!0===ge?W:{...As}))):(0,K.of)(W)}function Kr(v,w,y){if(""===w.path)return"full"===w.pathMatch&&(v.hasChildren()||y.length>0)?{...As}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const F=(w.matcher||dt)(y,v,w);if(!F)return{...As};const W={};Object.entries(F.posParams??{}).forEach(([Qe,qe])=>{W[Qe]=qe.path});const ge=F.consumed.length>0?{...W,...F.consumed[F.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:F.consumed,remainingSegments:y.slice(F.consumed.length),parameters:ge,positionalParamSegments:F.posParams??{}}}function ii(v,w,y,D){return y.length>0&&function Ss(v,w,y){return y.some(D=>io(v,w,D)&&vo(D)!==Vt)}(v,y,D)?{segmentGroup:new jn(w,Xi(D,new jn(y,v.children))),slicedSegments:[]}:0===y.length&&function Mn(v,w,y){return y.some(D=>io(v,w,D))}(v,y,D)?{segmentGroup:new jn(v.segments,la(v,0,y,D,v.children)),slicedSegments:y}:{segmentGroup:new jn(v.segments,v.children),slicedSegments:y}}function la(v,w,y,D,F){const W={};for(const ge of D)if(io(v,y,ge)&&!F[vo(ge)]){const Qe=new jn([],{});W[vo(ge)]=Qe}return{...F,...W}}function Xi(v,w){const y={};y[Vt]=w;for(const D of v)if(""===D.path&&vo(D)!==Vt){const F=new jn([],{});y[vo(D)]=F}return y}function io(v,w,y){return(!(v.hasChildren()||w.length>0)||"full"!==y.pathMatch)&&""===y.path}class bn{constructor(w,y,D,F,W,ge,Qe){this.injector=w,this.configLoader=y,this.rootComponentType=D,this.config=F,this.urlTree=W,this.paramsInheritanceStrategy=ge,this.urlSerializer=Qe,this.allowRedirects=!0,this.applyRedirects=new Ys(this.urlSerializer,this.urlTree)}noMatchError(w){return new g.vHH(4002,!1)}recognize(){const w=ii(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,Vt).pipe((0,Se.K)(y=>{if(y instanceof qs)return this.allowRedirects=!1,this.urlTree=y.urlTree,this.match(y.urlTree);throw y instanceof Ar?this.noMatchError(y):y}),(0,pe.U)(y=>{const D=new ro([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,{}),F=new uo(D,y),W=new Ii("",F),ge=function ht(v,w,y=null,D=null){return Nt(xt(v),w,y,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return ge.queryParams=this.urlTree.queryParams,W.url=this.urlSerializer.serialize(ge),this.inheritParamsAndData(W._root),{state:W,tree:ge}}))}match(w){return this.processSegmentGroup(this.injector,this.config,w.root,Vt).pipe((0,Se.K)(D=>{throw D instanceof Ar?this.noMatchError(D):D}))}inheritParamsAndData(w){const y=w.value,D=kn(y,this.paramsInheritanceStrategy);y.params=Object.freeze(D.params),y.data=Object.freeze(D.data),w.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(w,y,D,F){return 0===D.segments.length&&D.hasChildren()?this.processChildren(w,y,D):this.processSegment(w,y,D,D.segments,F,!0)}processChildren(w,y,D){const F=[];for(const W of Object.keys(D.children))"primary"===W?F.unshift(W):F.push(W);return(0,o.D)(F).pipe((0,qn.b)(W=>{const ge=D.children[W],Qe=function Yr(v,w){const y=v.filter(D=>vo(D)===w);return y.push(...v.filter(D=>vo(D)!==w)),y}(y,W);return this.processSegmentGroup(w,Qe,ge,W)}),function et(v,w){return(0,Mt.e)(function Xe(v,w,y,D,F){return(W,ge)=>{let Qe=y,qe=w,Rt=0;W.subscribe((0,Pe.x)(ge,mn=>{const lo=Rt++;qe=Qe?v(qe,mn,lo):(Qe=!0,mn),D&&ge.next(qe)},F&&(()=>{Qe&&ge.next(qe),ge.complete()})))}}(v,w,arguments.length>=2,!0))}((W,ge)=>(W.push(...ge),W)),Ne(null),function yt(v,w){const y=arguments.length>=2;return D=>D.pipe(v?(0,at.h)((F,W)=>v(F,W,D)):Ut.y,mt(1),y?Ne(w):ft(()=>new oe))}(),(0,Je.z)(W=>{if(null===W)return us(D);const ge=co(W);return function Ks(v){v.sort((w,y)=>w.value.outlet===Vt?-1:y.value.outlet===Vt?1:w.value.outlet.localeCompare(y.value.outlet))}(ge),(0,K.of)(ge)}))}processSegment(w,y,D,F,W,ge){return(0,o.D)(y).pipe((0,qn.b)(Qe=>this.processSegmentAgainstRoute(Qe._injector??w,y,Qe,D,F,W,ge).pipe((0,Se.K)(qe=>{if(qe instanceof Ar)return(0,K.of)(null);throw qe}))),vn(Qe=>!!Qe),(0,Se.K)(Qe=>{if(Br(Qe))return function xo(v,w,y){return 0===w.length&&!v.children[y]}(D,F,W)?(0,K.of)([]):us(D);throw Qe}))}processSegmentAgainstRoute(w,y,D,F,W,ge,Qe){return function In(v,w,y,D){return!!(vo(v)===D||D!==Vt&&io(w,y,v))&&("**"===v.path||Kr(w,v,y).matched)}(D,F,W,ge)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(w,F,D,W,ge,Qe):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,F,y,D,W,ge):us(F):us(F)}expandSegmentAgainstRouteUsingRedirect(w,y,D,F,W,ge){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,D,F,ge):this.expandRegularSegmentAgainstRouteUsingRedirect(w,y,D,F,W,ge)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,y,D,F){const W=this.applyRedirects.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?Ps(W):this.applyRedirects.lineralizeSegments(D,W).pipe((0,Je.z)(ge=>{const Qe=new jn(ge,{});return this.processSegment(w,y,Qe,ge,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,y,D,F,W,ge){const{matched:Qe,consumedSegments:qe,remainingSegments:Rt,positionalParamSegments:mn}=Kr(y,F,W);if(!Qe)return us(y);const lo=this.applyRedirects.applyRedirectCommands(qe,F.redirectTo,mn);return F.redirectTo.startsWith("/")?Ps(lo):this.applyRedirects.lineralizeSegments(F,lo).pipe((0,Je.z)(Zn=>this.processSegment(w,D,y,Zn.concat(Rt),ge,!1)))}matchSegmentAgainstRoute(w,y,D,F,W,ge){let Qe;if("**"===D.path){const qe=F.length>0?wt(F).parameters:{},Rt=new ro(F,qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cr(D),vo(D),D.component??D._loadedComponent??null,D,Jr(D));Qe=(0,K.of)({snapshot:Rt,consumedSegments:[],remainingSegments:[]}),y.children={}}else Qe=Vo(y,D,F,w).pipe((0,pe.U)(({matched:qe,consumedSegments:Rt,remainingSegments:mn,parameters:lo})=>qe?{snapshot:new ro(Rt,lo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cr(D),vo(D),D.component??D._loadedComponent??null,D,Jr(D)),consumedSegments:Rt,remainingSegments:mn}:null));return Qe.pipe((0,ce.w)(qe=>null===qe?us(y):this.getChildConfig(w=D._injector??w,D,F).pipe((0,ce.w)(({routes:Rt})=>{const mn=D._loadedInjector??w,{snapshot:lo,consumedSegments:Zn,remainingSegments:hi}=qe,{segmentGroup:hs,slicedSegments:Fs}=ii(y,Zn,hi,Rt);if(0===Fs.length&&hs.hasChildren())return this.processChildren(mn,Rt,hs).pipe((0,pe.U)(Ns=>null===Ns?null:[new uo(lo,Ns)]));if(0===Rt.length&&0===Fs.length)return(0,K.of)([new uo(lo,[])]);const oc=vo(D)===W;return this.processSegment(mn,Rt,hs,Fs,oc?Vt:W,!0).pipe((0,pe.U)(Ns=>[new uo(lo,Ns)]))}))))}getChildConfig(w,y,D){return y.children?(0,K.of)({routes:y.children,injector:w}):y.loadChildren?void 0!==y._loadedRoutes?(0,K.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function jr(v,w,y,D){const F=w.canLoad;if(void 0===F||0===F.length)return(0,K.of)(!0);const W=F.map(ge=>{const Qe=Po(ge,v);return kt(function P(v){return v&&L(v.canLoad)}(Qe)?Qe.canLoad(w,y):v.runInContext(()=>Qe(w,y)))});return(0,K.of)(W).pipe(Ur(),Ts())}(w,y,D).pipe((0,Je.z)(F=>F?this.configLoader.loadChildren(w,y).pipe((0,je.b)(W=>{y._loadedRoutes=W.routes,y._loadedInjector=W.injector})):function xr(v){return(0,We._)(fo(!1,3))}())):(0,K.of)({routes:[],injector:w})}}function Js(v){const w=v.value.routeConfig;return w&&""===w.path}function co(v){const w=[],y=new Set;for(const D of v){if(!Js(D)){w.push(D);continue}const F=w.find(W=>D.value.routeConfig===W.value.routeConfig);void 0!==F?(F.children.push(...D.children),y.add(F)):w.push(D)}for(const D of y){const F=co(D.children);w.push(new uo(D.value,F))}return w.filter(D=>!y.has(D))}function cr(v){return v.data||{}}function Jr(v){return v.resolve||{}}function S(v){return"string"==typeof v.title||null===v.title}function H(v){return(0,ce.w)(w=>{const y=v(w);return y?(0,o.D)(y).pipe((0,pe.U)(()=>w)):(0,K.of)(w)})}const me=new g.OlP("ROUTES");let Ge=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,K.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const D=kt(y.loadComponent()).pipe((0,pe.U)(Rn),(0,je.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=W}),(0,on.x)(()=>{this.componentLoaders.delete(y)})),F=new de(D,()=>new ue.x).pipe(it());return this.componentLoaders.set(y,F),F}loadChildren(y,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,K.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const W=function ut(v,w,y,D){return kt(v.loadChildren()).pipe((0,pe.U)(Rn),(0,Je.z)(F=>F instanceof g.YKP||Array.isArray(F)?(0,K.of)(F):(0,o.D)(w.compileModuleAsync(F))),(0,pe.U)(F=>{D&&D(v);let W,ge,Qe=!1;return Array.isArray(F)?(ge=F,!0):(W=F.create(y).injector,ge=W.get(me,[],{optional:!0,self:!0}).flat()),{routes:ge.map(Ki),injector:W}}))}(D,this.compiler,y,this.onLoadEndListener).pipe((0,on.x)(()=>{this.childrenLoaders.delete(D)})),ge=new de(W,()=>new ue.x).pipe(it());return this.childrenLoaders.set(D,ge),ge}static#e=this.\u0275fac=function(D){return new(D||v)};static#t=this.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Rn(v){return function qt(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let Xn=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ue.x,this.transitionAbortSubject=new ue.x,this.configLoader=(0,g.f3M)(Ge),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(Qo),this.rootContexts=(0,g.f3M)(Io),this.inputBindingEnabled=null!==(0,g.f3M)(Yn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,K.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=F=>this.events.next(new _o(F)),this.configLoader.onLoadStartListener=F=>this.events.next(new Gs(F))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const D=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:D})}setupNavigations(y,D,F){return this.transitions=new ne.X({id:0,currentUrlTree:D,currentRawUrl:D,currentBrowserUrl:D,extractedUrl:y.urlHandlingStrategy.extract(D),urlAfterRedirects:y.urlHandlingStrategy.extract(D),rawUrl:D,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yi,restoredState:null,currentSnapshot:F.snapshot,targetSnapshot:null,currentRouterState:F,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,at.h)(W=>0!==W.id),(0,pe.U)(W=>({...W,extractedUrl:y.urlHandlingStrategy.extract(W.rawUrl)})),(0,ce.w)(W=>{this.currentTransition=W;let ge=!1,Qe=!1;return(0,K.of)(W).pipe((0,je.b)(qe=>{this.currentNavigation={id:qe.id,initialUrl:qe.rawUrl,extractedUrl:qe.extractedUrl,trigger:qe.source,extras:qe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ce.w)(qe=>{const Rt=qe.currentBrowserUrl.toString(),mn=!y.navigated||qe.extractedUrl.toString()!==Rt||Rt!==qe.currentUrlTree.toString();if(!mn&&"reload"!==(qe.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const Zn="";return this.events.next(new Dr(qe.id,this.urlSerializer.serialize(qe.rawUrl),Zn,0)),qe.resolve(null),Ke.E}if(y.urlHandlingStrategy.shouldProcessUrl(qe.rawUrl))return(0,K.of)(qe).pipe((0,ce.w)(Zn=>{const hi=this.transitions?.getValue();return this.events.next(new Er(Zn.id,this.urlSerializer.serialize(Zn.extractedUrl),Zn.source,Zn.restoredState)),hi!==this.transitions?.getValue()?Ke.E:Promise.resolve(Zn)}),function Sa(v,w,y,D,F,W){return(0,Je.z)(ge=>function li(v,w,y,D,F,W,ge="emptyOnly"){return new bn(v,w,y,D,F,ge,W).recognize()}(v,w,y,D,ge.extractedUrl,F,W).pipe((0,pe.U)(({state:Qe,tree:qe})=>({...ge,targetSnapshot:Qe,urlAfterRedirects:qe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,je.b)(Zn=>{W.targetSnapshot=Zn.targetSnapshot,W.urlAfterRedirects=Zn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Zn.urlAfterRedirects};const hi=new Zs(Zn.id,this.urlSerializer.serialize(Zn.extractedUrl),this.urlSerializer.serialize(Zn.urlAfterRedirects),Zn.targetSnapshot);this.events.next(hi)}));if(mn&&y.urlHandlingStrategy.shouldProcessUrl(qe.currentRawUrl)){const{id:Zn,extractedUrl:hi,source:hs,restoredState:Fs,extras:oc}=qe,Ns=new Er(Zn,this.urlSerializer.serialize(hi),hs,Fs);this.events.next(Ns);const vl=Or(0,this.rootComponentType).snapshot;return this.currentTransition=W={...qe,targetSnapshot:vl,urlAfterRedirects:hi,extras:{...oc,skipLocationChange:!1,replaceUrl:!1}},(0,K.of)(W)}{const Zn="";return this.events.next(new Dr(qe.id,this.urlSerializer.serialize(qe.extractedUrl),Zn,1)),qe.resolve(null),Ke.E}}),(0,je.b)(qe=>{const Rt=new bs(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot);this.events.next(Rt)}),(0,pe.U)(qe=>(this.currentTransition=W={...qe,guards:Mi(qe.targetSnapshot,qe.currentSnapshot,this.rootContexts)},W)),function ra(v,w){return(0,Je.z)(y=>{const{targetSnapshot:D,currentSnapshot:F,guards:{canActivateChecks:W,canDeactivateChecks:ge}}=y;return 0===ge.length&&0===W.length?(0,K.of)({...y,guardsResult:!0}):function ar(v,w,y,D){return(0,o.D)(v).pipe((0,Je.z)(F=>function ds(v,w,y,D,F){const W=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,K.of)(!0);const ge=W.map(Qe=>{const qe=Ji(w)??F,Rt=Po(Qe,qe);return kt(function zt(v){return v&&L(v.canDeactivate)}(Rt)?Rt.canDeactivate(v,w,y,D):qe.runInContext(()=>Rt(v,w,y,D))).pipe(vn())});return(0,K.of)(ge).pipe(Ur())}(F.component,F.route,y,w,D)),vn(F=>!0!==F,!0))}(ge,D,F,v).pipe((0,Je.z)(Qe=>Qe&&function j(v){return"boolean"==typeof v}(Qe)?function ls(v,w,y,D){return(0,o.D)(w).pipe((0,qn.b)(F=>(0,se.z)(function sa(v,w){return null!==v&&w&&w(new Es(v)),(0,K.of)(!0)}(F.route.parent,D),function tc(v,w){return null!==v&&w&&w(new or(v)),(0,K.of)(!0)}(F.route,D),function Ws(v,w,y){const D=w[w.length-1],W=w.slice(0,w.length-1).reverse().map(ge=>function yr(v){const w=v.routeConfig?v.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:v,guards:w}:null}(ge)).filter(ge=>null!==ge).map(ge=>Ce(()=>{const Qe=ge.guards.map(qe=>{const Rt=Ji(ge.node)??y,mn=Po(qe,Rt);return kt(function ve(v){return v&&L(v.canActivateChild)}(mn)?mn.canActivateChild(D,v):Rt.runInContext(()=>mn(D,v))).pipe(vn())});return(0,K.of)(Qe).pipe(Ur())}));return(0,K.of)(W).pipe(Ur())}(v,F.path,y),function aa(v,w,y){const D=w.routeConfig?w.routeConfig.canActivate:null;if(!D||0===D.length)return(0,K.of)(!0);const F=D.map(W=>Ce(()=>{const ge=Ji(w)??y,Qe=Po(W,ge);return kt(function Q(v){return v&&L(v.canActivate)}(Qe)?Qe.canActivate(w,v):ge.runInContext(()=>Qe(w,v))).pipe(vn())}));return(0,K.of)(F).pipe(Ur())}(v,F.route,y))),vn(F=>!0!==F,!0))}(D,W,v,w):(0,K.of)(Qe)),(0,pe.U)(Qe=>({...y,guardsResult:Qe})))})}(this.environmentInjector,qe=>this.events.next(qe)),(0,je.b)(qe=>{if(W.guardsResult=qe.guardsResult,Te(qe.guardsResult))throw Yi(0,qe.guardsResult);const Rt=new $s(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot,!!qe.guardsResult);this.events.next(Rt)}),(0,at.h)(qe=>!!qe.guardsResult||(this.cancelNavigationTransition(qe,"",3),!1)),H(qe=>{if(qe.guards.canActivateChecks.length)return(0,K.of)(qe).pipe((0,je.b)(Rt=>{const mn=new ai(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects),Rt.targetSnapshot);this.events.next(mn)}),(0,ce.w)(Rt=>{let mn=!1;return(0,K.of)(Rt).pipe(function nc(v,w){return(0,Je.z)(y=>{const{targetSnapshot:D,guards:{canActivateChecks:F}}=y;if(!F.length)return(0,K.of)(y);let W=0;return(0,o.D)(F).pipe((0,qn.b)(ge=>function Vr(v,w,y,D){const F=v.routeConfig,W=v._resolve;return void 0!==F?.title&&!S(F)&&(W[fe]=F.title),function ys(v,w,y,D){const F=function M(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===F.length)return(0,K.of)({});const W={};return(0,o.D)(F).pipe((0,Je.z)(ge=>function q(v,w,y,D){const F=Ji(w)??D,W=Po(v,F);return kt(W.resolve?W.resolve(w,y):F.runInContext(()=>W(w,y)))}(v[ge],w,y,D).pipe(vn(),(0,je.b)(Qe=>{W[ge]=Qe}))),mt(1),function Zt(v){return(0,pe.U)(()=>v)}(W),(0,Se.K)(ge=>Br(ge)?Ke.E:(0,We._)(ge)))}(W,v,w,D).pipe((0,pe.U)(ge=>(v._resolvedData=ge,v.data=kn(v,y).resolve,F&&S(F)&&(v.data[fe]=F.title),null)))}(ge.route,D,v,w)),(0,je.b)(()=>W++),mt(1),(0,Je.z)(ge=>W===F.length?(0,K.of)(y):Ke.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,je.b)({next:()=>mn=!0,complete:()=>{mn||this.cancelNavigationTransition(Rt,"",2)}}))}),(0,je.b)(Rt=>{const mn=new ks(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects),Rt.targetSnapshot);this.events.next(mn)}))}),H(qe=>{const Rt=mn=>{const lo=[];mn.routeConfig?.loadComponent&&!mn.routeConfig._loadedComponent&&lo.push(this.configLoader.loadComponent(mn.routeConfig).pipe((0,je.b)(Zn=>{mn.component=Zn}),(0,pe.U)(()=>{})));for(const Zn of mn.children)lo.push(...Rt(Zn));return lo};return(0,be.a)(Rt(qe.targetSnapshot.root)).pipe(Ne(),(0,Re.q)(1))}),H(()=>this.afterPreactivation()),(0,pe.U)(qe=>{const Rt=function hn(v,w,y){const D=Vn(v,w._root,y?y._root:void 0);return new vs(D,w)}(y.routeReuseStrategy,qe.targetSnapshot,qe.currentRouterState);return this.currentTransition=W={...qe,targetRouterState:Rt},W}),(0,je.b)(()=>{this.events.next(new gr)}),((v,w,y,D)=>(0,pe.U)(F=>(new Qi(w,F.targetRouterState,F.currentRouterState,y,D).activate(v),F)))(this.rootContexts,y.routeReuseStrategy,qe=>this.events.next(qe),this.inputBindingEnabled),(0,Re.q)(1),(0,je.b)({next:qe=>{ge=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ei(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects))),y.titleStrategy?.updateTitle(qe.targetRouterState.snapshot),qe.resolve(!0)},complete:()=>{ge=!0}}),(0,Bn.R)(this.transitionAbortSubject.pipe((0,je.b)(qe=>{throw qe}))),(0,on.x)(()=>{ge||Qe||this.cancelNavigationTransition(W,"",1),this.currentNavigation?.id===W.id&&(this.currentNavigation=null)}),(0,Se.K)(qe=>{if(Qe=!0,Fi(qe))this.events.next(new xi(W.id,this.urlSerializer.serialize(W.extractedUrl),qe.message,qe.cancellationCode)),function sr(v){return Fi(v)&&Te(v.url)}(qe)?this.events.next(new Wr(qe.url)):W.resolve(!1);else{this.events.next(new Gi(W.id,this.urlSerializer.serialize(W.extractedUrl),qe,W.targetSnapshot??void 0));try{W.resolve(y.errorHandler(qe))}catch(Rt){W.reject(Rt)}}return Ke.E}))}))}cancelNavigationTransition(y,D,F){const W=new xi(y.id,this.urlSerializer.serialize(y.extractedUrl),D,F);this.events.next(W),y.resolve(!1)}static#e=this.\u0275fac=function(D){return new(D||v)};static#t=this.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function eo(v){return v!==yi}let Yt=(()=>{class v{buildTitle(y){let D,F=y.root;for(;void 0!==F;)D=this.getResolvedTitleForRoute(F)??D,F=F.children.find(W=>W.outlet===Vt);return D}getResolvedTitleForRoute(y){return y.data[fe]}static#e=this.\u0275fac=function(D){return new(D||v)};static#t=this.\u0275prov=g.Yz7({token:v,factory:function(){return(0,g.f3M)(yn)},providedIn:"root"})}return v})(),yn=(()=>{class v extends Yt{constructor(y){super(),this.title=y}updateTitle(y){const D=this.buildTitle(y);void 0!==D&&this.title.setTitle(D)}static#e=this.\u0275fac=function(D){return new(D||v)(g.LFG(Un.Dx))};static#t=this.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),go=(()=>{class v{static#e=this.\u0275fac=function(D){return new(D||v)};static#t=this.\u0275prov=g.Yz7({token:v,factory:function(){return(0,g.f3M)(Hr)},providedIn:"root"})}return v})();class Ho{shouldDetach(w){return!1}store(w,y){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,y){return w.routeConfig===y.routeConfig}}let Hr=(()=>{class v extends Ho{static#e=this.\u0275fac=function(){let y;return function(F){return(y||(y=g.n5z(v)))(F||v)}}();static#t=this.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const Jn=new g.OlP("",{providedIn:"root",factory:()=>({})});let Vi=(()=>{class v{static#e=this.\u0275fac=function(D){return new(D||v)};static#t=this.\u0275prov=g.Yz7({token:v,factory:function(){return(0,g.f3M)(er)},providedIn:"root"})}return v})(),er=(()=>{class v{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,D){return y}static#e=this.\u0275fac=function(D){return new(D||v)};static#t=this.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var qo=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(qo||{});function Yo(v,w){v.events.pipe((0,at.h)(y=>y instanceof ei||y instanceof xi||y instanceof Gi||y instanceof Dr),(0,pe.U)(y=>y instanceof ei||y instanceof Dr?qo.COMPLETE:y instanceof xi&&(0===y.code||1===y.code)?qo.REDIRECTING:qo.FAILED),(0,at.h)(y=>y!==qo.REDIRECTING),(0,Re.q)(1)).subscribe(()=>{w()})}function R(v){throw v}function b(v,w,y){return w.parse("/")}const x={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let V=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new ue.x,this.options=(0,g.f3M)(Jn,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||R,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||b,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Vi),this.routeReuseStrategy=(0,g.f3M)(go),this.titleStrategy=(0,g.f3M)(Yt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,g.f3M)(me,{optional:!0})?.flat()??[],this.navigationTransitions=(0,g.f3M)(Xn),this.urlSerializer=(0,g.f3M)(Qo),this.location=(0,g.f3M)(Le.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(Yn,{optional:!0}),this.eventsSubscription=new rt.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new so,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Or(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(D=>{try{const{currentTransition:F}=this.navigationTransitions;if(null===F)return void(ye(D)&&this._events.next(D));if(D instanceof Er)eo(F.source)&&(this.browserUrlTree=F.extractedUrl);else if(D instanceof Dr)this.rawUrlTree=F.rawUrl;else if(D instanceof Zs){if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const W=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(W,F)}this.browserUrlTree=F.urlAfterRedirects}}else if(D instanceof gr)this.currentUrlTree=F.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F),this.browserUrlTree=F.urlAfterRedirects);else if(D instanceof xi)0!==D.code&&1!==D.code&&(this.navigated=!0),(3===D.code||2===D.code)&&this.restoreHistory(F);else if(D instanceof Wr){const W=this.urlHandlingStrategy.merge(D.url,F.currentRawUrl),ge={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||eo(F.source)};this.scheduleNavigation(W,yi,null,ge,{resolve:F.resolve,reject:F.reject,promise:F.promise})}D instanceof Gi&&this.restoreHistory(F,!0),D instanceof ei&&(this.navigated=!0),ye(D)&&this._events.next(D)}catch(F){this.navigationTransitions.transitionAbortSubject.next(F)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yi,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const D="popstate"===y.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,D,y.state)},0)}))}navigateToSyncWithBrowser(y,D,F){const W={replaceUrl:!0},ge=F?.navigationId?F:null;if(F){const qe={...F};delete qe.navigationId,delete qe.\u0275routerPageId,0!==Object.keys(qe).length&&(W.state=qe)}const Qe=this.parseUrl(y);this.scheduleNavigation(Qe,D,ge,W)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(Ki),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,D={}){const{relativeTo:F,queryParams:W,fragment:ge,queryParamsHandling:Qe,preserveFragment:qe}=D,Rt=qe?this.currentUrlTree.fragment:ge;let lo,mn=null;switch(Qe){case"merge":mn={...this.currentUrlTree.queryParams,...W};break;case"preserve":mn=this.currentUrlTree.queryParams;break;default:mn=W||null}null!==mn&&(mn=this.removeEmptyProps(mn));try{lo=xt(F?F.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||!y[0].startsWith("/"))&&(y=[]),lo=this.currentUrlTree.root}return Nt(lo,y,mn,Rt??null)}navigateByUrl(y,D={skipLocationChange:!1}){const F=Te(y)?y:this.parseUrl(y),W=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(W,yi,null,D)}navigate(y,D={skipLocationChange:!1}){return function te(v){for(let w=0;w<v.length;w++)if(null==v[w])throw new g.vHH(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,D),D)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let D;try{D=this.urlSerializer.parse(y)}catch(F){D=this.malformedUriErrorHandler(F,this.urlSerializer,y)}return D}isActive(y,D){let F;if(F=!0===D?{...x}:!1===D?{...T}:D,Te(y))return an(this.currentUrlTree,y,F);const W=this.parseUrl(y);return an(this.currentUrlTree,W,F)}removeEmptyProps(y){return Object.keys(y).reduce((D,F)=>{const W=y[F];return null!=W&&(D[F]=W),D},{})}scheduleNavigation(y,D,F,W,ge){if(this.disposed)return Promise.resolve(!1);let Qe,qe,Rt;ge?(Qe=ge.resolve,qe=ge.reject,Rt=ge.promise):Rt=new Promise((lo,Zn)=>{Qe=lo,qe=Zn});const mn=this.pendingTasks.add();return Yo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(mn))}),this.navigationTransitions.handleNavigationRequest({source:D,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:y,extras:W,resolve:Qe,reject:qe,promise:Rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rt.catch(lo=>Promise.reject(lo))}setBrowserUrl(y,D){const F=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(F)||D.extras.replaceUrl){const ge={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId)};this.location.replaceState(F,"",ge)}else{const W={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId+1)};this.location.go(F,"",W)}}restoreHistory(y,D=!1){if("computed"===this.canceledNavigationResolution){const W=this.currentPageId-this.browserPageId;0!==W?this.location.historyGo(W):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===W&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,D){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:D}:{navigationId:y}}static#e=this.\u0275fac=function(D){return new(D||v)};static#t=this.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function ye(v){return!(v instanceof gr||v instanceof Wr)}let xe=(()=>{class v{constructor(y,D,F,W,ge,Qe){this.router=y,this.route=D,this.tabIndexAttribute=F,this.renderer=W,this.el=ge,this.locationStrategy=Qe,this.href=null,this.commands=null,this.onChanges=new ue.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const qe=ge.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===qe||"area"===qe,this.isAnchorElement?this.subscription=y.events.subscribe(Rt=>{Rt instanceof ei&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,D,F,W,ge){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||D||F||W||ge||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,D){const F=this.renderer,W=this.el.nativeElement;null!==D?F.setAttribute(W,y,D):F.removeAttribute(W,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(D){return new(D||v)(g.Y36(V),g.Y36(Di),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Le.S$))};static#t=this.\u0275dir=g.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,F){1&D&&g.NdJ("click",function(ge){return F.onClick(ge.button,ge.ctrlKey,ge.shiftKey,ge.altKey,ge.metaKey)}),2&D&&g.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]})}return v})(),He=(()=>{class v{get isActive(){return this._isActive}constructor(y,D,F,W,ge){this.router=y,this.element=D,this.renderer=F,this.cdr=W,this.link=ge,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.vpe,this.routerEventsSubscription=y.events.subscribe(Qe=>{Qe instanceof ei&&this.update()})}ngAfterContentInit(){(0,K.of)(this.links.changes,(0,K.of)(null)).pipe((0,Qt.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),this.link].filter(D=>!!D).map(D=>D.onChanges);this.linkInputChangesSubscription=(0,o.D)(y).pipe((0,Qt.J)()).subscribe(D=>{this._isActive!==this.isLinkActive(this.router)(D)&&this.update()})}set routerLinkActive(y){const D=Array.isArray(y)?y:y.split(" ");this.classes=D.filter(F=>!!F)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const y=this.hasActiveLinks();this._isActive!==y&&(this._isActive=y,this.cdr.markForCheck(),this.classes.forEach(D=>{y?this.renderer.addClass(this.element.nativeElement,D):this.renderer.removeClass(this.element.nativeElement,D)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(y))})}isLinkActive(y){const D=function st(v){return!!v.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return F=>!!F.urlTree&&y.isActive(F.urlTree,D)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.links.some(y)}static#e=this.\u0275fac=function(D){return new(D||v)(g.Y36(V),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(xe,8))};static#t=this.\u0275dir=g.lG2({type:v,selectors:[["","routerLinkActive",""]],contentQueries:function(D,F,W){if(1&D&&g.Suo(W,xe,5),2&D){let ge;g.iGM(ge=g.CRH())&&(F.links=ge)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[g.TTD]})}return v})();class Lt{}let tn=(()=>{class v{constructor(y,D,F,W,ge){this.router=y,this.injector=F,this.preloadingStrategy=W,this.loader=ge}setUpPreloading(){this.subscription=this.router.events.pipe((0,at.h)(y=>y instanceof ei),(0,qn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,D){const F=[];for(const W of D){W.providers&&!W._injector&&(W._injector=(0,g.MMx)(W.providers,y,`Route: ${W.path}`));const ge=W._injector??y,Qe=W._loadedInjector??ge;(W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent)&&F.push(this.preloadConfig(ge,W)),(W.children||W._loadedRoutes)&&F.push(this.processRoutes(Qe,W.children??W._loadedRoutes))}return(0,o.D)(F).pipe((0,Qt.J)())}preloadConfig(y,D){return this.preloadingStrategy.preload(D,()=>{let F;F=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(y,D):(0,K.of)(null);const W=F.pipe((0,Je.z)(ge=>null===ge?(0,K.of)(void 0):(D._loadedRoutes=ge.routes,D._loadedInjector=ge.injector,this.processRoutes(ge.injector??y,ge.routes))));if(D.loadComponent&&!D._loadedComponent){const ge=this.loader.loadComponent(D);return(0,o.D)([W,ge]).pipe((0,Qt.J)())}return W})}static#e=this.\u0275fac=function(D){return new(D||v)(g.LFG(V),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Lt),g.LFG(Ge))};static#t=this.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const Ht=new g.OlP("");let Kt=(()=>{class v{constructor(y,D,F,W,ge={}){this.urlSerializer=y,this.transitions=D,this.viewportScroller=F,this.zone=W,this.options=ge,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ge.scrollPositionRestoration=ge.scrollPositionRestoration||"disabled",ge.anchorScrolling=ge.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Er?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof ei?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof Dr&&0===y.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof pr&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,D){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pr(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(D){g.$Z()};static#t=this.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac})}return v})();function Dn(v,w){return{\u0275kind:v,\u0275providers:w}}function pi(){const v=(0,g.f3M)(g.zs3);return w=>{const y=v.get(g.z2F);if(w!==y.components[0])return;const D=v.get(V),F=v.get(Cr);1===v.get(Hi)&&D.initialNavigation(),v.get(rn,null,g.XFs.Optional)?.setUpPreloading(),v.get(Ht,null,g.XFs.Optional)?.init(),D.resetRootComponentType(y.componentTypes[0]),F.closed||(F.next(),F.complete(),F.unsubscribe())}}const Cr=new g.OlP("",{factory:()=>new ue.x}),Hi=new g.OlP("",{providedIn:"root",factory:()=>1}),rn=new g.OlP("");function Rs(v){return Dn(0,[{provide:rn,useExisting:tn},{provide:Lt,useExisting:v}])}const Do=new g.OlP("ROUTER_FORROOT_GUARD"),Mr=[Le.Ye,{provide:Qo,useClass:Pi},V,Io,{provide:Di,useFactory:function Qn(v){return v.routerState.root},deps:[V]},Ge,[]];function gi(){return new g.PXZ("Router",V)}let Sr=(()=>{class v{constructor(y){}static forRoot(y,D){return{ngModule:v,providers:[Mr,[],{provide:me,multi:!0,useValue:y},{provide:Do,useFactory:gn,deps:[[V,new g.FiY,new g.tp0]]},{provide:Jn,useValue:D||{}},D?.useHash?{provide:Le.S$,useClass:Le.Do}:{provide:Le.S$,useClass:Le.b0},{provide:Ht,useFactory:()=>{const v=(0,g.f3M)(Le.EM),w=(0,g.f3M)(g.R0b),y=(0,g.f3M)(Jn),D=(0,g.f3M)(Xn),F=(0,g.f3M)(Qo);return y.scrollOffset&&v.setOffset(y.scrollOffset),new Kt(F,D,v,w,y)}},D?.preloadingStrategy?Rs(D.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:gi},D?.initialNavigation?Xr(D):[],D?.bindToComponentInputs?Dn(8,[Ft,{provide:Yn,useExisting:Ft}]).\u0275providers:[],[{provide:zi,useFactory:pi},{provide:g.tb,multi:!0,useExisting:zi}]]}}static forChild(y){return{ngModule:v,providers:[{provide:me,multi:!0,useValue:y}]}}static#e=this.\u0275fac=function(D){return new(D||v)(g.LFG(Do,8))};static#t=this.\u0275mod=g.oAB({type:v});static#n=this.\u0275inj=g.cJS({})}return v})();function gn(v){return"guarded"}function Xr(v){return["disabled"===v.initialNavigation?Dn(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const w=(0,g.f3M)(V);return()=>{w.setUpLocationChangeListener()}}},{provide:Hi,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?Dn(2,[{provide:Hi,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:w=>{const y=w.get(Le.V_,Promise.resolve());return()=>y.then(()=>new Promise(D=>{const F=w.get(V),W=w.get(Cr);Yo(F,()=>{D(!0)}),w.get(Xn).afterPreactivation=()=>(D(!0),W.closed?(0,K.of)(void 0):W),F.initialNavigation()}))}}]).\u0275providers:[]]}const zi=new g.OlP("")},5861:(Fe,De,O)=>{"use strict";function g(X,J,o,K,ne,be,ae){try{var oe=X[be](ae),se=oe.value}catch(U){return void o(U)}oe.done?J(se):Promise.resolve(se).then(K,ne)}function B(X){return function(){var J=this,o=arguments;return new Promise(function(K,ne){var be=X.apply(J,o);function ae(se){g(be,K,ne,ae,oe,"next",se)}function oe(se){g(be,K,ne,ae,oe,"throw",se)}ae(void 0)})}}O.d(De,{Z:()=>B})},7582:(Fe,De,O)=>{"use strict";function U(je,Se,Xe,et){return new(Xe||(Xe=Promise))(function(yt,Zt){function on(Un){try{Qt(et.next(Un))}catch(Vt){Zt(Vt)}}function Bn(Un){try{Qt(et.throw(Un))}catch(Vt){Zt(Vt)}}function Qt(Un){Un.done?yt(Un.value):function mt(yt){return yt instanceof Xe?yt:new Xe(function(Zt){Zt(yt)})}(Un.value).then(on,Bn)}Qt((et=et.apply(je,Se||[])).next())})}function de(je){return this instanceof de?(this.v=je,this):new de(je)}function ue(je,Se,Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt,et=Xe.apply(je,Se||[]),yt=[];return mt={},Zt("next"),Zt("throw"),Zt("return"),mt[Symbol.asyncIterator]=function(){return this},mt;function Zt(fe){et[fe]&&(mt[fe]=function(Ue){return new Promise(function(pt,dt){yt.push([fe,Ue,pt,dt])>1||on(fe,Ue)})})}function on(fe,Ue){try{!function Bn(fe){fe.value instanceof de?Promise.resolve(fe.value.v).then(Qt,Un):Vt(yt[0][2],fe)}(et[fe](Ue))}catch(pt){Vt(yt[0][3],pt)}}function Qt(fe){on("next",fe)}function Un(fe){on("throw",fe)}function Vt(fe,Ue){fe(Ue),yt.shift(),yt.length&&on(yt[0][0],yt[0][1])}}function pe(je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Se=je[Symbol.asyncIterator];return Se?Se.call(je):(je=function Ke(je){var Se="function"==typeof Symbol&&Symbol.iterator,Xe=Se&&je[Se],et=0;if(Xe)return Xe.call(je);if(je&&"number"==typeof je.length)return{next:function(){return je&&et>=je.length&&(je=void 0),{value:je&&je[et++],done:!je}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(je),Xe={},et("next"),et("throw"),et("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe);function et(yt){Xe[yt]=je[yt]&&function(Zt){return new Promise(function(on,Bn){!function mt(yt,Zt,on,Bn){Promise.resolve(Bn).then(function(Qt){yt({value:Qt,done:on})},Zt)}(on,Bn,(Zt=je[yt](Zt)).done,Zt.value)})}}}O.d(De,{FC:()=>ue,KL:()=>pe,mG:()=>U,qq:()=>de}),"function"==typeof SuppressedError&&SuppressedError}},Fe=>{Fe(Fe.s=2242)}]);